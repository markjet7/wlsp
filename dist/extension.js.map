{"version":3,"sources":[".././node_modules/@shelacek/ubjson/dist/ubjson.es.js",".././node_modules/abort-controller/dist/abort-controller.js",".././node_modules/balanced-match/index.js",".././node_modules/brace-expansion/index.js",".././node_modules/concat-map/index.js",".././node_modules/duplexer/index.js",".././node_modules/event-stream/index.js",".././node_modules/event-target-shim/dist/event-target-shim.js",".././node_modules/find-free-port/index.js",".././node_modules/from/index.js",".././node_modules/lru-cache/index.js",".././node_modules/map-stream/index.js",".././node_modules/minimatch/minimatch.js",".././node_modules/pause-stream/index.js",".././node_modules/ps-tree/index.js",".././node_modules/split/index.js",".././node_modules/stream-combiner/index.js",".././node_modules/through/index.js",".././src/clients.ts",".././src/dataPanel.ts",".././src/notebook.ts",".././src/notebookController.ts",".././src/plotsView.ts",".././src/scriptController.ts",".././src/treeDataProvider.ts",".././node_modules/vscode-LanguageClient/lib/common/api.js",".././node_modules/vscode-LanguageClient/lib/common/callHierarchy.js",".././node_modules/vscode-LanguageClient/lib/common/client.js",".././node_modules/vscode-LanguageClient/lib/common/codeAction.js",".././node_modules/vscode-LanguageClient/lib/common/codeConverter.js",".././node_modules/vscode-LanguageClient/lib/common/codeLens.js",".././node_modules/vscode-LanguageClient/lib/common/colorProvider.js",".././node_modules/vscode-LanguageClient/lib/common/completion.js",".././node_modules/vscode-LanguageClient/lib/common/configuration.js",".././node_modules/vscode-LanguageClient/lib/common/declaration.js",".././node_modules/vscode-LanguageClient/lib/common/definition.js",".././node_modules/vscode-LanguageClient/lib/common/diagnostic.js",".././node_modules/vscode-LanguageClient/lib/common/documentHighlight.js",".././node_modules/vscode-LanguageClient/lib/common/documentLink.js",".././node_modules/vscode-LanguageClient/lib/common/documentSymbol.js",".././node_modules/vscode-LanguageClient/lib/common/executeCommand.js",".././node_modules/vscode-LanguageClient/lib/common/features.js",".././node_modules/vscode-LanguageClient/lib/common/fileOperations.js",".././node_modules/vscode-LanguageClient/lib/common/fileSystemWatcher.js",".././node_modules/vscode-LanguageClient/lib/common/foldingRange.js",".././node_modules/vscode-LanguageClient/lib/common/formatting.js",".././node_modules/vscode-LanguageClient/lib/common/hover.js",".././node_modules/vscode-LanguageClient/lib/common/implementation.js",".././node_modules/vscode-LanguageClient/lib/common/inlayHint.js",".././node_modules/vscode-LanguageClient/lib/common/inlineValue.js",".././node_modules/vscode-LanguageClient/lib/common/linkedEditingRange.js",".././node_modules/vscode-LanguageClient/lib/common/notebook.js",".././node_modules/vscode-LanguageClient/lib/common/progress.js",".././node_modules/vscode-LanguageClient/lib/common/progressPart.js",".././node_modules/vscode-LanguageClient/lib/common/protocolCallHierarchyItem.js",".././node_modules/vscode-LanguageClient/lib/common/protocolCodeAction.js",".././node_modules/vscode-LanguageClient/lib/common/protocolCodeLens.js",".././node_modules/vscode-LanguageClient/lib/common/protocolCompletionItem.js",".././node_modules/vscode-LanguageClient/lib/common/protocolConverter.js",".././node_modules/vscode-LanguageClient/lib/common/protocolDiagnostic.js",".././node_modules/vscode-LanguageClient/lib/common/protocolDocumentLink.js",".././node_modules/vscode-LanguageClient/lib/common/protocolInlayHint.js",".././node_modules/vscode-LanguageClient/lib/common/protocolTypeHierarchyItem.js",".././node_modules/vscode-LanguageClient/lib/common/protocolWorkspaceSymbol.js",".././node_modules/vscode-LanguageClient/lib/common/reference.js",".././node_modules/vscode-LanguageClient/lib/common/rename.js",".././node_modules/vscode-LanguageClient/lib/common/selectionRange.js",".././node_modules/vscode-LanguageClient/lib/common/semanticTokens.js",".././node_modules/vscode-LanguageClient/lib/common/signatureHelp.js",".././node_modules/vscode-LanguageClient/lib/common/textSynchronization.js",".././node_modules/vscode-LanguageClient/lib/common/typeDefinition.js",".././node_modules/vscode-LanguageClient/lib/common/typeHierarchy.js",".././node_modules/vscode-LanguageClient/lib/common/utils/async.js",".././node_modules/vscode-LanguageClient/lib/common/utils/is.js",".././node_modules/vscode-LanguageClient/lib/common/utils/uuid.js",".././node_modules/vscode-LanguageClient/lib/common/workspaceFolder.js",".././node_modules/vscode-LanguageClient/lib/common/workspaceSymbol.js",".././node_modules/vscode-LanguageClient/lib/node/main.js",".././node_modules/vscode-LanguageClient/lib/node/processes.js",".././node_modules/vscode-LanguageClient/node.js",".././node_modules/vscode-LanguageClient/node_modules/semver/classes/comparator.js",".././node_modules/vscode-LanguageClient/node_modules/semver/classes/range.js",".././node_modules/vscode-LanguageClient/node_modules/semver/classes/semver.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/clean.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/cmp.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/coerce.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/compare-build.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/compare-loose.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/compare.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/diff.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/eq.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/gt.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/gte.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/inc.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/lt.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/lte.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/major.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/minor.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/neq.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/parse.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/patch.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/prerelease.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/rcompare.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/rsort.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/satisfies.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/sort.js",".././node_modules/vscode-LanguageClient/node_modules/semver/functions/valid.js",".././node_modules/vscode-LanguageClient/node_modules/semver/index.js",".././node_modules/vscode-LanguageClient/node_modules/semver/internal/constants.js",".././node_modules/vscode-LanguageClient/node_modules/semver/internal/debug.js",".././node_modules/vscode-LanguageClient/node_modules/semver/internal/identifiers.js",".././node_modules/vscode-LanguageClient/node_modules/semver/internal/parse-options.js",".././node_modules/vscode-LanguageClient/node_modules/semver/internal/re.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/gtr.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/intersects.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/ltr.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/max-satisfying.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/min-satisfying.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/min-version.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/outside.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/simplify.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/subset.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/to-comparators.js",".././node_modules/vscode-LanguageClient/node_modules/semver/ranges/valid.js",".././node_modules/vscode-languageserver-protocol/lib/common/api.js",".././node_modules/vscode-languageserver-protocol/lib/common/connection.js",".././node_modules/vscode-languageserver-protocol/lib/common/messages.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js",".././node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js",".././node_modules/vscode-languageserver-protocol/lib/common/utils/is.js",".././node_modules/vscode-languageserver-protocol/lib/node/main.js",".././node_modules/vscode-languageserver-protocol/node.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/api.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/cancellation.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/connection.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/disposable.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/events.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/is.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/linkedMap.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/messageReader.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/messageWriter.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/messages.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/ral.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/common/semaphore.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/node/main.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/node/ril.js",".././node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/node.js",".././node_modules/vscode-languageserver-types/lib/esm/main.js",".././node_modules/yallist/iterator.js",".././node_modules/yallist/yallist.js","../external \"buffer\"","../external \"child_process\"","../external \"crypto\"","../external \"fs\"","../external \"net\"","../external \"os\"","../external \"path\"","../external \"stream\"","../external \"string_decoder\"","../external \"util\"","../external \"vscode\"","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object",".././src/extension.ts"],"names":["t","arguments","length","this","r","TextEncoder","e","reduce","byteLength","s","Uint8Array","n","array","view","DataView","buffer","i","storer","charCodeAt","h","setInt8","encode","a","setUint8","setInt16","setInt32","setFloat32","setFloat64","c","u","Number","isInteger","isNaN","Math","fround","Array","isArray","ArrayBuffer","isView","Error","optimizeArrays","constructor","name","concat","o","from","map","type","value","d","Object","entries","key","optimizeObjects","push","l","y","some","min","indexOf","set","f","TextDecoder","w","p","A","_","I","getInt8","getUint8","getInt16","getInt32","U","int64Handling","getFloat32","getFloat64","b","highPrecisionNumberHandling","String","fromCharCode","k","T","g","v","count","D","fill","useTypedArrays","S","C","Int16Array","Int32Array","Float32Array","Float64Array","Int8Array","decode","m","defineProperty","exports","eventTargetShim","AbortSignal","EventTarget","super","TypeError","aborted","abortedFlags","get","defineEventAttribute","prototype","WeakMap","defineProperties","enumerable","Symbol","toStringTag","configurable","AbortController","signals","signal","create","call","createAbortSignal","getSignal","dispatchEvent","controller","abort","default","module","balanced","str","RegExp","maybeMatch","range","start","end","pre","slice","body","post","reg","match","begs","beg","left","right","result","ai","bi","pop","concatMap","substr","expand","split","join","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","random","numeric","parseInt","parseCommaParts","parts","postParts","shift","apply","embrace","isPadded","el","test","lte","gte","isTop","expansions","isNumericSequence","isAlphaSequence","isSequence","isOptions","N","x","width","max","incr","abs","pad","need","z","j","expansion","xs","fn","res","toString","Stream","writeMethods","readMethods","readEvents","forEach","arr","writer","reader","stream","ended","methodName","emit","func","on","args","unshift","reemit","writable","readable","err","es","through","duplex","pause","pipeline","immediately","global","setImmediate","process","nextTick","connect","pipe","merge","toMerge","setMaxListeners","endCount","write","data","destroy","writeArray","done","isDone","readArray","paused","resume","continueOnError","reading","mapSync","sync","mappedData","undefined","log","console","error","child","stdin","stdout","parse","options","emitError","obj","JSON","stringify","Buffer","isBuffer","replace","to","wait","first","callback","pipeable","privateData","wrappers","pd","event","retv","assert","setCancelFlag","passiveListener","cancelable","canceled","preventDefault","Event","eventTarget","eventPhase","currentTarget","stopped","immediateStopped","timeStamp","Date","now","keys","defineRedirectDescriptor","defineCallDescriptor","getWrapper","proto","wrapper","BaseEvent","CustomEvent","isFunc","getOwnPropertyDescriptor","defineWrapper","getPrototypeOf","isStopped","setPassiveListener","stopPropagation","stopImmediatePropagation","Boolean","bubbles","composed","cancelBubble","window","setPrototypeOf","listenersMap","isObject","getListeners","listeners","eventTargetPrototype","eventName","node","listenerType","listener","next","prev","delete","newNode","passive","once","defineEventAttributeDescriptor","defineCustomEventTarget","eventNames","CustomEventTarget","types","Map","optionsIsObj","capture","wrappedEvent","wrapEvent","handleEvent","setEventPhase","setCurrentTarget","defaultPrevented","net","findFreePort","rest","cb","ip","cnt","retcb","probe","port","createConnection","host","onprobe","nextPort","Promise","resolve","reject","ports","source","source_index","source_len","started","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","self","doUse","hit","isStale","del","unshiftNode","maxAge","diff","trim","walker","tail","removeNode","Entry","forEachStep","thisp","Infinity","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","allowStale","mA","lC","head","toArray","filter","len","has","item","expiresAt","mapper","opts","inputs","outputs","destroyed","lastWritten","inNext","errorEventName","failures","writeQueue","queueData","number","nextToWrite","hasOwnProperty","dataToWrite","written","input","minimatch","Minimatch","path","sep","er","GLOBSTAR","plTypes","open","close","qmark","star","reSpecials","slashSplit","ext","pattern","nocomment","charAt","regexp","negate","comment","empty","make","braceExpand","nobrace","list","defaults","def","orig","debug","_made","parseNegate","globSet","globParts","si","negateOffset","nonegate","isSub","noglobstar","stateChar","re","hasMagic","nocase","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","clearStateChar","noext","reStart","pl","reEnd","cs","substring","sp","SUBPARSE","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","flags","regExp","_glob","_src","makeRe","twoStar","ex","mm","nonull","partial","filename","file","matchBase","matchOne","flipNegate","fi","pi","fl","fr","pr","swallowee","toLowerCase","spawn","normalizeHeader","platform","pid","processLister","headers","line","columns","row","ps","parents","children","proc","PPID","PID","Decoder","matcher","decoder","soFar","maxLength","piece","queue","pieces","duplexer","streams","last","thepipe","recurse","onerror","_ended","drain","_end","autoDestroy","fp","wolframStatusBar","vscode","createStatusBarItem","StatusBarAlignment","Left","wolframVersionText","fs","lspPath","kernelPath","context","outputChannel","clientPort","kernelPort","cursorFile","clients","processes","wolfram","wolframKernel","updateConfiguration","workspace","getConfiguration","restart","wolframBusyQ","evaluationQueue","client","stop","stopWolfram","startWLSP","startWLSPKernel","textDocuments","didOpenTextDocument","onclientReady","checkClient","wolframClient","initializeResult","onNotification","updatePositions","updateLintDecorations","handleFailedRequest","sendRequest","then","text","treeDataProvider","getBuiltins","setTimeout","context0","outputChannel0","asAbsolutePath","extensionPath","command","show","onDidChangeTextDocument","didChangeTextDocument","scriptserializer","WolframScriptSerializer","notebookSerializer","WolframNotebookSerializer","notebookcontroller","WolframNotebookController","scriptController","WolframScriptController","subscriptions","registerNotebookSerializer","commands","registerCommand","runInWolfram","printInWolfram","runTextCell","startWolframTerminal","runInTerminal","help","stringHelp","textToSection","textFromSection","createFile","createNotebook","createNotebookScript","showOutput","showPlots","runExpression","clearResults","showTrace","onDidOpenTextDocument","onDidSaveTextDocument","didSaveTextDocument","onDidChangeConfiguration","onDidChangeTextEditorSelection","didChangeSelection","onDidChangeWindowState","didChangeWindowState","workspaceSymbolProvider","registerTreeDataProvider","onDidChangeWorkspaceFolders","folder","removed","uri","added","sendNotification","promises","values","all","temporaryDir","onkernelReady","checkKernel","wolframKernelClient","wolframBusy","updateVarTable","pulse","errorMessages","activeTextEditor","workspacefolder","getWorkspaceFolder","document","findFiles","getSymbols","printResults","updateOutputPanel","movePositions","params","variableTable","vars","readFile","updatedVariables","runningLines","cursorLocations","decorateRunningLine","outputPosition","decorationLine","lineAt","Position","lineNumber","character","Range","setDecorations","runningDecorationType","editorDecorations","splice","variableDecorationType","starttime","print","trace","sel","selection","save","top","bottom","active","lineCount","edit","editBuilder","insert","Selection","revealRange","TextEditorRevealType","Default","moveCursor","output","plotsPanel","visible","evaluationData","textDocument","sendToWolfram","scheme","withProgress","location","ProgressLocation","Window","title","cancellable","prog","token","onCancellationRequested","ev","appendLine","visibleTextEditors","readFileSync","includes","backgroundColor","hoverMessage","startChar","decoration","MarkdownString","isTrusted","supportHtml","updateResults","refresh","onRunInWolfram","outputPanel","outputColumn","viewColumn","reveal","createWebviewPanel","preserveFocus","enableScripts","webview","html","getOutputContent","extensionUri","onDidReceiveMessage","message","onDidDispose","localResourceRoots","Uri","retainContextWhenHidden","showPlotPanel","expression","busy","workspaceDecorations","workspaceLintDecorations","newDecorations","decorationfile","editor","editorLintDecorations","lintDecorationType","createTextEditorDecorationType","light","color","ThemeColor","dark","rangeBehavior","DecorationRangeBehavior","ClosedClosed","blockDecorationType","fontWeight","overviewRulerColor","overviewRulerLane","OverviewRulerLane","Right","out","postMessage","id","timeout","serverOptions","socket","Socket","retries","clearTimeout","code","showErrorMessage","freePort","load","setKeepAlive","clientOptions","documentSelector","diagnosticCollectionName","LanguageClient","toLocaleTimeString","markdown","executablePath","cp","detached","client_process","exec","stderr","cursorBlock0","cursorBlock","newrunninglines","newEditorDecorations","doc","languageId","isUntitled","size","clearDecorations","openTextDocument","showTextDocument","openNotebookDocument","state","focused","cmd","activeWolframTerminal","createTerminal","activeTerminal","selections","sendText","getText","txt","url","string","lines","newlines","editbuilder","trimRight","getTime","toolkitUri","pathList","asWebviewUri","joinPath","getUri","cspSource","raw","cells","content","_token","contents","mretry","getCells","kind","metadata","attempts","NotebookData","NotebookCellData","outs","NotebookCellOutput","NotebookCellOutputItem","cell","language","fileName","viewType","isDirty","languages","_wolframClient","mapping","preloadScript","displayOrders","nextExecutionOrder","version","contentOptions","transientOutputs","transientMetadata","controllerId","notebookType","label","supportedLanguages","_executionOrder","_controller","notebooks","createNotebookController","supportsExecutionOrder","executeHandler","_execute","bind","_notebook","_doExecution","notebook","NotebookCellKind","Code","execution","executionSummary","executionOrder","executionId","createNotebookCellExecution","abortCtl","replaceOutput","isCancellationRequested","executions","_context","interruptHandler","_interrupt","TreeItem","TreeItemCollapsibleState","None","Collapsed","lazyload","builtins","workspace_items","_onDidChangeTreeData","EventEmitter","onDidChangeTreeData","cancelChildrenToken","letters","builtinsymbols","symbol","tooltip","definition","letter","startsWith","fire","symbols","getFolderFiles","readdirSync","withFileTypes","extname","basename","resourceUri","iconPath","ThemeIcon","isDirectory","folders","workspaceFolders","fsPath","collapsibleState","Expanded","newSymbols","icon","symbolToTreeItem","element","tokenSource","CancellationTokenSource","cancel","newItem","preview","__createBinding","k2","desc","__esModule","__exportStar","DiagnosticPullMode","vsdiag","diagnostic_1","CallHierarchyFeature","vscode_1","vscode_languageserver_protocol_1","features_1","CallHierarchyProvider","middleware","position","prepareCallHierarchy","code2ProtocolConverter","asTextDocumentPositionParams","CallHierarchyPrepareRequest","protocol2CodeConverter","asCallHierarchyItems","provideCallHierarchyIncomingCalls","asCallHierarchyItem","CallHierarchyIncomingCallsRequest","asCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","CallHierarchyOutgoingCallsRequest","asCallHierarchyOutgoingCalls","TextDocumentLanguageFeature","cap","capabilities","ensure","dynamicRegistration","getRegistration","callHierarchyProvider","register","registerOptions","_client","provider","registerCallHierarchyProvider","asDocumentSelector","ProposedFeatures","BaseLanguageClient","MessageTransports","SuspendMode","State","CloseAction","ErrorAction","RevealOutputChannelOn","c2p","p2c","Is","async_1","UUID","progressPart_1","notebook_1","configuration_1","textSynchronization_1","completion_1","hover_1","definition_1","signatureHelp_1","documentHighlight_1","documentSymbol_1","workspaceSymbol_1","reference_1","codeAction_1","codeLens_1","formatting_1","rename_1","documentLink_1","executeCommand_1","fileSystemWatcher_1","colorProvider_1","configuration_2","implementation_1","typeDefinition_1","workspaceFolder_1","foldingRange_1","declaration_1","selectionRange_1","progress_1","callHierarchy_1","semanticTokens_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","ClientState","DefaultErrorHandler","maxRestartCount","restarts","_error","_message","action","Continue","Shutdown","Restart","DoNotRestart","is","MessageReader","MessageWriter","_traceFormat","TraceFormat","Text","_diagnosticQueue","_diagnosticQueueState","_features","_dynamicFeatures","workspaceEditLock","Semaphore","_id","_name","_clientOptions","synchronize","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","progressOnInitialization","errorHandler","createDefaultErrorHandler","connectionOptions","uriConverters","workspaceFolder","diagnosticPullOptions","onChange","onSave","notebookDocumentOptions","_state","Initial","_ignoredRegistrations","Set","_notificationHandlers","_pendingNotificationHandlers","_notificationDisposables","_requestHandlers","_pendingRequestHandlers","_requestDisposables","_progressHandlers","_pendingProgressHandlers","_progressDisposables","_connection","_initializeResult","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_diagnostics","_fileEvents","_fileEventDelayer","Delayer","_onStop","_telemetryEmitter","Emitter","_stateChangeEmitter","_trace","Trace","Off","_tracer","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","_syncedDocuments","registerBuiltinFeatures","createOutputChannel","getPublicState","oldState","newState","$state","Starting","Running","Stopped","StartFailed","Stopping","ResponseError","ErrorCodes","ConnectionInactive","connection","$start","forceDocumentSync","method","handler","activeConnection","disposable","onRequest","sendProgress","handleWorkDoneProgress","realHandler","WorkDoneProgress","onProgress","traceFormat","responseError","stack","showNotification","data2String","Info","showNotificationMessage","MessageType","Warn","Warning","showWarningMessage","showInformationMessage","isLSPMessage","append","_onStart","promise","createOnStartPromise","createDiagnosticCollection","LogMessageNotification","warn","info","ShowMessageNotification","ShowMessageRequest","messageFunc","actions","TelemetryEventNotification","ShowDocumentRequest","async","showDocument","asUri","external","success","env","openExternal","asRange","takeFocus","listen","initialize","_resolve","_reject","refreshTrace","initOption","rootPath","_clientGetRootPath","initParams","processId","clientInfo","appName","locale","getLocale","rootUri","computeClientCapabilities","fillInitializeParams","doInitialize","generateUuid","part","ProgressPart","workDoneToken","positionEncoding","PositionEncodingKind","UTF16","textDocumentSyncOptions","textDocumentSync","TextDocumentSyncKind","openClose","change","includeText","_capabilities","assign","resolvedTextDocumentSync","PublishDiagnosticsNotification","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","clear","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","shutdown","mode","cleanUp","tp","RAL","timer","exit","race","finally","cleanUpChannel","feature","entry","reverse","_idleInterval","didChangeWatchedFile","trigger","DidChangeWatchedFilesNotification","changes","workSpaceMiddleware","catch","_didChangeTextDocumentFeature","DidChangeTextDocumentNotification","forceDelivery","diagnostics","triggerDiagnosticQueue","workDiagnosticQueue","asDiagnostics","converted","setDiagnostics","transports","createMessageTransports","closeHandler","_lastUsed","logger","ConsoleLogger","createProtocolConnection","onError","onClose","resetLastUsed","hasPendingResponse","tracer","sendNotificationOrTraceOptions","defaultTraceOptions","boolean","InitializeRequest","ShutdownRequest","ExitNotification","handleConnectionError","handleConnectionClosed","handlerResult","closed","config","traceConfig","fromString","watchers","fileEvents","registerRaw","features","registerFeature","DynamicFeature","registrationType","request","getFeature","NotebookDocumentSyncRegistrationType","NotebookDocumentSyncFeature","handles","ConfigurationFeature","DidOpenTextDocumentFeature","DidChangeTextDocumentFeature","WillSaveFeature","WillSaveWaitUntilFeature","DidSaveTextDocumentFeature","DidCloseTextDocumentFeature","FileSystemWatcherFeature","notifyFileEvent","CompletionItemFeature","HoverFeature","SignatureHelpFeature","DefinitionFeature","ReferencesFeature","DocumentHighlightFeature","DocumentSymbolFeature","WorkspaceSymbolFeature","CodeActionFeature","CodeLensFeature","DocumentFormattingFeature","DocumentRangeFormattingFeature","DocumentOnTypeFormattingFeature","RenameFeature","DocumentLinkFeature","ExecuteCommandFeature","SyncConfigurationFeature","TypeDefinitionFeature","ImplementationFeature","ColorProviderFeature","WorkspaceFoldersFeature","FoldingRangeFeature","DeclarationFeature","SelectionRangeFeature","ProgressFeature","SemanticTokensFeature","LinkedEditingFeature","DidCreateFilesFeature","DidRenameFilesFeature","DidDeleteFilesFeature","WillCreateFilesFeature","WillRenameFilesFeature","WillDeleteFilesFeature","TypeHierarchyFeature","InlineValueFeature","InlayHintsFeature","DiagnosticFeature","registerFeatures","createAll","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Create","Rename","Delete","failureHandling","FailureHandlingKind","TextOnlyTransactional","normalizesLineEndings","changeAnnotationSupport","groupsOnLabel","relatedInformation","versionSupport","tagSupport","valueSet","DiagnosticTag","Unnecessary","Deprecated","codeDescriptionSupport","dataSupport","windowCapabilities","messageActionItem","additionalPropertiesSupport","support","generalCapabilities","staleRequestSupport","retryOnContentModified","RequestsToCancelOnContentModified","regularExpressions","engine","parser","positionEncodings","allowedTags","fillClientCapabilities","preInitialize","isRunning","registration","registrations","add","unregistration","unregisterations","unregister","lock","asWorkspaceEdit","openTextDocuments","versionMismatch","TextDocumentEdit","applied","asPromise","defaultValue","PendingResponseRejected","LSPErrorCodes","RequestCancelled","ServerCancelled","LSPCancellationError","CancellationError","ContentModified","SemanticTokensRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","CodeActionRequest","isPreferredSupport","disabledSupport","resolveSupport","properties","codeActionLiteralSupport","codeActionKind","CodeActionKind","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","honorsChangeAnnotations","getRegistrationOptions","codeActionProvider","selector","provideCodeActions","_provideCodeActions","asTextDocumentIdentifier","asCodeActionContext","asCodeActionResult","resolveCodeAction","resolveProvider","CodeActionResolveRequest","asCodeAction","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","asCodeActionKinds","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","protocolCodeAction_1","protocolDiagnostic_1","protocolCallHierarchyItem_1","protocolTypeHierarchyItem_1","protocolWorkspaceSymbol_1","protocolInlayHint_1","InsertReplaceRange","candidate","inserting","replacing","uriConverter","_uriConverter","asTextDocumentItem","asTextDocumentSaveReason","reason","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","asCompletionTriggerKind","triggerKind","CompletionTriggerKind","TriggerCharacter","TriggerForIncompleteCompletions","Invoked","asSignatureHelpTriggerKind","SignatureHelpTriggerKind","Invoke","ContentChange","asParameterInformation","asSignatureInformation","parameters","asWorkerPosition","asPosition","uinteger","MAX_VALUE","asLocation","Location","asDiagnosticSeverity","DiagnosticSeverity","Information","Hint","asDiagnosticTag","tag","asRelatedInformation","asDiagnostic","Diagnostic","protocolDiagnostic","ProtocolDiagnostic","target","asDiagnosticCode","DiagnosticCode","hasDiagnosticCode","codeDescription","href","severity","tags","asDiagnosticTags","items","asCompletionItemTag","CompletionItemTag","asTextEdit","newText","asTextEdits","edits","asSymbolKind","SymbolKind","TypeParameter","Property","asSymbolTag","asSymbolTags","asCommand","Command","asInlayHintLabelPart","InlayHintLabelPart","asTooltip","MarkupKind","Markdown","asVersionedTextDocumentIdentifier","asOpenTextDocumentParams","asChangeTextDocumentParams","arg","isTextDocument","contentChanges","isTextDocumentChangeEvent","rangeLength","asCloseTextDocumentParams","asSaveTextDocumentParams","includeContent","asWillSaveTextDocumentParams","asDidCreateFilesParams","files","fileUri","asDidRenameFilesParams","oldUri","newUri","asDidDeleteFilesParams","asWillCreateFilesParams","asWillRenameFilesParams","asWillDeleteFilesParams","asCompletionParams","triggerCharacter","asSignatureHelpParams","isRetrigger","activeSignatureHelp","signatures","activeSignature","activeParameter","asPositions","asCompletionItem","labelDetailsSupport","labelDetails","detail","description","protocolItem","original","documentation","documentationFormat","format","PlainText","asDocumentation","filterText","InsertTextFormat","textEdit","insertText","SnippetString","Snippet","insertTextFormat","fromEdit","InsertReplaceEdit","asCompletionTextEdit","fillPrimaryInsertText","originalItemKind","sortText","additionalTextEdits","commitCharacters","preselect","asCompletionItemTags","deprecated","index","insertTextMode","keepWhitespace","InsertTextMode","adjustIndentation","asReferenceParams","includeDeclaration","CodeAction","asCodeActionKind","isPreferred","disabled","only","CodeActionContext","CodeActionTriggerKind","Automatic","asCodeActionTriggerKind","asInlineValueContext","InlineValueContext","frameId","stoppedLocation","asCodeLens","CodeLens","asFormattingOptions","fileOptions","tabSize","insertSpaces","trimTrailingWhitespace","trimFinalNewlines","insertFinalNewline","asDocumentSymbolParams","asCodeLensParams","asDocumentLink","DocumentLink","asDocumentLinkParams","selectionRange","asTypeHierarchyItem","asInlayHint","InlayHint","textEdits","paddingLeft","paddingRight","asWorkspaceSymbol","hasRange","containerName","CodeLensRequest","refreshSupport","CodeLensRefreshRequest","getAllProviders","onDidChangeCodeLensEmitter","codeLensProvider","eventEmitter","onDidChangeCodeLenses","provideCodeLenses","asCodeLenses","resolveCodeLens","codeLens","CodeLensResolveRequest","registerCodeLensProvider","DocumentColorRequest","colorProvider","provideColorPresentations","requestParams","ColorPresentationRequest","asColorPresentations","provideDocumentColors","asColorInformations","registerColorProvider","SupportedCompletionItemKinds","CompletionItemKind","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Unit","Value","Enum","Keyword","Color","File","Reference","Folder","EnumMember","Constant","Struct","Operator","CompletionRequest","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","deprecatedSupport","preselectSupport","insertReplaceSupport","insertTextModeSupport","asIs","completionItemKind","completionList","itemDefaults","completionProvider","triggerCharacters","defaultCommitCharacters","allCommitCharacters","provideCompletionItems","asCompletionResult","provideCompletionItem","resolveCompletionItem","CompletionResolveRequest","registerCompletionItemProvider","toJSONObject","configuration","ConfigurationRequest","resource","scopeUri","section","lastIndexOf","_listeners","DidChangeConfigurationNotification","configurationSection","sections","affectsConfiguration","didChangeConfiguration","settings","extractSettingsInformation","ensurePath","current","DeclarationRequest","declarationSupport","linkSupport","declarationProvider","provideDeclaration","asDeclarationResult","registerProvider","registerDeclarationProvider","DefinitionRequest","definitionSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","uuid_1","RequestStateKind","PullState","DocumentDiagnosticReportKind","Tabs","openTabsHandler","group","tabGroups","tab","tabs","TabInputText","TabInputTextDiff","modified","onDidChangeTabGroups","DocumentPullStateTracker","documentPullStates","workspacePullStates","arg1","states","pulledVersion","resultId","arg2","DiagnosticRequestor","isDisposed","onDidChangeDiagnosticsEmitter","createProvider","identifier","openRequests","documentStates","workspaceErrorCounter","tracks","pullAsync","isUri","currentRequestState","documentState","track","report","afterState","provideDiagnostics","full","DiagnosticServerCancellationData","retriggerRequest","outDated","reschedule","isVisible","unTrack","pull","workspaceDiagnostics","interFileDependencies","pullWorkspaceAsync","workspaceTimeout","pullWorkspace","provideWorkspaceDiagnostics","workspaceCancellation","previousResultIds","getAllResultIds","chunk","update","onDidChangeDiagnostics","previousResultId","DocumentDiagnosticRequest","Full","unChanged","resultIds","resultReporter","convertReport","convertPreviousResultIds","partialResultToken","WorkspaceDiagnosticRequest","partialResult","BackgroundScheduler","diagnosticRequestor","documents","LinkedMap","Touch","Last","endDocument","intervalHandle","setInterval","DiagnosticFeatureProviderImpl","disposables","matches","TextDocumentFilter","matchResource","isActiveDocument","activeTextDocument","backgroundScheduler","addToBackgroundIfNeeded","onDidChangeActiveTextEditor","oldActive","remove","openFeature","DidOpenTextDocumentNotification","onNotificationSent","pullTextDocuments","onTabs","getTabResources","changeFeature","onType","knows","saveFeature","DidSaveTextDocumentNotification","closeFeature","DidCloseTextDocumentNotification","cleanupPull","Disposable","capability","relatedDocumentSupport","DiagnosticRefreshRequest","diagnosticProvider","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentLinkRequest","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinks","resolveDocumentLink","link","DocumentLinkResolveRequest","registerDocumentLinkProvider","SupportedSymbolTags","SupportedSymbolKinds","Namespace","Package","Key","Null","SymbolTag","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","labelSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","DocumentSymbol","asDocumentSymbols","asSymbolInformations","metaData","registerDocumentSymbolProvider","_commands","ExecuteCommandRequest","executeCommandProvider","executeCommand","WorkspaceFeature","TextDocumentEventFeature","DynamicDocumentFeature","StaticFeature","getState","selectors","getDocumentSelectors","createParams","selectorFilter","_event","_type","_middleware","_createParams","_textDocument","_selectorFilter","_selectors","_onNotificationSent","_listener","doSend","notificationSent","hasDedicatedTextSynchronizationFeature","send","_registrationType","_registrations","registerLanguageProvider","TextDocumentRegistrationOptions","StaticRegistrationOptions","hasId","WorkDoneProgressOptions","FileOperationFeature","clientCapability","serverCapability","_clientCapability","_serverCapability","_filters","fileOperations","filters","minimatchFilter","glob","asMinimatchOptions","getFileType","prop","fileMatches","fileType","FileType","FileOperationPatternKind","Directory","stat","ignoreCase","NotificationFileOperationFeature","notificationType","accessUri","_notificationType","_accessUri","originalEvent","filteredEvent","CachingNotificationFileOperationFeature","_fsPathFileTypes","filterSize","_willListener","onDidCreateFiles","DidCreateFilesNotification","didCreateFiles","onDidRenameFiles","DidRenameFilesNotification","onWillRenameFiles","willRename","waitUntil","cacheFileTypes","clearFileTypeCache","didRenameFiles","onDidDeleteFiles","DidDeleteFilesNotification","onWillDeleteFiles","willDelete","didDeleteFiles","RequestFileOperationFeature","requestType","_requestType","onWillCreateFiles","WillCreateFilesRequest","willCreateFiles","WillRenameFilesRequest","willRenameFiles","WillDeleteFilesRequest","willDeleteFiles","_notifyFileEvent","_watchers","relativePatternSupport","_documentSelector","watcher","globPattern","asGlobPattern","watchCreate","watchChange","watchDelete","WatchKind","Change","fileSystemWatcher","createFileSystemWatcher","hookListeners","fileSystemWatchers","onDidCreate","FileChangeType","Created","onDidChange","Changed","onDidDelete","Deleted","FoldingRangeRequest","rangeLimit","lineFoldingOnly","foldingRangeKind","FoldingRangeKind","Comment","Imports","Region","foldingRange","collapsedText","foldingRangeProvider","provideFoldingRanges","asFoldingRanges","registerFoldingRangeProvider","FileFormattingOptions","fromConfiguration","filesConfig","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","registerDocumentFormattingEditProvider","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","ch","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asHover","registerHoverProvider","ImplementationRequest","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","InlayHintRequest","inlayHint","InlayHintRefreshRequest","onDidChangeInlayHints","inlayHintProvider","provideInlayHints","viewPort","asInlayHints","resolveInlayHint","hint","InlayHintResolveRequest","registerInlayHintsProvider","InlineValueRequest","InlineValueRefreshRequest","onDidChangeInlineValues","inlineValueProvider","provideInlineValues","asInlineValues","registerInlineValuesProvider","LinkedEditingRangeRequest","linkedEditingRangeProvider","provideLinkedEditingRanges","provideLinkedEditing","asLinkedEditingRanges","provideLinkedEditingRange","registerLinkedEditingRangeProvider","Converter","$NotebookCell","$NotebookDocumentFilter","$NotebookDocumentSyncOptions","SyncInfo","asNotebookCells","base","asNotebookCell","asMetadata","deepCopy","NotebookCell","Markup","asNotebookCellKind","seen","elem","props","asVersionedNotebookDocumentIdentifier","notebookDocument","asNotebookDocument","NotebookDocument","asTextContentChange","asNotebookDocumentChangeEvent","changedCells","structure","deleteCount","didOpen","didClose","textContent","equals","one","other","compareMetaData","startTime","endTime","equalsTiming","timing","equalsExecution","equalsMetadata","oneArray","otherArray","isObjectLiteral","oneKeys","otherKeys","sort","computeDiff","originalCells","modifiedCells","compareMetadata","originalLength","modifiedLength","startIndex","originalEndIndex","modifiedEndIndex","newCells","matchNotebook","asDocumentFilter","notebookSelector","uris","NotebookDocumentSyncFeatureProvider","notebookSyncInfo","notebookDidOpen","onDidOpenNotebookDocument","notebookDocuments","onDidChangeNotebookDocument","didChangeNotebookDocument","onDidSaveNotebookDocument","didSave","onDidCloseNotebookDocument","getMatchingCells","syncInfo","cellMatches","cellIsSynced","matchingCells","doSendChange","doSendOpen","cellUri","findIndex","doSendClose","deleted","newEvent","doSendSave","syncedCells","nb","cellDocuments","DidOpenNotebookDocumentNotification","cellTextDocuments","DidChangeNotebookDocumentNotification","didChange","DidSaveNotebookDocumentNotification","DidCloseNotebookDocumentNotification","matchingCellsSet","cellChanges","cellChange","oldCells","addedCells","removedCells","filtered","filterCells","cellSelector","cellLanguage","CellScheme","notebookCell","findNotebookDocumentAndCell","didOpenNotebookCellTextDocument","didChangeNotebookCellTextDocument","onDidCloseTextDocument","didCloseNotebookCellTextDocument","synchronization","executionSummarySupport","notebookDocumentSync","dedicatedChannel","activeParts","WorkDoneProgressCreateRequest","workDoneProgress","deleteHandler","_reported","_infinite","_lspProgressDisposable","begin","percentage","progress","cancellationToken","_progress","_cancellationToken","_tokenDisposable","WorkDoneProgressCancelNotification","delta","increment","cleanup","ProtocolCallHierarchyItem","CallHierarchyItem","ProtocolCodeAction","ProtocolCodeLens","ProtocolCompletionItem","CompletionItem","ls","CodeBlock","trustMarkdown","diagnostic","CodeDescription","diagnosticCode","DiagnosticRelatedInformation","asRanges","asMarkdownString","appendText","defaultRange","defaultInsertTextMode","defaultInsertTextFormat","defaultData","CompletionItemLabelDetails","asCompletionItemLabel","textEditText","asCompletionInsertText","itemKind","asTextEditsSync","stringArray","TextEdit","asSignatureInformations","mapAsync","SignatureInformation","asParameterInformations","ParameterInformation","asLocationLink","targetUri","targetRange","originSelectionRange","targetSelectionRange","asLocationResult","LocationLink","links","locations","asDocumentHighlight","DocumentHighlight","asDocumentHighlightKind","DocumentHighlightKind","Read","Write","asSymbolInformation","SymbolInformation","fillTags","asDocumentSymbol","kindMapping","asDiagnosticsSync","sharedMetadata","changeAnnotations","annotation","needsConfirmation","asWorkspaceEditEntryMetadata","WorkspaceEdit","CreateFile","annotationId","RenameFile","renameFile","DeleteFile","deleteFile","AnnotatedTextEdit","asColor","red","green","blue","alpha","asColorInformation","ci","ColorInformation","asColorPresentation","presentation","ColorPresentation","asFoldingRangeKind","asFoldingRange","FoldingRange","startLine","endLine","asSelectionRange","SelectionRange","parent","asInlineValue","inlineValue","InlineValueText","InlineValueVariableLookup","variableName","caseSensitiveLookup","InlineValueEvaluatableExpression","asCallHierarchyIncomingCall","CallHierarchyIncomingCall","fromRanges","asCallHierarchyOutgoingCall","CallHierarchyOutgoingCall","asSemanticTokensEdit","SemanticTokensEdit","Uint32Array","NotebookCellTextDocumentFilter","hover","Hover","appendCodeblock","appendMarkdown","asHoverContent","rangeDefaults","editRange","getCompletionItemDefaults","CompletionList","isIncomplete","asSignatureHelp","SignatureHelp","asReferences","asCommands","foldingRanges","colorInformation","colorPresentations","asSelectionRanges","selectionRanges","inlineValues","asSemanticTokensLegend","asSemanticTokens","SemanticTokens","asSemanticTokensEdits","SemanticTokensEdits","LinkedEditingRanges","ranges","asRegularExpression","wordPattern","asTypeHierarchyItems","RelativePattern","URI","baseUri","WorkspaceFolder","ProtocolDocumentLink","ProtocolInlayHint","ProtocolTypeHierarchyItem","TypeHierarchyItem","WorkspaceSymbol","locationOrUri","ReferencesRequest","referencesProvider","provideReferences","_providerReferences","registerReferenceProvider","RenameRequest","rename","prepareSupport","prepareSupportDefaultBehavior","PrepareSupportDefaultBehavior","Identifier","renameProvider","prepareProvider","provideRenameEdits","newName","prepareRename","PrepareRenameRequest","isDefaultBehavior","defaultBehavior","placeholder","registerRenameProvider","SelectionRangeRequest","selectionRangeProvider","provideSelectionRanges","positions","registerSelectionRangeProvider","SemanticTokensRegistrationType","tokenTypes","SemanticTokenTypes","namespace","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","function","macro","keyword","modifier","operator","decorator","tokenModifiers","SemanticTokenModifiers","declaration","readonly","static","abstract","modification","defaultLibrary","formats","TokenFormat","Relative","requests","multilineTokenSupport","overlappingTokenSupport","serverCancelSupport","augmentsSyntaxTokens","SemanticTokensRefreshRequest","onDidChangeSemanticTokensEmitter","semanticTokensProvider","fullProvider","hasEditProvider","documentProvider","onDidChangeSemanticTokens","provideDocumentSemanticTokens","provideDocumentSemanticTokensEdits","rangeProvider","provideDocumentRangeSemanticTokens","legend","registerDocumentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","SignatureHelpRequest","signatureInformation","parameterInformation","labelOffsetSupport","activeParameterSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","retriggerCharacters","registerSignatureHelpProvider","syncedDocuments","textDocumentFilter","_forcingDelivery","_changeData","syncKind","changeData","Incremental","_changeDelayer","delayer","changeEvent","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","vEdits","_includeText","saveOptions","TypeDefinitionRequest","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","TypeHierarchyProvider","prepareTypeHierarchy","TypeHierarchyPrepareRequest","provideTypeHierarchySupertypes","TypeHierarchySupertypesRequest","provideTypeHierarchySubtypes","TypeHierarchySubtypesRequest","typeHierarchyProvider","registerTypeHierarchyProvider","defaultDelay","completionPromise","onSuccess","task","delay","cancelTimeout","capacity","_capacity","_active","_waiting","thunk","runNext","doRunNext","Timer","yieldAfter","counter","total","counterInterval","timeTaken","timeLeft","convertBatch","shouldYield","yieldCallback","runBatch","thenable","typedArray","every","check","resolved","isUUID","v4","ValueUUID","_value","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","floor","_chars","_UUIDPattern","arrayDiff","access","DidChangeWorkspaceFoldersNotification","initializeWithFolders","asProtocol","currentWorkspaceFolders","_initialFolders","WorkspaceFoldersRequest","doSendEvent","addedFolders","removedFolders","didChangeWorkspaceFolders","sendInitialEvent","WorkspaceSymbolRequest","provideWorkspaceSymbols","query","resolveWorkspaceSymbol","WorkspaceSymbolResolveRequest","registerWorkspaceSymbolProvider","SettingMonitor","TransportKind","SemVer","client_1","processes_1","node_1","Transport","Executable","NodeModule","StreamInfo","ChildProcessInfo","isSocket","arg3","arg4","arg5","forceDebug","_serverOptions","_forceDebug","_isInDebugMode","checkVersion","codeVersion","prerelease","satisfies","isInDebugMode","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","kill","terminate","encoding","getEnvironment","fork","debugStartWith","debugEquals","assertStdio","server","StreamMessageReader","StreamMessageWriter","json","runDebug","run","execArgv","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","transport","stdio","runtime","pipeName","ipc","generateRandomPipeName","cwd","silent","IPCMessageReader","IPCMessageWriter","createClientPipeTransport","onConnected","protocol","createClientSocketTransport","execOptions","_getRuntimePath","serverProcess","handleChildProcessStartError","serverWorkingDirectory","isAbsolute","mainRootPath","_mainGetRootPath","existsSync","lstat","stats","envValue","_setting","needsStop","primary","enabled","needsStart","path_1","isWindows","isMacintosh","isLinux","execFileSync","__dirname","spawnSync","ANY","Comparator","comp","parseOptions","loose","semver","COMPARATORLOOSE","COMPARATOR","cmp","includePrerelease","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","parseRange","isNullSet","isAny","comps","memoKey","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","rangeList","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","parseComparator","replaceGTE0","rangeMap","comparators","thisComparators","isSatisfiable","rangeComparators","thisComparator","rangeComparator","intersects","testSet","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","M","ret","replaceCaret","CARETLOOSE","CARET","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fpr","fb","tM","tm","tpr","tb","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","compareIdentifiers","LOOSE","FULL","num","build","compareMain","comparePre","release","inc","eq","neq","gt","lt","op","rtl","COERCERTL","lastIndex","COERCE","versionA","versionB","compare","compareBuild","version1","version2","v1","v2","hasPre","prefix","defaultResult","parsed","internalRe","src","tokens","SEMVER_SPEC_VERSION","rcompareIdentifiers","valid","clean","rcompare","compareLoose","rsort","coerce","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","MAX_SAFE_COMPONENT_LENGTH","NODE_DEBUG","anum","bnum","R","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","simplified","simpleSubset","sub","dom","eqSet","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","connection_1","lspReservedErrorRangeStart","RequestFailed","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ConnectionStrategy","connectionStrategy","createMessageConnection","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","RequestType0","RequestType","ParameterStructures","byName","NotificationType0","NotificationType","messages_1","Unchanged","ProgressType","TextDocumentContentChangeEvent","InitializeErrorCodes","DocumentSelector","NotebookDocumentFilter","MonikerRequest","MonikerKind","UniquenessLevel","NotebookCellArrayChange","ExecutionSummary","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","objectLiteral","Abort","Transactional","Undo","UTF8","UTF32","hasWorkDoneProgress","unknownProtocolVersion","Log","isIncremental","isFull","project","$import","$export","local","DocumentUri","two","integer","SetTraceNotification","ProgressToken","NullLogger","ConnectionOptions","WriteableStreamMessageWriter","AbstractMessageWriter","ReadableStreamMessageReader","AbstractMessageReader","CancellationToken","LRUCache","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","Message","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","linkedMap_1","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","ral_1","freeze","Cancelled","shortcutEvent","handle","MutableToken","_isCancelled","_emitter","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","Messages","Compact","Verbose","cancelUndispatched","createCancellationTokenSource","sendCancellation","conn","receiver","sender","cancellationStrategy","messageReader","messageWriter","_logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","messageQueue","responsePromises","knownCanceledRequests","requestTokens","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","isListening","Listening","isClosed","Closed","Disposed","triggerMessageQueue","isRequest","requestMessage","reply","resultOrError","jsonrpc","toJson","traceSendingResponse","replyError","stringifyTrace","logLSPMessage","traceReceivedRequest","requestHandler","tokenKey","cancellationSource","numberOfParams","InvalidParams","parameterStructures","byPosition","InternalError","replySuccess","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","responseHandler","handleInvalidMessage","processMessageQueue","toCancel","strategy","response","addMessageToQueue","lspMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onUnhandledProgress","throwIfNotListening","traceSendingRequest","MessageWriteError","_sendNotification","onUnhandledNotification","onDispose","AlreadyListening","throwIfListening","inspect","verbose","_disposable","CallbackList","bucket","_callbacks","_contexts","foundCallbackWithDifferentContext","callbacks","contexts","_options","thisArgs","onFirstListenerAdd","isEmpty","_noop","onLastListenerRemove","invoke","_a","First","AsOld","AsNew","_map","_head","_tail","_size","touch","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","iterator","newSize","currentSize","limit","ratio","_limit","_ratio","checkTrim","trimOld","round","AbstractMessageBuffer","_encoding","_chunks","_totalLength","toAppend","chunkIndex","offset","chunkBytesRead","_read","header","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","asError","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","applicationJson","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","partialMessageTimer","onData","fireError","fireClose","tryReadHeaders","contentLength","tryReadBody","setPartialMessageTimer","clearPartialMessageTimer","msg","firePartialMessage","waitingTime","semaphore_1","ResolvedMessageWriterOptions","contentTypeEncoder","encoder","contentEncoder","errorCount","writeSemaphore","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","_parameterStructures","_ral","install","ral","createServerSocketTransport","createServerPipeTransport","SocketMessageWriter","SocketMessageReader","ril_1","api_1","os","crypto_1","net_1","off","asReadableStream","asWritableStream","readble","XDG_RUNTIME_DIR","safeIpcPathLengths","randomSuffix","randomBytes","tmpdir","connectResolve","connected","createServer","removeListener","read","addListener","isReadableStream","isWritableStream","util_1","messageBuffer_1","MessageBuffer","allocUnsafe","ReadableStreamWrapper","WritableStreamWrapper","_ril","ms","clearImmediate","clearInterval","RIL","ChangeAnnotation","ChangeAnnotationIdentifier","MIN_VALUE","three","four","defined","numberRange","startCharacter","endCharacter","_i","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","recursive","ignoreIfNotExists","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupContent","MarkedString","FormattingOptions","InlayHintKind","TextEditChangeImpl","assertChangeAnnotations","manage","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","WorkspaceChange","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","optionsOrAnnotation","operation","fromPlainText","plainText","SourceFixAll","kindOrCommandOrEdit","checkKind","Type","Parameter","TextDocument","EOL","mergeSort","leftIdx","rightIdx","FullTextDocument","positionAt","offsetAt","applyEdits","sortedEdits","lastModifiedOffset","startOffset","endOffset","_uri","_languageId","_version","_content","_lineOffsets","getLineOffsets","lineOffsets","isLineStart","mid","lineOffset","nextLineOffset","Node","pushNode","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","sliceReverse","nodes","inserted","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","willsaveDocument","endsWith","startLanguageServer"],"mappings":"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","file":"extension.js","sourcesContent":["class t{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.t=t,this.r=new(\"undefined\"!=typeof TextEncoder?TextEncoder:require(\"util\").TextEncoder)}encode(t){const r=this.e(t),e=r.reduce((t,r)=>t+r.byteLength,0),s=new Uint8Array(e),n={array:s,view:new DataView(s.buffer)};let i=0;for(const t of r)t.storer(n,i),i+=t.byteLength;return s.buffer}e(t){const r=this.s(t);return[this.n(r),...this.i(t,r)]}i(t,r){let e,s;switch(r){case\"C\":return e=t.charCodeAt(),[this.h((t,r)=>t.view.setInt8(r,e),1)];case\"S\":return s=this.r.encode(t),[...this.e(s.byteLength),this.a(s)];case\"i\":return[this.h((r,e)=>r.view.setInt8(e,t),1)];case\"U\":return[this.h((r,e)=>r.view.setUint8(e,t),1)];case\"I\":return[this.h((r,e)=>r.view.setInt16(e,t),2)];case\"l\":return[this.h((r,e)=>r.view.setInt32(e,t),4)];case\"d\":return[this.h((r,e)=>r.view.setFloat32(e,t),4)];case\"D\":return[this.h((r,e)=>r.view.setFloat64(e,t),8)];case\"[\":return this.c(t);case\"{\":return this.u(t)}return[]}s(t){if(null===t)return\"Z\";switch(typeof t){case\"undefined\":return\"N\";case\"boolean\":return t?\"T\":\"F\";case\"string\":return 1===t.length&&t.charCodeAt()<=127?\"C\":\"S\";case\"number\":if(Number.isInteger(t)){if(-128<=t&&t<=127)return\"i\";if(0<=t&&t<=255)return\"U\";if(-32768<=t&&t<=32767)return\"I\";if(-2147483648<=t&&t<=2147483647)return\"l\"}return Number.isNaN(t)||Math.fround(t)===t?\"d\":\"D\";case\"object\":return Array.isArray(t)||ArrayBuffer.isView(t)?\"[\":\"{\"}throw Error(\"Value cannot be serialized\")}c(t){let r;if((!0===this.t.optimizeArrays||\"onlyTypedArrays\"===this.t.optimizeArrays)&&ArrayBuffer.isView(t))switch(t.constructor.name){case\"Int8Array\":return[].concat(this.o(\"i\",t.length),this.a(t));case\"Uint8Array\":return[].concat(this.o(\"U\",t.length),this.a(t));case\"Int16Array\":r=\"I\";break;case\"Int32Array\":r=\"l\";break;case\"Float32Array\":r=\"d\";break;case\"Float64Array\":r=\"D\"}const e=(Array.isArray(t)?t:Array.from(t)).map(t=>({type:r||this.s(t),value:t}));return this.d(e,\"]\",r||!0===this.t.optimizeArrays)}u(t){const r=Object.entries(t).map(t=>({key:t[0],type:this.s(t[1]),value:t[1]}));return this.d(r,\"}\",!0===this.t.optimizeObjects)}o(t,r){const e=[];return null!=r&&(t&&e.push(this.n(\"$\"),this.n(t)),e.push(this.n(\"#\"),...this.e(r))),e}d(t,r,e){let s,n;e&&(t.length&&(s=this.l(t)),n=t.length);const i=this.o(s,n);for(const r of t)r.key&&i.push(...this.i(r.key,\"S\")),!s&&i.push(this.n(r.type)),i.push(...this.i(r.value,s||r.type));return null==n&&i.push(this.n(r)),i}l(t){const r=t.map(t=>t.type).reduce(this.y);return\"U\"===r&&t.some(t=>t.value<0)?\"I\":r}y(t,r){if(t===r)return t;if(!t)return null;const e=e=>e[Math.min(e.indexOf(t),e.indexOf(r))];return e(\"Dd\")||e(\"SC\")||e(\"lIUi\")}n(t){return this.h((r,e)=>r.view.setInt8(e,t.charCodeAt()),1)}a(t){return this.h((r,e)=>r.array.set(t,e),t.byteLength)}h(t,r){return{storer:t,byteLength:r}}}class r{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.t=t,this.f=new(\"undefined\"!=typeof TextDecoder?TextDecoder:require(\"util\").TextDecoder)}decode(t){const r=new Uint8Array(t),e=new DataView(r.buffer);return this.w={array:r,view:e},this.p=0,this.A()}A(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._(!1)){case\"Z\":return null;case\"N\":return;case\"T\":return!0;case\"F\":return!1;case\"i\":return this.I((t,r)=>t.view.getInt8(r),1);case\"U\":return this.I((t,r)=>t.view.getUint8(r),1);case\"I\":return this.I((t,r)=>t.view.getInt16(r),2);case\"l\":return this.I((t,r)=>t.view.getInt32(r),4);case\"L\":return this.U(8,this.t.int64Handling,!0);case\"d\":return this.I((t,r)=>t.view.getFloat32(r),4);case\"D\":return this.I((t,r)=>t.view.getFloat64(r),8);case\"H\":return this.U(this.b(),this.t.highPrecisionNumberHandling,!1);case\"C\":return String.fromCharCode(this.A(\"i\"));case\"S\":return this.k(this.b());case\"[\":return this.T();case\"{\":return this.g()}throw Error(\"Unexpected type\")}D(){let t,r;switch(this._(!0)){case\"$\":if(this.v(),t=this._(!1),\"#\"!==this._(!0))throw Error(\"Expected count marker\");case\"#\":this.v(),r=this.b()}return{type:t,count:r}}T(){const t=this.D(),r=t.type,e=t.count;if(-1!==\"ZTF\".indexOf(r))return Array(e).fill(this.A(r));if(this.t.useTypedArrays)switch(r){case\"i\":return this.S(e);case\"U\":return this.C(e);case\"I\":return Int16Array.from({length:e},()=>this.A(r));case\"l\":return Int32Array.from({length:e},()=>this.A(r));case\"d\":return Float32Array.from({length:e},()=>this.A(r));case\"D\":return Float64Array.from({length:e},()=>this.A(r))}if(null!=e){const t=Array(e);for(let s=0;s<e;s++)t[s]=this.A(r);return t}{const t=[];for(;\"]\"!==this._(!0);)t.push(this.A());return this.v(),t}}g(){const t=this.D(),r=t.type,e=t.count,s={};if(null!=e)for(let t=0;t<e;t++)s[this.A(\"S\")]=this.A(r);else{for(;\"}\"!==this._(!0);)s[this.A(\"S\")]=this.A();this.v()}return s}b(){const t=this.A();if(Number.isInteger(t)&&t>=0)return t;throw Error(\"Invalid length/count\")}U(t,r,e){switch(r){case\"skip\":return void this.v(t);case\"raw\":return e?this.C(t):this.k(t)}throw Error(\"Unsuported type\")}C(t){return this.I((r,e)=>{let s=r.array;return new Uint8Array(s.buffer,e,t)},t)}S(t){return this.I((r,e)=>{let s=r.array;return new Int8Array(s.buffer,e,t)},t)}k(t){return this.I((r,e)=>{let s=r.array;return this.f.decode(new DataView(s.buffer,e,t))},t)}v(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.m(t),this.p+=t}_(t){const r=this.w,e=r.array,s=r.view;let n=\"N\";for(;\"N\"===n&&this.p<e.byteLength;)n=String.fromCharCode(s.getInt8(this.p++));return t&&this.p--,n}I(t,r){this.m(r);const e=t(this.w,this.p);return this.p+=r,e}m(t){if(this.p+t>this.w.array.byteLength)throw Error(\"Unexpected EOF\")}}function e(r,e){return new t(e).encode(r)}function s(t,e){return new r(e).decode(t)}const n={encode:e,decode:s};export{t as UbjsonEncoder,r as UbjsonDecoder,e as encode,s as decode,n as Ubjson};\n//# sourceMappingURL=ubjson.es.js.map\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar eventTargetShim = require('event-target-shim');\n\n/**\n * The signal class.\n * @see https://dom.spec.whatwg.org/#abortsignal\n */\nclass AbortSignal extends eventTargetShim.EventTarget {\n    /**\n     * AbortSignal cannot be constructed directly.\n     */\n    constructor() {\n        super();\n        throw new TypeError(\"AbortSignal cannot be constructed directly\");\n    }\n    /**\n     * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.\n     */\n    get aborted() {\n        const aborted = abortedFlags.get(this);\n        if (typeof aborted !== \"boolean\") {\n            throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this === null ? \"null\" : typeof this}`);\n        }\n        return aborted;\n    }\n}\neventTargetShim.defineEventAttribute(AbortSignal.prototype, \"abort\");\n/**\n * Create an AbortSignal object.\n */\nfunction createAbortSignal() {\n    const signal = Object.create(AbortSignal.prototype);\n    eventTargetShim.EventTarget.call(signal);\n    abortedFlags.set(signal, false);\n    return signal;\n}\n/**\n * Abort a given signal.\n */\nfunction abortSignal(signal) {\n    if (abortedFlags.get(signal) !== false) {\n        return;\n    }\n    abortedFlags.set(signal, true);\n    signal.dispatchEvent({ type: \"abort\" });\n}\n/**\n * Aborted flag for each instances.\n */\nconst abortedFlags = new WeakMap();\n// Properties should be enumerable.\nObject.defineProperties(AbortSignal.prototype, {\n    aborted: { enumerable: true },\n});\n// `toString()` should return `\"[object AbortSignal]\"`\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortSignal\",\n    });\n}\n\n/**\n * The AbortController.\n * @see https://dom.spec.whatwg.org/#abortcontroller\n */\nclass AbortController {\n    /**\n     * Initialize this controller.\n     */\n    constructor() {\n        signals.set(this, createAbortSignal());\n    }\n    /**\n     * Returns the `AbortSignal` object associated with this object.\n     */\n    get signal() {\n        return getSignal(this);\n    }\n    /**\n     * Abort and signal to any observers that the associated activity is to be aborted.\n     */\n    abort() {\n        abortSignal(getSignal(this));\n    }\n}\n/**\n * Associated signals.\n */\nconst signals = new WeakMap();\n/**\n * Get the associated signal of a given controller.\n */\nfunction getSignal(controller) {\n    const signal = signals.get(controller);\n    if (signal == null) {\n        throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${controller === null ? \"null\" : typeof controller}`);\n    }\n    return signal;\n}\n// Properties should be enumerable.\nObject.defineProperties(AbortController.prototype, {\n    signal: { enumerable: true },\n    abort: { enumerable: true },\n});\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortController.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortController\",\n    });\n}\n\nexports.AbortController = AbortController;\nexports.AbortSignal = AbortSignal;\nexports.default = AbortController;\n\nmodule.exports = AbortController\nmodule.exports.AbortController = module.exports[\"default\"] = AbortController\nmodule.exports.AbortSignal = AbortSignal\n//# sourceMappingURL=abort-controller.js.map\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","var Stream = require(\"stream\")\nvar writeMethods = [\"write\", \"end\", \"destroy\"]\nvar readMethods = [\"resume\", \"pause\"]\nvar readEvents = [\"data\", \"close\"]\nvar slice = Array.prototype.slice\n\nmodule.exports = duplex\n\nfunction forEach (arr, fn) {\n    if (arr.forEach) {\n        return arr.forEach(fn)\n    }\n\n    for (var i = 0; i < arr.length; i++) {\n        fn(arr[i], i)\n    }\n}\n\nfunction duplex(writer, reader) {\n    var stream = new Stream()\n    var ended = false\n\n    forEach(writeMethods, proxyWriter)\n\n    forEach(readMethods, proxyReader)\n\n    forEach(readEvents, proxyStream)\n\n    reader.on(\"end\", handleEnd)\n\n    writer.on(\"drain\", function() {\n      stream.emit(\"drain\")\n    })\n\n    writer.on(\"error\", reemit)\n    reader.on(\"error\", reemit)\n\n    stream.writable = writer.writable\n    stream.readable = reader.readable\n\n    return stream\n\n    function proxyWriter(methodName) {\n        stream[methodName] = method\n\n        function method() {\n            return writer[methodName].apply(writer, arguments)\n        }\n    }\n\n    function proxyReader(methodName) {\n        stream[methodName] = method\n\n        function method() {\n            stream.emit(methodName)\n            var func = reader[methodName]\n            if (func) {\n                return func.apply(reader, arguments)\n            }\n            reader.emit(methodName)\n        }\n    }\n\n    function proxyStream(methodName) {\n        reader.on(methodName, reemit)\n\n        function reemit() {\n            var args = slice.call(arguments)\n            args.unshift(methodName)\n            stream.emit.apply(stream, args)\n        }\n    }\n\n    function handleEnd() {\n        if (ended) {\n            return\n        }\n        ended = true\n        var args = slice.call(arguments)\n        args.unshift(\"end\")\n        stream.emit.apply(stream, args)\n    }\n\n    function reemit(err) {\n        stream.emit(\"error\", err)\n    }\n}\n","//filter will reemit the data if cb(err,pass) pass is truthy\n\n// reduce is more tricky\n// maybe we want to group the reductions or emit progress updates occasionally\n// the most basic reduce just emits one 'data' event after it has recieved 'end'\n\nvar Stream = require('stream').Stream\n  , es = exports\n  , through = require('through')\n  , from = require('from')\n  , duplex = require('duplexer')\n  , map = require('map-stream')\n  , pause = require('pause-stream')\n  , split = require('split')\n  , pipeline = require('stream-combiner')\n  , immediately = global.setImmediate || process.nextTick;\n\nes.Stream = Stream //re-export Stream from core\nes.through = through\nes.from = from\nes.duplex = duplex\nes.map = map\nes.pause = pause\nes.split = split\nes.pipeline = es.connect = es.pipe = pipeline\n// merge / concat\n//\n// combine multiple streams into a single stream.\n// will emit end only once\n\nes.concat = //actually this should be called concat\nes.merge = function (/*streams...*/) {\n  var toMerge = [].slice.call(arguments)\n  if (toMerge.length === 1 && (toMerge[0] instanceof Array)) {\n    toMerge = toMerge[0] //handle array as arguments object\n  }\n  var stream = new Stream()\n  stream.setMaxListeners(0) // allow adding more than 11 streams\n  var endCount = 0\n  stream.writable = stream.readable = true\n\n  if (toMerge.length) {\n    toMerge.forEach(function (e) {\n      e.pipe(stream, {end: false})\n      var ended = false\n      e.on('end', function () {\n        if(ended) return\n        ended = true\n        endCount ++\n        if(endCount == toMerge.length)\n          stream.emit('end')\n      })\n    })\n  } else {\n    process.nextTick(function () {\n      stream.emit('end')\n    })\n  }\n  \n  stream.write = function (data) {\n    this.emit('data', data)\n  }\n  stream.destroy = function () {\n    toMerge.forEach(function (e) {\n      if(e.destroy) e.destroy()\n    })\n  }\n  return stream\n}\n\n\n// writable stream, collects all events into an array\n// and calls back when 'end' occurs\n// mainly I'm using this to test the other functions\n\nes.writeArray = function (done) {\n  if ('function' !== typeof done)\n    throw new Error('function writeArray (done): done must be function')\n\n  var a = new Stream ()\n    , array = [], isDone = false\n  a.write = function (l) {\n    array.push(l)\n  }\n  a.end = function () {\n    isDone = true\n    done(null, array)\n  }\n  a.writable = true\n  a.readable = false\n  a.destroy = function () {\n    a.writable = a.readable = false\n    if(isDone) return\n    done(new Error('destroyed before end'), array)\n  }\n  return a\n}\n\n//return a Stream that reads the properties of an object\n//respecting pause() and resume()\n\nes.readArray = function (array) {\n  var stream = new Stream()\n    , i = 0\n    , paused = false\n    , ended = false\n\n  stream.readable = true\n  stream.writable = false\n\n  if(!Array.isArray(array))\n    throw new Error('event-stream.read expects an array')\n\n  stream.resume = function () {\n    if(ended) return\n    paused = false\n    var l = array.length\n    while(i < l && !paused && !ended) {\n      stream.emit('data', array[i++])\n    }\n    if(i == l && !ended)\n      ended = true, stream.readable = false, stream.emit('end')\n  }\n  process.nextTick(stream.resume)\n  stream.pause = function () {\n     paused = true\n  }\n  stream.destroy = function () {\n    ended = true\n    stream.emit('close')\n  }\n  return stream\n}\n\n//\n// readable (asyncFunction)\n// return a stream that calls an async function while the stream is not paused.\n//\n// the function must take: (count, callback) {...\n//\n\nes.readable =\nfunction (func, continueOnError) {\n  var stream = new Stream()\n    , i = 0\n    , paused = false\n    , ended = false\n    , reading = false\n\n  stream.readable = true\n  stream.writable = false\n\n  if('function' !== typeof func)\n    throw new Error('event-stream.readable expects async function')\n\n  stream.on('end', function () { ended = true })\n\n  function get (err, data) {\n\n    if(err) {\n      stream.emit('error', err)\n      if(!continueOnError) stream.emit('end')\n    } else if (arguments.length > 1)\n      stream.emit('data', data)\n\n    immediately(function () {\n      if(ended || paused || reading) return\n      try {\n        reading = true\n        func.call(stream, i++, function () {\n          reading = false\n          get.apply(null, arguments)\n        })\n      } catch (err) {\n        stream.emit('error', err)\n      }\n    })\n  }\n  stream.resume = function () {\n    paused = false\n    get()\n  }\n  process.nextTick(get)\n  stream.pause = function () {\n     paused = true\n  }\n  stream.destroy = function () {\n    stream.emit('end')\n    stream.emit('close')\n    ended = true\n  }\n  return stream\n}\n\n\n//\n// map sync\n//\n\nes.mapSync = function (sync) {\n  return es.through(function write(data) {\n    var mappedData\n    try {\n      mappedData = sync(data)\n    } catch (err) {\n      return this.emit('error', err)\n    }\n    if (mappedData !== undefined)\n      this.emit('data', mappedData)\n  })\n}\n\n//\n// log just print out what is coming through the stream, for debugging\n//\n\nes.log = function (name) {\n  return es.through(function (data) {\n    var args = [].slice.call(arguments)\n    if(name) console.error(name, data)\n    else     console.error(data)\n    this.emit('data', data)\n  })\n}\n\n\n//\n// child -- pipe through a child process\n//\n\nes.child = function (child) {\n\n  return es.duplex(child.stdin, child.stdout)\n\n}\n\n//\n// parse\n//\n// must be used after es.split() to ensure that each chunk represents a line\n// source.pipe(es.split()).pipe(es.parse())\n\nes.parse = function (options) {\n  var emitError = !!(options ? options.error : false)\n  return es.through(function (data) {\n    var obj\n    try {\n      if(data) //ignore empty lines\n        obj = JSON.parse(data.toString())\n    } catch (err) {\n      if (emitError)\n        return this.emit('error', err)\n      return console.error(err, 'attempting to parse:', data)\n    }\n    //ignore lines that where only whitespace.\n    if(obj !== undefined)\n      this.emit('data', obj)\n  })\n}\n//\n// stringify\n//\n\nes.stringify = function () {\n  var Buffer = require('buffer').Buffer\n  return es.mapSync(function (e){\n    return JSON.stringify(Buffer.isBuffer(e) ? e.toString() : e) + '\\n'\n  })\n}\n\n//\n// replace a string within a stream.\n//\n// warn: just concatenates the string and then does str.split().join().\n// probably not optimal.\n// for smallish responses, who cares?\n// I need this for shadow-npm so it's only relatively small json files.\n\nes.replace = function (from, to) {\n  return es.pipeline(es.split(from), es.join(to))\n}\n\n//\n// join chunks with a joiner. just like Array#join\n// also accepts a callback that is passed the chunks appended together\n// this is still supported for legacy reasons.\n//\n\nes.join = function (str) {\n\n  //legacy api\n  if('function' === typeof str)\n    return es.wait(str)\n\n  var first = true\n  return es.through(function (data) {\n    if(!first)\n      this.emit('data', str)\n    first = false\n    this.emit('data', data)\n    return true\n  })\n}\n\n\n//\n// wait. callback when 'end' is emitted, with all chunks appended as string.\n//\n\nes.wait = function (callback) {\n  var arr = []\n  return es.through(function (data) { arr.push(data) },\n    function () {\n      var body = Buffer.isBuffer(arr[0]) ? Buffer.concat(arr)\n        : arr.join('')\n      this.emit('data', body)\n      this.emit('end')\n      if(callback) callback(null, body)\n    })\n}\n\nes.pipeable = function () {\n  throw new Error('[EVENT-STREAM] es.pipeable is deprecated')\n}\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexports.defineEventAttribute = defineEventAttribute;\nexports.EventTarget = EventTarget;\nexports.default = EventTarget;\n\nmodule.exports = EventTarget\nmodule.exports.EventTarget = module.exports[\"default\"] = EventTarget\nmodule.exports.defineEventAttribute = defineEventAttribute\n//# sourceMappingURL=event-target-shim.js.map\n","const net = require(\"net\");\n\n// call method 1: (port, cb(err, freePort))\n// call method 2: (portBeg, portEnd, cb(err, freePort))\n// call method 3: (portBeg, host, cb(err, freePort))\n// call method 4: (portBeg, portEnd, host, cb(err, freePort))\n// call method 5: (portBeg, portEnd, host, howmany, cb(err, freePort1, freePort2, ...))\n\nfunction findFreePort(beg, ...rest){\n  const p = rest.slice(0, rest.length - 1), cb = rest[rest.length - 1];\n  let [end, ip, cnt] = Array.from(p);\n  if (!ip && end && !/^\\d+$/.test(end)) { // deal with method 3\n    ip = end;\n    end = 65534;\n  } else {\n    if (end == null) { end = 65534; }\n  }\n  if (cnt == null) { cnt = 1; }\n\n  const retcb = cb;\n  const res = [];\n  const probe = function(ip, port, cb){\n    const s = net.createConnection({port: port, host: ip})\n    s.on('connect', function(){ s.end(); cb(null, port + 1); });\n    s.on('error', err=> { cb(port); });  // can't connect, port is available\n  };\n  var onprobe = function(port, nextPort){\n    if (port) {\n      res.push(port);\n      if (res.length >= cnt) {\n        retcb(null, ...res)\n      } else {\n        setImmediate(()=> probe(ip, port+1, onprobe));\n      }\n    } else {\n      if (nextPort>=end) {\n        retcb(new Error(\"No available ports\"));\n      } else {\n        setImmediate(()=> probe(ip, nextPort, onprobe));\n      }\n    }\n  };\n  return probe(ip, beg, onprobe);\n};\n\nfunction findFreePortPmfy(beg, ...rest) {\n  const last = rest[rest.length - 1];\n  if (typeof last === 'function') {\n    findFreePort(beg, ...rest);\n  } else {\n    return new Promise((resolve, reject) => {\n      findFreePort(beg, ...rest, (err, ...ports) => {\n        if (err) reject(err)\n        else resolve(ports);\n      })\n    })\n  }\n}\nmodule.exports = findFreePortPmfy","\n'use strict';\n\nvar Stream = require('stream')\n\n// from\n//\n// a stream that reads from an source.\n// source may be an array, or a function.\n// from handles pause behaviour for you.\n\nmodule.exports =\nfunction from (source) {\n  if(Array.isArray(source)) {\n\t\tvar source_index = 0, source_len = source.length;\n    return from (function (i) {\n      if(source_index < source_len)\n        this.emit('data', source[source_index++])\n      else\n        this.emit('end')\n      return true\n    })\n  }\n  var s = new Stream(), i = 0\n  s.ended = false\n  s.started = false\n  s.readable = true\n  s.writable = false\n  s.paused = false\n  s.ended = false\n  s.pause = function () {\n    s.started = true\n    s.paused = true\n  }\n  function next () {\n    s.started = true\n    if(s.ended) return\n    while(!s.ended && !s.paused && source.call(s, i++, function () {\n      if(!s.ended && !s.paused)\n          process.nextTick(next);\n    }))\n      ;\n  }\n  s.resume = function () {\n    s.started = true\n    s.paused = false\n    next()\n  }\n  s.on('end', function () {\n    s.ended = true\n    s.readable = false\n    process.nextTick(s.destroy)\n  })\n  s.destroy = function () {\n    s.ended = true\n    s.emit('close') \n  }\n  /*\n    by default, the stream will start emitting at nextTick\n    if you want, you can pause it, after pipeing.\n    you can also resume before next tick, and that will also\n    work.\n  */\n  process.nextTick(function () {\n    if(!s.started) s.resume()\n  })\n  return s\n}\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","//filter will reemit the data if cb(err,pass) pass is truthy\n\n// reduce is more tricky\n// maybe we want to group the reductions or emit progress updates occasionally\n// the most basic reduce just emits one 'data' event after it has recieved 'end'\n\n\nvar Stream = require('stream').Stream\n\n\n//create an event stream and apply function to each .write\n//emitting each response as data\n//unless it's an empty callback\n\nmodule.exports = function (mapper, opts) {\n\n  var stream = new Stream()\n    , self = this\n    , inputs = 0\n    , outputs = 0\n    , ended = false\n    , paused = false\n    , destroyed = false\n    , lastWritten = 0\n    , inNext = false\n\n  this.opts = opts || {};\n  var errorEventName = this.opts.failures ? 'failure' : 'error';\n\n  // Items that are not ready to be written yet (because they would come out of\n  // order) get stuck in a queue for later.\n  var writeQueue = {}\n\n  stream.writable = true\n  stream.readable = true\n\n  function queueData (data, number) {\n    var nextToWrite = lastWritten + 1\n\n    if (number === nextToWrite) {\n      // If it's next, and its not undefined write it\n      if (data !== undefined) {\n        stream.emit.apply(stream, ['data', data])\n      }\n      lastWritten ++\n      nextToWrite ++\n    } else {\n      // Otherwise queue it for later.\n      writeQueue[number] = data\n    }\n\n    // If the next value is in the queue, write it\n    if (writeQueue.hasOwnProperty(nextToWrite)) {\n      var dataToWrite = writeQueue[nextToWrite]\n      delete writeQueue[nextToWrite]\n      return queueData(dataToWrite, nextToWrite)\n    }\n\n    outputs ++\n    if(inputs === outputs) {\n      if(paused) paused = false, stream.emit('drain') //written all the incoming events\n      if(ended) end()\n    }\n  }\n\n  function next (err, data, number) {\n    if(destroyed) return\n    inNext = true\n\n    if (!err || self.opts.failures) {\n      queueData(data, number)\n    }\n\n    if (err) {\n      stream.emit.apply(stream, [ errorEventName, err ]);\n    }\n\n    inNext = false;\n  }\n\n  // Wrap the mapper function by calling its callback with the order number of\n  // the item in the stream.\n  function wrappedMapper (input, number, callback) {\n    return mapper.call(null, input, function(err, data){\n      callback(err, data, number)\n    })\n  }\n\n  stream.write = function (data) {\n    if(ended) throw new Error('map stream is not writable')\n    inNext = false\n    inputs ++\n\n    try {\n      //catch sync errors and handle them like async errors\n      var written = wrappedMapper(data, inputs, next)\n      paused = (written === false)\n      return !paused\n    } catch (err) {\n      //if the callback has been called syncronously, and the error\n      //has occured in an listener, throw it again.\n      if(inNext)\n        throw err\n      next(err)\n      return !paused\n    }\n  }\n\n  function end (data) {\n    //if end was called with args, write it, \n    ended = true //write will emit 'end' if ended is true\n    stream.writable = false\n    if(data !== undefined) {\n      return queueData(data, inputs)\n    } else if (inputs == outputs) { //wait for processing \n      stream.readable = false, stream.emit('end'), stream.destroy() \n    }\n  }\n\n  stream.end = function (data) {\n    if(ended) return\n    end()\n  }\n\n  stream.destroy = function () {\n    ended = destroyed = true\n    stream.writable = stream.readable = paused = false\n    process.nextTick(function () {\n      stream.emit('close')\n    })\n  }\n  stream.pause = function () {\n    paused = true\n  }\n\n  stream.resume = function () {\n    paused = false\n  }\n\n  return stream\n}\n\n\n\n\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","//through@2 handles this by default!\nmodule.exports = require('through')\n\n","'use strict';\n\nvar spawn = require('child_process').spawn,\n    es    = require('event-stream');\n\nmodule.exports = function childrenOfPid(pid, callback) {\n  var headers = null;\n\n  if (typeof callback !== 'function') {\n    throw new Error('childrenOfPid(pid, callback) expects callback');\n  }\n\n  if (typeof pid === 'number') {\n    pid = pid.toString();\n  }\n\n  //\n  // The `ps-tree` module behaves differently on *nix vs. Windows\n  // by spawning different programs and parsing their output.\n  //\n  // Linux:\n  // 1. \" <defunct> \" need to be striped\n  // ```bash\n  // $ ps -A -o comm,ppid,pid,stat\n  // COMMAND          PPID   PID STAT\n  // bbsd             2899 16958 Ss\n  // watch <defunct>  1914 16964 Z\n  // ps              20688 16965 R+\n  // ```\n  //\n  // Win32:\n  // 1. wmic PROCESS WHERE ParentProcessId=4604 GET Name,ParentProcessId,ProcessId,Status)\n  // 2. The order of head columns is fixed\n  // ```shell\n  // > wmic PROCESS GET Name,ProcessId,ParentProcessId,Status\n  // Name                          ParentProcessId  ProcessId   Status\n  // System Idle Process           0                0\n  // System                        0                4\n  // smss.exe                      4                228\n  // ```\n\n  var processLister;\n  if (process.platform === 'win32') {\n    // See also: https://github.com/nodejs/node-v0.x-archive/issues/2318\n    processLister = spawn('wmic.exe', ['PROCESS', 'GET', 'Name,ProcessId,ParentProcessId,Status']);\n  } else {\n    processLister = spawn('ps', ['-A', '-o', 'ppid,pid,stat,comm']);\n  }\n\n  es.connect(\n    // spawn('ps', ['-A', '-o', 'ppid,pid,stat,comm']).stdout,\n    processLister.stdout,\n    es.split(),\n    es.map(function (line, cb) { //this could parse alot of unix command output\n      var columns = line.trim().split(/\\s+/);\n      if (!headers) {\n        headers = columns;\n\n        //\n        // Rename Win32 header name, to as same as the linux, for compatible.\n        //\n        headers = headers.map(normalizeHeader);\n        return cb();\n      }\n\n      var row = {};\n      // For each header\n      var h = headers.slice();\n      while (h.length) {\n        row[h.shift()] = h.length ? columns.shift() : columns.join(' ');\n      }\n\n      return cb(null, row);\n    }),\n    es.writeArray(function (err, ps) {\n      var parents = {},\n          children = [];\n\n      parents[pid] = true;\n      ps.forEach(function (proc) {\n        if (parents[proc.PPID]) {\n          parents[proc.PID] = true;\n          children.push(proc)\n        }\n      });\n\n      callback(null, children);\n    })\n  ).on('error', callback)\n}\n\n/**\n * Normalizes the given header `str` from the Windows\n * title to the *nix title.\n *\n * @param {string} str Header string to normalize\n */\nfunction normalizeHeader(str) {\n  if (process.platform !== 'win32') {\n    return str;\n  }\n\n  switch (str) {\n    case 'Name':\n      return 'COMMAND';\n      break;\n    case 'ParentProcessId':\n      return 'PPID';\n      break;\n    case 'ProcessId':\n      return 'PID';\n      break;\n    case 'Status':\n      return 'STAT';\n      break;\n    default:\n      throw new Error('Unknown process listing header: ' + str);\n  }\n}\n","//filter will reemit the data if cb(err,pass) pass is truthy\n\n// reduce is more tricky\n// maybe we want to group the reductions or emit progress updates occasionally\n// the most basic reduce just emits one 'data' event after it has recieved 'end'\n\n\nvar through = require('through')\nvar Decoder = require('string_decoder').StringDecoder\n\nmodule.exports = split\n\n//TODO pass in a function to map across the lines.\n\nfunction split (matcher, mapper, options) {\n  var decoder = new Decoder()\n  var soFar = ''\n  var maxLength = options && options.maxLength;\n  if('function' === typeof matcher)\n    mapper = matcher, matcher = null\n  if (!matcher)\n    matcher = /\\r?\\n/\n\n  function emit(stream, piece) {\n    if(mapper) {\n      try {\n        piece = mapper(piece)\n      }\n      catch (err) {\n        return stream.emit('error', err)\n      }\n      if('undefined' !== typeof piece)\n        stream.queue(piece)\n    }\n    else\n      stream.queue(piece)\n  }\n\n  function next (stream, buffer) {\n    var pieces = ((soFar != null ? soFar : '') + buffer).split(matcher)\n    soFar = pieces.pop()\n\n    if (maxLength && soFar.length > maxLength)\n      stream.emit('error', new Error('maximum buffer reached'))\n\n    for (var i = 0; i < pieces.length; i++) {\n      var piece = pieces[i]\n      emit(stream, piece)\n    }\n  }\n\n  return through(function (b) {\n    next(this, decoder.write(b))\n  },\n  function () {\n    if(decoder.end)\n      next(this, decoder.end())\n    if(soFar != null)\n      emit(this, soFar)\n    this.queue(null)\n  })\n}\n\n","var duplexer = require('duplexer')\n\nmodule.exports = function () {\n\n  var streams = [].slice.call(arguments)\n    , first = streams[0]\n    , last = streams[streams.length - 1]\n    , thepipe = duplexer(first, last)\n\n  if(streams.length == 1)\n    return streams[0]\n  else if (!streams.length)\n    throw new Error('connect called with empty args')\n\n  //pipe all the streams together\n\n  function recurse (streams) {\n    if(streams.length < 2)\n      return\n    streams[0].pipe(streams[1])\n    recurse(streams.slice(1))  \n  }\n  \n  recurse(streams)\n \n  function onerror () {\n    var args = [].slice.call(arguments)\n    args.unshift('error')\n    thepipe.emit.apply(thepipe, args)\n  }\n  \n  //es.duplex already reemits the error from the first and last stream.\n  //add a listener for the inner streams in the pipeline.\n  for(var i = 1; i < streams.length - 1; i ++)\n    streams[i].on('error', onerror)\n\n  return thepipe\n}\n\n","var Stream = require('stream')\n\n// through\n//\n// a stream that does nothing but re-emit the input.\n// useful for aggregating a series of changing but not ending streams into one stream)\n\nexports = module.exports = through\nthrough.through = through\n\n//create a readable writable stream.\n\nfunction through (write, end, opts) {\n  write = write || function (data) { this.queue(data) }\n  end = end || function () { this.queue(null) }\n\n  var ended = false, destroyed = false, buffer = [], _ended = false\n  var stream = new Stream()\n  stream.readable = stream.writable = true\n  stream.paused = false\n\n//  stream.autoPause   = !(opts && opts.autoPause   === false)\n  stream.autoDestroy = !(opts && opts.autoDestroy === false)\n\n  stream.write = function (data) {\n    write.call(this, data)\n    return !stream.paused\n  }\n\n  function drain() {\n    while(buffer.length && !stream.paused) {\n      var data = buffer.shift()\n      if(null === data)\n        return stream.emit('end')\n      else\n        stream.emit('data', data)\n    }\n  }\n\n  stream.queue = stream.push = function (data) {\n//    console.error(ended)\n    if(_ended) return stream\n    if(data === null) _ended = true\n    buffer.push(data)\n    drain()\n    return stream\n  }\n\n  //this will be registered as the first 'end' listener\n  //must call destroy next tick, to make sure we're after any\n  //stream piped from here.\n  //this is only a problem if end is not emitted synchronously.\n  //a nicer way to do this is to make sure this is the last listener for 'end'\n\n  stream.on('end', function () {\n    stream.readable = false\n    if(!stream.writable && stream.autoDestroy)\n      process.nextTick(function () {\n        stream.destroy()\n      })\n  })\n\n  function _end () {\n    stream.writable = false\n    end.call(stream)\n    if(!stream.readable && stream.autoDestroy)\n      stream.destroy()\n  }\n\n  stream.end = function (data) {\n    if(ended) return\n    ended = true\n    if(arguments.length) stream.write(data)\n    _end() // will emit or queue\n    return stream\n  }\n\n  stream.destroy = function () {\n    if(destroyed) return\n    destroyed = true\n    ended = true\n    buffer.length = 0\n    stream.writable = stream.readable = false\n    stream.emit('close')\n    return stream\n  }\n\n  stream.pause = function () {\n    if(stream.paused) return\n    stream.paused = true\n    return stream\n  }\n\n  stream.resume = function () {\n    if(stream.paused) {\n      stream.paused = false\n      stream.emit('resume')\n    }\n    drain()\n    //may have become paused again,\n    //as drain emits 'data'.\n    if(!stream.paused)\n      stream.emit('drain')\n    return stream\n  }\n  return stream\n}\n\n","import * as vscode from 'vscode';\nimport * as path from 'path';\nimport * as net from 'net';\nconst fp = require('find-free-port');\nimport * as cp from 'child_process';\nconst psTree = require('ps-tree');\nimport {\n    LanguageClient,\n    LanguageClientOptions,\n    ServerOptions,\n    TransportKind,\n    NotificationType,\n    State, \n    StateChangeEvent\n} from 'vscode-LanguageClient/node';\nimport { resolve } from 'path';\nimport { deactivate } from './notebook';\nimport { time } from 'console';\nlet wolframStatusBar: vscode.StatusBarItem = vscode.window.createStatusBarItem(vscode.StatusBarAlignment.Left);\nlet wolframVersionText = \"$(extensions-sync-enabled~spin) Wolfram\";\nconst fs = require('fs')\nconst ubjson = require(\"@shelacek/ubjson\");\nimport { WolframScriptSerializer, WolframNotebookSerializer } from './notebook';\nimport { WolframNotebookController } from './notebookController';\nimport { WolframScriptController } from './scriptController';\nimport { workspaceSymbolProvider } from './treeDataProvider';\nimport {getOutputContent} from './dataPanel';\nimport {showPlotPanel} from './plotsView';\n\n\n// export let wolframClient: LanguageClient;\n// export let wolframKernelClient: LanguageClient;\n\n// let wolfram: cp.ChildProcess;\n// let wolframKernel: cp.ChildProcess;\n\nlet clientPort: number = 7710;\nlet kernelPort: number = 7910;\nlet lspPath: string;\nlet kernelPath: string;\nlet context!: vscode.ExtensionContext;\nlet cursorFile: String = \"\";\nlet outputChannel!: vscode.OutputChannel;\nlet clients: Map<string, (LanguageClient|undefined)[]> = new Map();\nlet processes: cp.ChildProcess[] = [];\n\n var wolfram!: cp.ChildProcess;\n var wolframKernel!: cp.ChildProcess;\n\nexport var wolframClient!: LanguageClient | undefined;\nexport var wolframKernelClient: LanguageClient | undefined;\nexport let scriptserializer: vscode.NotebookSerializer;\nexport let notebookSerializer: WolframNotebookSerializer;\nexport let notebookcontroller: WolframNotebookController;\nexport let scriptController: WolframScriptController;\nexport let treeDataProvider: workspaceSymbolProvider;\n\nexport async function startLanguageServer(context0: vscode.ExtensionContext, outputChannel0: vscode.OutputChannel): Promise<void> {\n\n\n    context = context0;\n    lspPath = context.asAbsolutePath(path.join('wolfram', 'wolfram-lsp.wl'));\n    kernelPath = context.asAbsolutePath(path.join('wolfram', 'wolfram-kernel.wl'));\n    cursorFile =  path.join(context.extensionPath, \"wolfram\", \"cursorLocations.js\");\n    outputChannel = outputChannel0;\n    wolframStatusBar.text = \"Wolfram ?\";\n    wolframStatusBar.command = 'wolfram.restart';\n    wolframStatusBar.show();\n    vscode.workspace.onDidChangeTextDocument(didChangeTextDocument);\n\n    scriptserializer = new WolframScriptSerializer()\n    notebookSerializer = new WolframNotebookSerializer()\n\n    notebookcontroller = new WolframNotebookController()\n    scriptController = new WolframScriptController(context)\n\n    context.subscriptions.push(\n        vscode.workspace.registerNotebookSerializer('wolfram-notebook', notebookSerializer)\n    );\n\n    context.subscriptions.push(\n        vscode.workspace.registerNotebookSerializer('wolfram-script', scriptserializer)\n    );\n\n    context.subscriptions.push(notebookcontroller);\n    context.subscriptions.push(scriptController);\n\n    startWLSP(0);\n    startWLSPKernel(0);\n\n    vscode.commands.registerCommand('wolfram.runInWolfram', runInWolfram);\n    vscode.commands.registerCommand('wolfram.printInWolfram', printInWolfram);\n    vscode.commands.registerCommand('wolfram.runTextCell', runTextCell);\n    vscode.commands.registerCommand('wolfram.wolframTerminal', startWolframTerminal);\n    vscode.commands.registerCommand('wolfram.runInTerminal', runInTerminal);\n    vscode.commands.registerCommand('wolfram.help', help);\n    vscode.commands.registerCommand('wolfram.stringHelp', stringHelp);\n    vscode.commands.registerCommand('wolfram.restart', restart);\n    vscode.commands.registerCommand('wolfram.abort', abort);\n    vscode.commands.registerCommand('wolfram.textToSection', textToSection);\n    vscode.commands.registerCommand('wolfram.textFromSection', textFromSection);\n    vscode.commands.registerCommand('wolfram.createFile', createFile);\n    vscode.commands.registerCommand('wolfram.createNotebook', createNotebook);\n    vscode.commands.registerCommand('wolfram.createNotebookScript', createNotebookScript);\n    vscode.commands.registerCommand('wolfram.showOutput', showOutput); \n    vscode.commands.registerCommand('wolfram.showPlots', showPlots); \n    vscode.commands.registerCommand('wolfram.runExpression', runExpression);\n    vscode.commands.registerCommand('wolfram.clearResults', clearResults);\n    vscode.commands.registerCommand('wolfram.showTrace', showTrace);\n\n\n    vscode.workspace.onDidOpenTextDocument(didOpenTextDocument);\n    vscode.workspace.onDidSaveTextDocument(didSaveTextDocument);\n    vscode.workspace.onDidChangeConfiguration(updateConfiguration);\n    vscode.workspace.onDidChangeTextDocument(didChangeTextDocument);\n\n\n    vscode.window.onDidChangeTextEditorSelection(didChangeSelection);\n    vscode.window.onDidChangeWindowState(didChangeWindowState);\n    treeDataProvider = new workspaceSymbolProvider();\n    vscode.window.registerTreeDataProvider(\"wolframSymbols\", treeDataProvider);\n\n    vscode.workspace.textDocuments.forEach(didOpenTextDocument);\n\tvscode.workspace.onDidChangeWorkspaceFolders((event) => {\n\t\tfor (const folder  of event.removed) {\n\t\t\tconst client = clients.get(folder.uri.toString());\n\t\t\tif (client) {\n\t\t\t\tclients.delete(folder.uri.toString());\n\t\t\t\tclient[0]?.stop();\n                client[1]?.stop();\n\t\t\t}\n\t\t}\n\n        for (const folder of event.added) {\n            const client = clients.get(folder.uri.toString());\n            if (client) {\n                client[1]?.sendNotification(\"didChangeWorkspaceFolders\", folder)\n            }\n        }\n\t});\n\n    // setTimeout(updateRunningLines, 500);\n    \n    // restart()\n}\n\nfunction updateConfiguration(){\n    if (vscode.workspace.getConfiguration().get(\"wlsp.liveDocument\")) {\n    } \n}\n\nexport async function restart(): Promise<void> {\n    wolframBusyQ = false;\n    evaluationQueue = [];    \n    \n    clients.forEach((client, key) => {\n        if (client) {\n            client[0]?.stop();\n            client[1]?.stop();\n        }\n        clients.delete(key);\n    });\n\n    stopWolfram(undefined, wolfram);\n    stopWolfram(undefined, wolframKernel);\n\n    startWLSP(0);\n    startWLSPKernel(0);\n\n    return new Promise((resolve) => {\n        vscode.workspace.textDocuments.forEach(didOpenTextDocument);\n\n        resolve()\n    })\n}\n\nexport function stop() {\n\tconst promises: (Thenable<void>|undefined)[] = [];\n\tfor (const client of clients.values()) {\n\t\tpromises.push(client[0]?.stop());\n\t\tpromises.push(client[1]?.stop());\n\t}\n    \n    for (let p of processes) {\n        stopWolfram(undefined, p)\n    }\n\n\treturn Promise.all(promises).then(() => undefined);\n\n}\n\nasync function onclientReady() : Promise<void> {\n    function checkClient(cb:any) {\n        if (wolframClient !== undefined && wolframClient.initializeResult !== undefined) {\n\n                wolframClient?.onNotification(\"updatePositions\", updatePositions);\n                wolframClient?.onNotification(\"updateLintDecorations\", updateLintDecorations);\n\n                wolframClient.handleFailedRequest\n    \n                wolframClient?.sendRequest(\"wolframVersion\").then((result:any) => {\n                    wolframVersionText = result[\"output\"];\n                    wolframStatusBar.text = result[\"output\"];\n                })\n\n                wolframClient?.sendRequest(\"DocumentSymbolRequest\");\n                treeDataProvider.getBuiltins();\n    \n        } else {\n            setTimeout(() => {\n                checkClient(cb)\n            }, 500);\n        }\n    }\n\n    return new Promise((resolve) => {\n        checkClient(resolve)\n    })\n}\n\nlet temporaryDir = \"\";\nexport async function  onkernelReady(): Promise<void> {\n    function checkKernel(cb:any) {\n        if (wolframKernelClient !== undefined && wolframKernelClient.initializeResult !== undefined) {\n\n                // wolframKernelClient?.onNotification(\"onRunInWolfram\", onRunInWolfram);\n                wolframKernelClient?.onNotification(\"wolframBusy\", wolframBusy);\n                // wolframKernelClient?.onNotification(\"updateDecorations\", updateDecorations);\n                wolframKernelClient?.onNotification(\"updateVarTable\", updateVarTable);\n                // wolframKernelClient?.onNotification(\"moveCursor\", moveCursor);\n                // wolframKernelClient?.onNotification(\"updateTreeItems\", updateTreeItems);\n                wolframKernelClient?.onNotification(\"pulse\", pulse);\n                wolframKernelClient?.onNotification(\"errorMessages\", errorMessages)\n                \n\n                if (vscode.window.activeTextEditor){\n                    let workspacefolder:any = vscode.workspace.getWorkspaceFolder(vscode.window.activeTextEditor?.document.uri)\n\n                    if (workspacefolder) {\n                         vscode.workspace.findFiles(\"**/*.wl*\", workspacefolder.uri).then(result => {\n                            wolframKernelClient?.sendNotification(\"didChangeWorkspaceFolders\", result)\n                        })\n                    }\n                    \n                    \n                }\n                wolframKernelClient?.sendRequest(\"storageUri\").then((result:any) => {\n                    temporaryDir = result;\n                });\n                treeDataProvider.getSymbols(undefined);\n\n                cb()\n\n        } else {\n            setTimeout(() => {\n                checkKernel(cb)\n            }, 500)\n        }\n    }\n\n\n    return new Promise((resolve) => {\n        checkKernel(resolve)\n    })\n\n}\n\nfunction pulse() {\n    wolframKernelClient?.sendNotification(\"pulse\").then((a:any)=> {\n        console.log(\"sent pulse\")\n    })\n}\n\nfunction newFunction() {\n    treeDataProvider = new workspaceSymbolProvider();\n}\n\nfunction clearResults() {\n    // while(printResults.pop) {\n    // }\n    printResults = [];\n    updateOutputPanel()\n}\n\n// function updateTreeItems(result:any) {\n//     treeDataProvider?.getSymbols(result[\"file\"])\n// }\n\nlet movePositions:{[index:string]: any} = {};\nfunction updatePositions(params:any) {\n    params[\"result\"].forEach((e:any) => {\n        if (!(e[\"location\"][\"uri\"] in movePositions)) {\n            movePositions[e[\"location\"][\"uri\"]] = {}\n        } \n        movePositions[e[\"location\"][\"uri\"]][e[\"name\"]] = e;\n    });\n}\n\nfunction runToLine() {\n    let e: any = vscode.window.activeTextEditor;\n    let sel: vscode.Position = e?.selection.active;\n    let outputPosition: vscode.Position = new vscode.Position(sel.line + 1, 0);\n    let r: vscode.Selection = new vscode.Selection(\n        0,\n        0,\n        sel.line,\n        sel.character\n    );\n\n    e.revealRange(r, vscode.TextEditorRevealType.Default);\n\n    try {\n        wolframKernelClient?.sendRequest(\"runInWolfram\", { range: r, textDocument: e.document, print: false }).then((result: any) => {\n            // cursor has not moved yet\n            if (e.selection.active.line === outputPosition.line - 1 && e.selection.active.character === outputPosition.character) {\n                outputPosition = new vscode.Position(result[\"position\"][\"line\"], result[\"position\"][\"character\"]);\n                e.selection = new vscode.Selection(outputPosition, outputPosition);\n                e.revealRange(new vscode.Range(outputPosition, outputPosition), vscode.TextEditorRevealType.Default);\n            }\n\n            updateResults(e, result, false, result[\"params\"][\"input\"], result[\"params\"][\"file\"]);\n        });\n    } catch {\n        console.log(\"Kernel is not ready. Restarting...\")\n        restart()\n    }\n}\n\n\nlet variableTable: any = {}\nfunction updateVarTable(vars: any) {\n    fs.readFile(vars[\"values\"], \"utf8\", (err: any, data: any) => {\n        if (err) {\n            console.log(err)\n            return\n        }\n        let updatedVariables = JSON.parse(data)\n        Object.keys(updatedVariables).map((k:any) => {\n            variableTable[k] = updatedVariables[k]\n        })\n        updateOutputPanel();\n\n    })\n}\n\nlet runningLines:any[] = []\nfunction moveCursor2(position:vscode.Position) {\n    let e = vscode.window.activeTextEditor;\n    let uri = e?.document.uri.toString();\n    if (!(uri === undefined) && (uri in movePositions)) {\n        let newPos:any[] = Object.values(movePositions[uri]).filter((p:any) => {\n            let r = p[\"location\"][\"range\"] as vscode.Range;\n            return ((r.start.line <= position.line) && (position.line <= r.end.line ))\n        })\n\n        if (newPos.length > 0) {\n            let outputPosition = new vscode.Position(newPos[0][\"location\"][\"range\"][\"end\"][\"line\"]+1, 0) ;\n            if (e) {\n                e.selection = new vscode.Selection(outputPosition, outputPosition);\n                e.revealRange(new vscode.Range(outputPosition, outputPosition), vscode.TextEditorRevealType.Default);\n            }\n            decorateRunningLine(outputPosition);\n        } else {\n            if (e) {\n                let outputPosition = new vscode.Position(position[\"line\"]+1, 0);\n                e.selection = new vscode.Selection(outputPosition, outputPosition);\n                e.revealRange(new vscode.Range(outputPosition, outputPosition), vscode.TextEditorRevealType.Default);\n                decorateRunningLine(outputPosition);\n            }\n        }\n    }\n}\n\n// function moveCursor(params: any) {\n//     let e: vscode.TextEditor | undefined = vscode.window.activeTextEditor;\n//     let outputPosition = new vscode.Position(params[\"position\"][\"line\"], params[\"position\"][\"character\"]);\n//     if (e) {\n//         e.selection = new vscode.Selection(outputPosition, outputPosition);\n//         e.revealRange(new vscode.Range(outputPosition, outputPosition), vscode.TextEditorRevealType.Default);\n//     }\n//     decorateRunningLine(outputPosition);\n// }\n\n\nfunction cursorBlock() {\n    let e:vscode.TextEditor |undefined = vscode.window.activeTextEditor;\n    for (let i:any = 0; i < cursorLocations.length-1; i++) {\n        if (e) {\n            if (\n                (cursorLocations[i][\"start\"][\"line\"] <= e?.selection.active.line) &&\n                (cursorLocations[i][\"end\"][\"line\"] >= e?.selection.active.line)\n                ) {\n                return cursorLocations[i]\n                break;\n            }\n        }\n    }\n    return e?.selection\n}\n\nlet cursorMoved = false;\nlet cursorLocations:any[] = [];\nfunction moveCursor() {\n    // if (cursorMoved == true) {\n    //     cursorMoved = false;\n    //     return\n    // }\n\n    let e:vscode.TextEditor | undefined = vscode.window.activeTextEditor;\n        fs.readFile(cursorFile, \"utf8\", (err: any, data: any) => {\n            if (err) {\n                console.log(err)\n                return\n            }\n            cursorLocations = JSON.parse(data);\n            \n            let top:any = new vscode.Position(0,0);\n            let bottom:any = (e?.selection.active.line || 0) + 1;\n            for (let i:any = 0; i < cursorLocations.length-1; i++) {\n                if (e) {\n                    if (cursorLocations[i+1][\"start\"][\"line\"] > e?.selection.active.line) {\n                        top = cursorLocations[i][\"end\"];\n                        bottom = cursorLocations[i+1][\"start\"][\"line\"];\n                        break;\n                    }\n                }\n            }\n\n            let outputPosition: vscode.Position = new vscode.Position(bottom, 0);\n\n            if (e?.document.lineCount == outputPosition.line) {\n                e?.edit(editBuilder => {\n                    editBuilder.insert(outputPosition!, \"\\n\")\n                })\n            }\n            \n            if (e) {\n                e.selection = new vscode.Selection(outputPosition, outputPosition);\n                // cursorMoved = true;\n                e?.revealRange(new vscode.Range(outputPosition, outputPosition), vscode.TextEditorRevealType.Default);\n                decorateRunningLine(new vscode.Position(top[\"line\"], top[\"character\"]));\n            }\n        })\n}\n\n\nfunction decorateRunningLine(outputPosition:vscode.Position) {\n    let e: vscode.TextEditor | undefined = vscode.window.activeTextEditor;\n    if (e) {\n\n        if (outputPosition.line == 0) {\n            return\n        }\n\n        let decorationLine = e.document.lineAt(outputPosition.line)\n        let start = new vscode.Position(decorationLine.lineNumber, decorationLine.range.end.character)\n        let end = new vscode.Position(decorationLine.lineNumber, decorationLine.range.end.character)\n        let range = new vscode.Range(start, end)\n\n        let d: vscode.DecorationOptions = {\n            \"range\": range,\n            \"renderOptions\": {\n                \"after\": {\n                    \"contentText\": \"...\",\n                    \"color\": \"foreground\",\n                    \"margin\": \"20px\"\n                }\n            }\n        }\n\n        runningLines.push(d);\n        e.setDecorations(runningDecorationType, runningLines);\n        for (let i = 0; i < editorDecorations.length; i++) {\n            const d1 = editorDecorations[i];\n            if (d1.range.start.line == d.range.start.line){\n                editorDecorations.splice(i,1)\n            }\n        }\n        e.setDecorations(variableDecorationType, editorDecorations);\n        // updateDecorations([d]);\n    }\n}\n\nfunction updateRunningLines() {\n    let editor = vscode.window.activeTextEditor;\n    if (wolframBusyQ === true) {\n        runningLines.forEach((d:vscode.DecorationOptions) => {\n            let r = d[\"renderOptions\"];\n            let a = r?[\"after\"] : {\"contentText\": \"\"};\n            let c = a?[\"contentText\"] : \"\";\n            if (d[\"renderOptions\"]![\"after\"]![\"contentText\"] == \".\") {\n                d[\"renderOptions\"]![\"after\"]![\"contentText\"] = \"..\"\n            } else \n            if (d[\"renderOptions\"]![\"after\"]![\"contentText\"] == \"..\") {\n                d[\"renderOptions\"]![\"after\"]![\"contentText\"] = \"...\"\n            } else \n            if (d[\"renderOptions\"]![\"after\"]![\"contentText\"] == \"...\") {\n                d[\"renderOptions\"]![\"after\"]![\"contentText\"] = \"....\"\n            } else \n            if (d[\"renderOptions\"]![\"after\"]![\"contentText\"] == \"....\") {\n                d[\"renderOptions\"]![\"after\"]![\"contentText\"] = \".....\"\n            } else \n            if (d[\"renderOptions\"]![\"after\"]![\"contentText\"] == \".....\") {\n                d[\"renderOptions\"]![\"after\"]![\"contentText\"] = \".\"\n            }\n        })\n        editor?.setDecorations(runningDecorationType, runningLines)\n\n        setTimeout(updateRunningLines, 500)\n    } else {\n        editor?.setDecorations(runningDecorationType, [])\n    }\n}\n\nfunction abort() {\n    try{\n        wolframKernel.stdin?.write(\"\\x03\");\n    } catch {\n        console.log(\"Wolfram kernel interrupt failed\")\n    }\n}\n\nlet starttime = 0;\nlet inputs:String[] = [];\nfunction runInWolfram(print = false, trace=false) {\n    let e: vscode.TextEditor | undefined = vscode.window.activeTextEditor;\n    let sel: vscode.Selection = e!.selection;\n\n    e?.document.save();\n\n\n    // let cursorMoved = false;\n    // vscode.window.onDidChangeTextEditorSelection((e: vscode.TextEditorSelectionChangeEvent) => {\n    //     cursorMoved = true;\n    // })\n\n    moveCursor()\n    let output = false;\n    if (plotsPanel?.visible == true) {\n        output = true;\n    }\n\n    let evaluationData = { range: sel, textDocument: e?.document, print: print, output: output, trace: trace };\n    evaluationQueue.push(evaluationData);\n\n    // showPlots();\n\n    if (!wolframKernelClient) {\n        restart().then(() => {\n            evaluationQueue.push(evaluationData);\n            sendToWolfram(print);\n            return\n        })\n    } \n\n    if (evaluationQueue.length == 1 || wolframBusyQ == false) {\n        sendToWolfram(print);\n    }\n\n}\n\nlet evaluationQueue:any[] = [];\nfunction sendToWolfram(print = false, sel:vscode.Selection|undefined = undefined) {\n\n    let e: vscode.TextEditor | undefined = vscode.window.activeTextEditor;\n    if(!sel) {sel = e!.selection};\n    let outputPosition: vscode.Position = new vscode.Position(sel.active.line + 1, 0);\n\n    if (e?.document.lineCount == outputPosition.line) {\n        e?.edit(editBuilder => {\n            editBuilder.insert(outputPosition!, \"\\n\")\n        })\n    }\n\n    if (e?.document.uri.scheme === 'vscode-notebook-cell') {\n        e.selection = new vscode.Selection(0, 0, 1, 1)\n        try {\n            starttime = Date.now();\n            wolframKernelClient?.sendNotification(\"runInWolfram\", { range: sel, textDocument: e.document, print: false });\n        } catch (err) {\n            console.log(err);\n            restart()\n        }\n\n    }\n    else if (e?.document.uri.scheme === 'file' || e?.document.uri.scheme === 'untitled') {\n        // e.selection = new vscode.Selection(outputPosition, outputPosition);\n        // e.revealRange(new vscode.Range(outputPosition, outputPosition), vscode.TextEditorRevealType.Default);\n\n        // wolframKernelClient.sendNotification(\"moveCursor\", {range:sel, textDocument:e.document});\n\n        if(!wolframBusyQ) {\n                wolframBusyQ = true;\n                vscode.window.withProgress({\n                    location: vscode.ProgressLocation.Window,\n                    title: \"Wolfram\",\n                    cancellable: true\n                }, (prog, token) => {\n                    return new Promise(resolve => {\n                        \n                        token.onCancellationRequested(ev => {\n                            console.log(\"Aborting Wolfram evaluation\");\n                            abort()\n                            resolve(false)\n                        })\n\n                        wolframKernelClient?.onNotification(\"onRunInWolfram\", (result:any) => {\n                            onRunInWolfram(result)\n                            resolve(true)\n                        })\n\n\n                        // wolframStatusBar.text = \"$(extensions-sync-enabled~spin) Wolfram Running\";\n                        // wolframStatusBar.show();\n                        starttime = Date.now();\n                        \n                        wolframKernelClient?.sendNotification(\"runInWolfram\", evaluationQueue.pop())\n                    })\n\n                })\n        } \n    }\n}\n\nlet evaluationResults:{[key:string]:string} = {}\nfunction onRunInWolfram(file: any) {\n    let end  = Date.now();\n    outputChannel.appendLine(`Execution time: ${end - starttime} ms` );\n\n    wolframBusyQ = false;\n    wolframStatusBar.text = wolframVersionText;\n    wolframStatusBar.show();\n\n    let result:any;\n\n    fs.readFile(file[\"file\"], \"utf8\", ((err:any, data:any) => {\n        if (err) {\n            outputChannel.appendLine(err);\n            return \n        }\n        try{\n            result = JSON.parse(data)\n            let editors: vscode.TextEditor[] = vscode.window.visibleTextEditors;\n            let e = editors.filter((e) => { \n                return e.document.uri.path === result[\"params\"][\"document\"][\"path\"] \n            })[0];\n\n            for (let i = 0; i < runningLines.length; i++) {\n                const d = runningLines[i];\n                if (d.range.start.line == result[\"params\"][\"position\"][\"line\"]-1){\n                    runningLines.splice(i,1)\n                    e.setDecorations(runningDecorationType, runningLines)\n                }\n            }\n\n            if (e.document.uri.scheme == 'vscode-notebook-cell') {\n\n            } else {\n                // inputs.push(file[\"input\"])\n                updateResults(e, result, result[\"params\"][\"print\"], file[\"input\"], file[\"file\"]);\n            }\n        } catch (err) {\n            outputChannel.appendLine(\"Output data error: \" + err)\n        }\n\n        if (evaluationQueue.length > 0) {\n            sendToWolfram();\n        } else {\n            treeDataProvider.refresh();\n        }\n    }))\n    // try{\n    //     result = JSON.parse(fs.readFileSync(file[\"file\"], \"utf8\"))[\"params\"];\n    // } catch {\n    //     return\n    // }\n}\n\nlet maxPrintResults = 20;\nlet printResults: any[] = [];\nlet editorDecorations: any[] = [];\n// let printResults: Map<string, string> = new Map();\nfunction updateResults(e: vscode.TextEditor | undefined, result: any, print: boolean, input:string = \"\", file:string) {\n    if (printResults.length > maxPrintResults) {\n        printResults.shift();\n    }\n\n    if (typeof (e) !== \"undefined\") {\n        e.edit(editBuilder => {\n\n            if (print) {\n                let sel: vscode.Selection = e!.selection;\n                let outputPosition: vscode.Position = new vscode.Position(result[\"params\"][\"position\"][\"line\"]+1, 0);\n                try{\n                    editBuilder.insert(outputPosition, (result[\"params\"][\"result\"] + \"\\n\\n\").slice(0, 8192));\n                } catch (error) {\n                    console.log(\"Error: \" + error);\n                }\n            }\n\n                let output;\n                if (result[\"params\"][\"load\"]) {\n                    output = fs.readFileSync(result[\"params\"][\"output\"])\n                } else {\n                    output = result[\"params\"][\"output\"];\n                }\n\n                printResults.push(\n                    [input,\n                    output]\n                )\n                if(output.includes(\"<img\")) {\n                } else {\n                    outputChannel.appendLine(output.slice(0, 8192));\n                }\n                // let out = console_outputs.pop();\n                // printResults.push(out);\n                // showOutput();\n\n                let backgroundColor = \"editor.background\";\n                let hoverMessage = result[\"params\"][\"hover\"];\n                if (result[\"params\"][\"messages\"].length > 0) {\n                    backgroundColor=\"red\";\n                    hoverMessage += \"\\n\" + result[\"params\"][\"messages\"];\n                }\n\n                let startChar = e.document.lineAt(result[\"params\"][\"position\"][\"line\"]-1).range.end.character;\n\n                let decoration:vscode.DecorationOptions = {\n                    \"range\": new vscode.Range(\n                        result[\"params\"][\"position\"][\"line\"]-1,\n                        startChar+10,\n                        result[\"params\"][\"position\"][\"line\"]-1,\n                        startChar+200,\n                        ),\n                    \"renderOptions\": {\n                        \"after\": {\n                            \"contentText\": \"  \" + result[\"params\"][\"time\"] +\"s: \" + output,\n                            \"backgroundColor\":  backgroundColor,\n                            \"margin\" : \"10px 0 0 10px\",\n                            \"border\": \"2px solid blue\",\n                            \"color\": \"foreground\",\n\t\t\t\t\t\t    \"textDecoration\" : \"none; white-space: pre; border-top: 0px; border-right: 0px; border-bottom: 0px; border-radius: 2px\"\n\t\t\t\t\t\n                        }\n                    },\n                    \"hoverMessage\": hoverMessage\n                }\n                let h:vscode.MarkdownString = new vscode.MarkdownString((decoration.hoverMessage as string), false)\n                h.isTrusted = true;\n                h.supportHtml = true;\n                decoration.hoverMessage = h;\n\n                for (let i = 0; i < editorDecorations.length; i++) {\n                    const d = editorDecorations[i];\n                    if (d.range.start.line == result[\"params\"][\"position\"][\"line\"]-1){\n                        editorDecorations.splice(i,1)\n                    }\n                }\n                editorDecorations.push(decoration)\n                e.setDecorations(variableDecorationType, editorDecorations);\n                updateOutputPanel();\n            })\n    };\n\n\n}\n\n\nlet outputPanel: vscode.WebviewPanel | undefined;\nfunction showOutput() {\n    let outputColumn: vscode.ViewColumn | undefined = vscode.window.activeTextEditor?.viewColumn;\n    //let out = \"<table id='outputs'>\";\n\n    if (outputPanel) {\n        if (outputPanel.visible) {\n\n        } else {\n            if (outputColumn) {\n                outputPanel.reveal(outputColumn + 1, true);\n            } else {\n                outputPanel.reveal(1, true);\n            }\n        }\n    } else {\n        outputPanel = vscode.window.createWebviewPanel(\n            'WolframOutput',\n            \"Wolfram Data Table\",\n            { viewColumn: 2, preserveFocus: true },\n            {\n                enableScripts: true\n            });\n\n        outputPanel.webview.html = getOutputContent(outputPanel.webview, context.extensionUri);\n\n        outputPanel.webview.onDidReceiveMessage(\n            message => {\n                runExpression(message.text, 0, 100);\n                return;\n            }\n            , undefined, context.subscriptions);\n\n        outputPanel.onDidDispose(() => {\n            outputPanel = undefined;\n        }, null);\n\n\n        updateOutputPanel()\n    }\n\n}\n\nlet plotsPanel: vscode.WebviewPanel | undefined;\nfunction showPlots() {\n    let outputColumn: vscode.ViewColumn | undefined = vscode.window.activeTextEditor?.viewColumn;\n    //let out = \"<table id='outputs'>\";\n\n    if (plotsPanel) {\n        if (!plotsPanel.visible) {\n            if (outputColumn) {\n                plotsPanel.reveal(outputColumn + 1, true);\n            } else {\n                plotsPanel.reveal(1, true);\n            }\n        }\n    } else {\n        plotsPanel = vscode.window.createWebviewPanel(\n            'WolframPlots',\n            \"Wolfram Plots\",\n            { viewColumn: 2, preserveFocus: true },\n            {\n                localResourceRoots:  [vscode.Uri.file(path.join(context.extensionPath, \"media\"))],\n                enableScripts: true,\n                retainContextWhenHidden: true\n            });\n\n            plotsPanel.webview.html = showPlotPanel(plotsPanel.webview, context.extensionUri);\n\n            plotsPanel.webview.onDidReceiveMessage(\n            message => {\n                runExpression(message.text, 0, 100);\n                return;\n            }\n            , undefined, context.subscriptions);\n\n        plotsPanel.onDidDispose(() => {\n            plotsPanel = undefined;\n        }, null);\n\n\n        updateOutputPanel()\n    }\n\n}\n\nfunction runExpression(expression: string, line: 0, end: 100) {\n    let e: vscode.TextEditor | undefined = (vscode.window.activeTextEditor == null) ? vscode.window.visibleTextEditors[0] : vscode.window.activeTextEditor;\n\n\n    decorateRunningLine(new vscode.Position(line, end));\n    wolframKernelClient?.sendRequest(\"runExpression\", { print: false, expression: expression, textDocument: e?.document, line: line, end: end }).then((result: any) => { });\n}\n\nlet wolframBusyQ:boolean = false;\nfunction wolframBusy(params: any) {\n    if (params.busy === true) {\n        //kernelStatusBar.color = \"red\";\n        wolframBusyQ = true;\n        wolframStatusBar.text = \"$(extensions-sync-enabled~spin) Wolfram Running\";\n        wolframStatusBar.show();\n    } else {\n        //kernelStatusBar.color = \"yellow\";\n        wolframBusyQ = false;\n        wolframStatusBar.text = wolframVersionText;\n        wolframStatusBar.show();\n    }\n}\n\nlet workspaceDecorations: { [index: string]: vscode.DecorationOptions[]; } = {};\nlet workspaceLintDecorations: { [index: string]: vscode.DecorationOptions[]; } = {};\nfunction clearDecorations() {\n    let editor = vscode.window.activeTextEditor;\n    let uri = editor?.document.uri.toString();\n\n    if (uri && uri in workspaceDecorations) {\n        // workspaceDecorations[uri] = {} as vscode.DecorationOptions[];\n\n        // editor?.setDecorations(variableDecorationType,[] )\n    }\n}\n\nlet newDecorations: { [index: string]: vscode.DecorationOptions[]; } = {};\nfunction updateDecorations(decorationfile: string) {\n    let editor = vscode.window.activeTextEditor;\n    if (editor?.document.uri.scheme === 'file' || editor?.document.uri.scheme === 'untitled') {\n        //editor.setDecorations(variableDecorationType, []);\n\n        fs.readFile(decorationfile, \"utf8\", (err: any, data: any) => {\n            if (err) {\n                outputChannel.appendLine(err)\n                return\n            }\n\n            if (data == '') {\n                return\n            }\n\n            newDecorations = JSON.parse(data)\n\n            if (typeof (editor) === \"undefined\") {\n                return;\n            }\n            let uri = editor.document.uri.toString();\n    \n            let editorDecorations: vscode.DecorationOptions[] = [];\n            if (newDecorations[uri] === workspaceDecorations[uri]) {\n                return\n            } else {\n                workspaceDecorations[uri] = newDecorations[uri];\n                Object.keys(workspaceDecorations[uri]).forEach((d: any) => {\n                    let decoration:vscode.DecorationOptions = workspaceDecorations[uri][d];\n                    let h:vscode.MarkdownString = new vscode.MarkdownString((decoration.hoverMessage as string), false)\n                    h.isTrusted = true;\n                    h.supportHtml = true;\n                    decoration.hoverMessage = h;\n                    editorDecorations.push(workspaceDecorations[uri][d]);\n                });\n        \n                runningLines = [];\n                editor.setDecorations(variableDecorationType, editorDecorations);\n                editor.setDecorations(runningDecorationType, runningLines);\n            }\n        })\n\n        // try{\n        //     ;\n        // } catch{\n        //     newDecorations = {};\n        //     return\n        // }\n    }\n}\n\nfunction updateLintDecorations(decorationfile: string) {\n    let editor = vscode.window.activeTextEditor;\n    if (editor?.document.uri.scheme === 'file' || editor?.document.uri.scheme === 'untitled') {\n        //editor.setDecorations(variableDecorationType, []);\n\n        fs.readFile(decorationfile, \"utf8\", (err: any, data: any) => {\n            if (err) {\n                outputChannel.appendLine(err)\n                return\n            }\n            newDecorations = JSON.parse(data)\n\n            if (typeof (editor) === \"undefined\") {\n                return;\n            }\n            let uri = editor.document.uri.toString();\n    \n            let editorLintDecorations: vscode.DecorationOptions[] = [];\n            if (newDecorations[uri] === workspaceDecorations[uri]) {\n                return\n            } else {\n                workspaceLintDecorations[uri] = newDecorations[uri];\n                Object.keys(workspaceLintDecorations[uri]).forEach((d: any) => {\n                    editorLintDecorations.push(workspaceLintDecorations[uri][d]);\n                });\n        \n                runningLines = [];\n                editor.setDecorations(lintDecorationType, editorLintDecorations);\n                editor.setDecorations(runningDecorationType, runningLines);\n            }\n        })\n\n        // try{\n        //     ;\n        // } catch{\n        //     newDecorations = {};\n        //     return\n        // }\n    }\n}\n\nlet variableDecorationType: vscode.TextEditorDecorationType = vscode.window.createTextEditorDecorationType(\n    {\n        backgroundColor: 'none',\n        light: {\n            color: new vscode.ThemeColor(\"foreground\")\n        },\n        dark: {\n            color: new vscode.ThemeColor(\"foreground\")\n        },\n        rangeBehavior: vscode.DecorationRangeBehavior.ClosedClosed\n        \n    }\n);\n\nlet lintDecorationType: vscode.TextEditorDecorationType = vscode.window.createTextEditorDecorationType(\n    {\n        backgroundColor: 'none',\n        light: {\n            color: new vscode.ThemeColor(\"foreground\")\n        },\n        dark: {\n            color: new vscode.ThemeColor(\"foreground\")\n        },\n        rangeBehavior: vscode.DecorationRangeBehavior.ClosedClosed\n    }\n);\n\nlet runningDecorationType: vscode.TextEditorDecorationType = vscode.window.createTextEditorDecorationType(\n    {\n        backgroundColor: 'none',\n        light: {\n            color: new vscode.ThemeColor(\"foreground\")\n        },\n        dark: {\n            color: new vscode.ThemeColor(\"foreground\")\n        },\n        rangeBehavior: vscode.DecorationRangeBehavior.ClosedClosed\n    }\n);\n\nlet blockDecorationType: vscode.TextEditorDecorationType = vscode.window.createTextEditorDecorationType(\n    {\n        backgroundColor: 'none',\n        fontWeight: 'bold',\n        overviewRulerColor: new vscode.ThemeColor(\"foreground\"),\n\t\toverviewRulerLane: vscode.OverviewRulerLane.Right\n    }\n)\n\nfunction updateOutputPanel() {\n    let out = \"\";\n\n    printResults.forEach((row) => {\n        let data = \"\";\n        try {\n                data += row[1];\n        } catch (e) {\n            console.log((e as Error).message);\n            data += \"Error reading result\";\n        }\n\n        if (data !== \"\") {\n            out += \"<div id='result-header'>In: \" +\n                    row[0].substring(0,  1000) + \n                \"</div>\" +\n            \n                \"<div id='result'>\" +\n                    data +\n                \"</div>\";\n        }\n    })\n\n    let vars:string = \"\";\n\n    let i = 0;\n    vars += `<vscode-data-grid id=\"varTable\" generate-header=\"sticky\" aria-label=\"With Sticky Header\">\n    <vscode-data-grid-row row-type=\"header\">\n        <vscode-data-grid-cell cell-type=\"columnheader\" grid-column=\"1\">Name</vscode-data-grid-cell>\n        <vscode-data-grid-cell cell-type=\"columnheader\" grid-column=\"2\">Value</vscode-data-grid-cell>\n    </vscode-data-grid-row>`;\n    Object.keys(variableTable).forEach(k => {\n        // if (i % 2 === 0) {\n        //     vars += \"<tr><td style='background:var(--vscode-editor-foreground) !important; color:var(--vscode-editor-background) !important;'>\" + k + \"</td><td style='background:var(--vscode-editor-foreground) !important; color:var(--vscode-editor-background) !important;'>\" + variableTable[k] + \"</td></tr>\\n\"\n        // } else {\n        //     vars += \"<tr><td>\" + k + \"</td><td>\" + variableTable[k] + \"</td></tr>\\n\"\n        // }\n\n        \n\n        vars += `<vscode-data-grid-row>\n        <vscode-data-grid-cell grid-column=\"1\">${k}</vscode-data-grid-cell>\n        <vscode-data-grid-cell grid-column=\"2\">${variableTable[k]}</vscode-data-grid-cell>\n      </vscode-data-grid-row>`\n    });\n    vars += \"</vscode-data-grid>\";\n\n    outputPanel?.webview.postMessage({ text: out, vars: (vars) });\n    plotsPanel?.webview.postMessage({ text: out, vars: (vars) });\n}\n\nlet console_outputs:string[] = []\nlet socketsClosed = 0;\nasync function startWLSP(id:number): Promise<void> {\n    let timeout: any;\n\n    let serverOptions: ServerOptions = function () {\n        return new Promise(async (resolve, reject) => {\n            let socket = new net.Socket();\n            let retries = 0;\n            socket.setMaxListeners(5);\n\n            // socket.on(\"data\", (data) => {\n                // console.log(\"WLSP Kernel Data: \" + data.toString().slice(0, 200))\n                // console_outputs.push(data.toString());\n            // });\n\n            socket.on('connect', () => {\n                clearTimeout(timeout);\n                setTimeout(() => {\n                    resolve({\n                        reader: socket,\n                        writer: socket\n                    })\n                }, 100)\n            })\n\n            socket.on('error', function (err:any) {\n                outputChannel.appendLine(\"Client Socket error: \" + err)\n                retries += 1;\n                if (retries < 10) {\n                    if (err.code === 'ECONNREFUSED') {\n                        timeout = setTimeout(() => {\n                            socket.connect(clientPort, \"127.0.0.1\");\n                        }, 1500)\n                    }\n                } else {\n                    vscode.window.showErrorMessage(\"Wolfram LSP failed to connect. Please check that wolframscript is installed and running and that the port \" + clientPort + \" is not in use.\",\n                        { title: \"Try Again?\", command: \"wolfram.restart\" }).then(async (item) => {\n                            if (item?.command === \"wolfram.restart\") {\n                                restart()\n                            }\n                        })\n                }\n            })\n\n            socket.on(\"close\", () => {\n                outputChannel.appendLine(\"Client Socket closed\")    \n            });\n\n            socket.on('timeout', () => {\n                outputChannel.appendLine(\"Client Socket timeout\")    \n            });\n\n            socket.on('ready', () => {\n            })\n\n            socket.on('drain', () => {\n                // outputChannel.appendLine(\"Client Socket is draining\")\n                // outputChannel.appendLine(new Date().toLocaleTimeString())\n            })\n\n\n            socket.on(\"end\", () => {\n                outputChannel.appendLine(\"Client Socket end\");\n            })\n                 \n\n            fp(clientPort).then(([freePort]:number[]) => {\n                clientPort = freePort+id;\n                load(wolfram, lspPath, clientPort, outputChannel).then((r:any) => {\n                    wolfram = r\n                    socket.connect(clientPort, \"127.0.0.1\", () => {\n                        socket.setKeepAlive(true);\n                    });\n                });\n            })\n        })\n    };\n\n    let clientOptions: LanguageClientOptions = {\n        documentSelector: [\n            \"wolfram\"\n        ],\n        diagnosticCollectionName: 'wolfram-lsp',\n        outputChannel: outputChannel\n    };\n\n    return new Promise(async (resolve) => {\n        wolframClient = new LanguageClient('wolfram', 'Wolfram Language Server', serverOptions, clientOptions);       \n        \n        onclientReady();\n\n        // wolframClient.onReady().then(() => {\n        //     onclientReady();\n        // })\n\n        setTimeout(() => {\n            let disposible: vscode.Disposable |undefined;\n            wolframClient?.start();\n            outputChannel.appendLine(\"Client Started\")\n            // outputChannel.appendLine(new Date().toLocaleTimeString())\n            // if (disposible) {context.subscriptions.push(disposible)};\n            resolve()\n        }, 2000)\n\n    });\n}\n\n\nasync function startWLSPKernel(id:number): Promise<void> {\n    let timeout: any;\n    \n    let serverOptions: ServerOptions = function () {\n        return new Promise(async (resolve, reject) => {\n            let socket = new net.Socket();\n            let retries = 0;\n\n            socket.setMaxListeners(5);\n\n            // socket.on(\"data\", (data) => {\n                // outputChannel.appendLine(\"WLSP Kernel Data: \" + data.toString().slice(0, 200))\n                // console_outputs.push(data.toString());\n            // });\n\n            socket.on('connect', () => {\n                clearTimeout(timeout);\n                setTimeout(() => {\n                    resolve({\n                        reader: socket,\n                        writer: socket\n                    })\n                }, 10)\n            })\n\n            socket.on('error', function (err:any) {\n                outputChannel.appendLine(\"Kernel Socket error: \" + err)\n                retries += 1;\n                if (retries < 10) {\n                    if (err.code === 'ECONNREFUSED') {\n                        timeout = setTimeout(() => {                        \n                            socket.connect(kernelPort, \"127.0.0.1\", () => {\n                                socket.setKeepAlive(true);\n                            });\n                        }, 1500)\n                    }\n                } else {\n                    vscode.window.showErrorMessage(\"Wolfram Kernel failed to connect. Please check that wolframscript is installed and running and that the port \" + kernelPort + \" is not in use.\",\n                        { title: \"Try Again?\", command: \"wolfram.restart\" }).then(async (item) => {\n                            if (item?.command === \"wolfram.restart\") {\n                                restart()\n                            }\n                        })\n                }\n            })\n\n            socket.on(\"close\", () => {\n                outputChannel.appendLine(new Date().toLocaleTimeString())\n                outputChannel.appendLine(\"Kernel Socket closed\")    \n            });\n\n            socket.on('timeout', () => {\n                outputChannel.appendLine(\"Kernel Socket timeout\")    \n            });\n\n            socket.on('ready', () => {\n                clearTimeout(timeout);\n                setTimeout(() => {\n                    resolve({\n                        reader: socket,\n                        writer: socket\n                    }),\n                    500\n                })\n            })\n\n            socket.on('drain', () => {\n                // outputChannel.appendLine(\"Kernel Socket is draining\")\n            })\n\n\n            socket.on(\"end\", () => {\n                outputChannel.appendLine(\"Kernel Socket end\");\n            })\n                 \n\n            fp(kernelPort).then(([freePort]:number[]) => {\n                kernelPort = freePort+id;\n                load(wolframKernel, kernelPath, kernelPort, outputChannel).then((r:any) => {\n                    wolframKernel = r\n                    socket.connect(kernelPort, \"127.0.0.1\");\n                });\n            })\n        })\n    };\n\n    let clientOptions: LanguageClientOptions = {\n        documentSelector: [\n            \"wolfram\"\n        ],\n        diagnosticCollectionName: 'wolfram-lsp',\n        outputChannel: outputChannel,\n        markdown:{  \n            isTrusted: true,\n            supportHtml: true\n        }\n    };\n\n    return new Promise(async (resolve) => {\n        wolframKernelClient = new LanguageClient('wolfram', 'Wolfram Language Server', serverOptions, clientOptions);        \n     \n        onkernelReady();\n        // wolframKernelClient.onReady().then(() => {\n        //     onkernelReady();\n        // })\n\n\n        setTimeout(() => {\n            let disposible: vscode.Disposable |undefined;\n            // disposible = wolframKernelClient?.start();\n            wolframKernelClient?.start();\n            outputChannel.appendLine(\"Client Started\")\n            // outputChannel.appendLine(new Date().toLocaleTimeString())\n            // if (disposible) {context.subscriptions.push(disposible)};\n            resolve()\n        }, 2000)\n        \n    });\n}\n\n// \n\nasync function delay(ms: number) {\n    return new Promise((resolve) => { setTimeout(resolve, ms) })\n}\n\nfunction connectKernelClient(outputChannel: any, context: any) {\n\n}\n\nasync function load(wolfram: cp.ChildProcess, path: string, port: number, outputChannel: vscode.OutputChannel): Promise<cp.ChildProcess> {\n    return new Promise((resolve) => {\n        let executablePath:string = vscode.workspace.getConfiguration('wolfram').get('executablePath') || \"wolframscript\";\n        try {\n            if (process.platform === \"win32\") {\n                wolfram = cp.spawn('cmd.exe', ['/c', executablePath?.toString(), '-file', path, port.toString(), path], { detached: false });\n            } else {\n                wolfram = cp.spawn(executablePath?.toString(), ['-file', path, port.toString(), path], { detached: true });\n            }\n\n            wolfram.stdout?.once('data', (data: any) => {\n                outputChannel.appendLine(\"WLSP: \" + data.toString())\n                resolve(wolfram);\n            });\n\n\n            if (wolfram.pid != undefined) {\n                // console.log(\"Launching wolframscript: \" + wolfram.pid.toString());\n                processes.push(wolfram)\n            } \n            // else {\n            //     // console.log(\"Launching wolframscript: pid unknown\");\n            // }\n\n\n            wolfram.on('SIGPIPE', (data) => {\n                console.log(\"SIGPIPE\");\n            });\n\n\n            wolfram.stdout?.on('error', (data) => {\n                console.log(\"STDOUT Error\" + data.toString());\n            });\n\n            wolfram.stdout?.on('data', (data) => {\n                outputChannel.appendLine(\"WLSP: \" + data.toString())\n            });\n\n\n        } catch (error) {\n            console.log(error)\n            vscode.window.showErrorMessage(\"Wolframscript failed to load.\")\n            resolve(wolfram)\n        }\n    })\n}\n\n\n\nfunction stopWolfram(client: LanguageClient|undefined, client_process: any): Promise<void> {\n    return new Promise((resolve) => {\n        // client?.stop();\n        try {\n            client?.stop();\n        } catch {}\n\n        try {\n            let cp = require('child_process');\n            let isWin = /^win/.test(process.platform);\n            if (isWin) {\n                cp.exec('taskkill /PID ' + client_process.pid + ' /T /F', function (error: any, stdout: any, stderr: any) {});\n                resolve()\n\n            } else {\n                console.log(\"Killing process: \" + client_process.pid);\n                cp.exec('kill -9 ' + client_process.pid, function (error: any, stdout: any, stderr: any) {});\n                resolve()\n                // process.kill(-client_process.pid, 'SIGKILL');\n\n                // cp.exec('kill -9 ' + client_process.pid , function (error: any, stdout: any, stderr: any) {})\n                // client_process.kill();\n                // kill(client_process.pid);\n            }\n        } catch (e) {\n            console.log((e as Error).message)\n            resolve()\n        }\n    })\n}\n\nlet kill = function (pid: any) {\n    let signal = 'SIGTERM';\n    let callback = function () { };\n    var killTree = false;\n    if (killTree) {\n        psTree(pid, function (err: any, children: any) {\n            [pid].concat(\n                children.map(function (p: any) {\n                    return p.PID;\n                })\n            ).forEach(function (pid) {\n                try { process.kill(pid, signal); }\n                catch (ex) {\n                    console.log(\"Failed to kill: \" + pid)\n                    console.log((ex as Error).message)\n                }\n            });\n            callback();\n        });\n    } else {\n        try { process.kill(pid, signal); }\n        catch (ex) {\n            console.log(\"Failed to kill wolfram process\")\n        }\n        callback();\n    }\n};\n\n\n\n\n\n\nfunction runTextCell(location:vscode.Range) {\n    let e: vscode.TextEditor | undefined = vscode.window.activeTextEditor;\n    let sel: vscode.Selection = new vscode.Selection(\n        new vscode.Position(location.start.line, location.start.character),\n        new vscode.Position(location.end.line, location.end.character)\n    );\n    let evaluationData = { range: sel, textDocument: e?.document, print: false };\n    evaluationQueue.push(evaluationData);\n    sendToWolfram(false)\n}\n\nfunction printInWolfram(print = true) {\n    runInWolfram(print);\n}\n\nfunction didChangeSelection(event: vscode.TextEditorSelectionChangeEvent) {\n\n    let editor:vscode.TextEditor | undefined =  vscode.window.activeTextEditor;\n    editor?.setDecorations(blockDecorationType, []);\n    let cursorBlock0:any = cursorBlock();\n    let d: vscode.DecorationOptions = {\n        \"range\": new vscode.Range(\n            cursorBlock0.start.line,\n            0,\n            cursorBlock0.end.line,\n            cursorBlock0.end.character\n        )\n    }\n    editor?.setDecorations(blockDecorationType, [d]);\n}\n\nfunction didChangeTextDocument(event: vscode.TextDocumentChangeEvent): void {\n    // didOpenTextDocument(event.document);\n    // remove old decorations\n\n    let editor =  vscode.window.activeTextEditor;\n    let selection = editor?.selection.active;\n\n    if (event.document.uri.toString() !== editor?.document.uri.toString()) {\n        return\n    }\n\n    // clearDecorations();\n    // Remove old running lines and decorations\n    let newrunninglines = [];\n    newrunninglines = runningLines.filter((d:vscode.DecorationOptions) => {\n        if (selection) {\n            return d.range.start.line <= selection.line\n        } else {\n            return true\n        }\n    })\n    runningLines = newrunninglines;\n    editor.setDecorations(runningDecorationType, runningLines)\n\n    let newEditorDecorations = [];\n    newEditorDecorations = editorDecorations.filter((d:vscode.DecorationOptions) => {\n        if (selection) {\n            return d.range.start.line <= selection.line\n        } else {\n            return true\n        }\n    })\n    editorDecorations = newEditorDecorations;\n    editor.setDecorations(variableDecorationType, editorDecorations)\n\n    for (let i = 0; i < runningLines.length; i++) {\n        const d:vscode.DecorationOptions = runningLines[i];\n        if (selection?.line == d.range.start.line) {\n            d.range = new vscode.Range(\n                selection.line,\n                selection.character + 10,\n                selection.line,\n                selection.character + 110\n            )\n            runningLines[i] = d\n            editor.setDecorations(runningDecorationType, runningLines)\n        }\n    }\n\n    for (let i = 0; i < editorDecorations.length; i++) {\n        const d:vscode.DecorationOptions = editorDecorations[i];\n        if (selection?.line == d.range.start.line) {\n            d.range = new vscode.Range(\n                selection.line,\n                selection.character + 10,\n                selection.line,\n                selection.character + 110\n            )\n            editorDecorations[i] = d\n            editor.setDecorations(variableDecorationType, editorDecorations)\n        }\n    }\n\n    if (vscode.workspace.getConfiguration().get(\"wlsp.liveDocument\")) {\n        let doc = editor?.document;\n\n        if (wolframKernelClient) {        \n                wolframKernelClient?.sendNotification(\"runDocumentLive\", doc?.uri)\n        } \n        return\n    }  \n    return;\n}\n\nfunction isUntitled(document:vscode.TextDocument) {\n    return (document.languageId === \"wolfram\" && document.uri.scheme === 'untitled')\n}\n\n\nlet totalClients:number = 0;\nfunction didOpenTextDocument(document: vscode.TextDocument): void {\n    if (document.languageId !== 'wolfram' || (document.uri.scheme !== 'file' && document.uri.scheme !== 'untitled')) {\n        return;\n    }\n\n    let folder = vscode.workspace.getWorkspaceFolder(document.uri);\n    if (!folder) {\n        if (document.languageId == 'wolfram' && !clients.has(\"default\")) {\n            totalClients++;\n            // startWLSP(totalClients)\n            // startWLSPKernel(totalClients)\n            clients.set(\"default\", [wolframClient, wolframKernelClient])\n            return;\n        }  \n        return\n    }\n    \n    if (!clients.has(folder.uri.toString()) && document.languageId === \"wolfram\"){\n        totalClients++;\n        // startWLSP(totalClients)\n        // startWLSPKernel(totalClients)\n        clients.set(folder.uri.toString(), [wolframClient, wolframKernelClient])\n    }\n\n    if (isUntitled(document) && clients.size == 0) {\n        // startWLSP()\n        // startWLSPKernel()\n\n        clients.set(\"default\", [wolframClient, wolframKernelClient])\n        return;\n\n    }  \n\n    return;\n}\n\n\nfunction didSaveTextDocument(event: vscode.TextDocument): void {\n    treeDataProvider.refresh();\n    clearDecorations();\n    didOpenTextDocument(event);\n    return;\n}\n\n\nfunction createFile() {\n    vscode.workspace.openTextDocument(vscode.Uri.parse(\"untitled:.wl\")).then((document: vscode.TextDocument) => {\n        vscode.window.showTextDocument(document);\n    });\n}\n\nfunction createNotebook() {\n    vscode.workspace.openNotebookDocument(vscode.Uri.parse(\"untitled:.nb\")).then((document: vscode.NotebookDocument) => {\n        // vscode.window.showNotebookDocument(document);\n    });\n}\n\nfunction createNotebookScript() {\n    vscode.workspace.openNotebookDocument(vscode.Uri.parse(\"untitled:.wl\")).then((document: vscode.NotebookDocument) => {\n        // vscode.window.showNotebookDocument(document);\n    });\n}\n\n\nfunction didChangeWindowState(state: vscode.WindowState) {\n    if (wolframClient !== null || wolframClient !== undefined) {\n        if (state.focused === true) {\n            wolframClient?.sendNotification(\"windowFocused\", true);\n        } else {\n\n            wolframClient?.sendNotification(\"windowFocused\", false);\n        }\n    }\n}\n\n\nfunction startWolframTerminal() {\n    let cmd: string;\n    let args: string[];\n    if (process.platform === \"win32\") {\n        cmd = 'cmd.exe';\n        args = ['/c', 'wolframscript.exe'];\n    } else {\n        cmd = 'rlwrap wolframscript';\n        args = [];\n    }\n    let activeWolframTerminal: vscode.Terminal;\n    activeWolframTerminal = vscode.window.createTerminal(\"wolfram terminal\", cmd, args);\n    activeWolframTerminal.show(true);\n}\n\nfunction runInTerminal() {\n    if (!vscode.window.activeTerminal) {\n        startWolframTerminal();\n    }\n\n    let e: any = vscode.window.activeTextEditor;\n    let d: vscode.TextDocument = e!.document;\n    let sel = e!.selections;\n    vscode.window.activeTerminal?.sendText(d.getText(new vscode.Range(e.selection.start, e?.selection.end)));\n}\n\nfunction help() {\n    let e: vscode.TextEditor | undefined = vscode.window.activeTextEditor;\n    let d = e!.document;\n    let sel = e!.selections;\n    let txt = \"\";\n    let dataString = \"\";\n    for (var x = 0; x < sel.length; x++) {\n        txt = txt + d.getText(new vscode.Range(sel[x].start, sel[x].end));\n    }\n\n    let url = \"https://reference.wolfram.com/language/ref/\" + txt + \".html\";\n    // opn(url);\n\n    let helpPanel = vscode.window.createWebviewPanel(\n        \"wolframHelp\",\n        \"Wolfram Help\",\n        2,\n        {\n            enableScripts: true,\n            retainContextWhenHidden: true\n        }\n    );\n    helpPanel.webview.html = `<!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n    \n    <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self' https://reference.wolfram.com 'unsafe-inline'\">\n    \n    </head>\n    <body>\n        <span>\n            <input\n                action=\"action\"\n                onclick=\"window.history.go(-1); return false;\"\n                type=\"button\"\n                value=\"Back\"\n            />\n            <input\n                action=\"action\"\n                onclick=\"window.history.forward(); return false;\"\n                type=\"button\"\n                value=\"Forward\"\n            />\n        </span>\n        <iframe src=\"${url}\" style=\"height:100vh; width:100%\" sandbox=\"allow-same-origin allow-scripts allow-popups allow-forms allow-top-navigation allow-modals\"></iframe>\n    </body>\n    </html>\n    `\n}\n\nfunction stringHelp(string: string) {\n    let url = \"https://reference.wolfram.com/language/ref/\" + string + \".html\";\n    let helpPanel = vscode.window.createWebviewPanel(\n        \"wolframHelp\",\n        \"Wolfram Help\",\n        2,\n        {\n            enableScripts: true,\n            retainContextWhenHidden: true\n        }\n    );\n\n    helpPanel.webview.html = `<!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n    \n    <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self' https://reference.wolfram.com 'unsafe-inline'\">\n    \n    </head>\n    <body>\n        <span>\n            <input\n                action=\"action\"\n                onclick=\"window.history.go(-1); return false;\"\n                type=\"button\"\n                value=\"Back\"\n            />\n            <input\n                action=\"action\"\n                onclick=\"window.history.forward(); return false;\"\n                type=\"button\"\n                value=\"Forward\"\n            />\n        </span>\n        <iframe src=\"${url}\" style=\"height:100vh; width:100%\" sandbox=\"allow-same-origin allow-scripts allow-popups allow-forms allow-top-navigation allow-modals\"></iframe>\n    </body>\n    </html>\n    `\n}\n\nfunction textToSection() {\n    let e: vscode.TextEditor | undefined = vscode.window.activeTextEditor;\n\n    let lines: string[];\n    let newlines: string = \"\";\n\n    if (e) {\n        let sel: vscode.Selection = e.selection;\n        lines = e?.document.getText(new vscode.Range(sel.start, sel.end)).split('\\n');\n\n        lines.forEach(l => {\n            newlines += \"(*\" + l + \"*)\\n\"\n        });\n\n\n        e.edit(editbuilder => {\n            editbuilder.replace(sel, newlines.trimRight())\n        })\n    }\n}\n\n\nfunction textFromSection() {\n    let e: vscode.TextEditor | undefined = vscode.window.activeTextEditor;\n\n    let lines: string[];\n    let newlines: string = \"\";\n\n    if (e) {\n        let sel: vscode.Selection = e.selection;\n        lines = e?.document.getText(new vscode.Range(sel.start, sel.end)).split('\\n');\n\n        lines.forEach(l => {\n            newlines += l.replace(/^\\(\\*/, \"\").replace(/\\*\\)$/, \"\") + \"\\n\"\n        });\n\n\n        e.edit(editbuilder => {\n            editbuilder.replace(sel, newlines.trimRight())\n        })\n    }\n}\n\n\nfunction showTrace() {\n    runInWolfram(false, true)\n}\n\nfunction errorMessages(params: any) {\n    let file = params[\"file\"];\n    fs.readFile(file, \"utf8\", (err:any, data:any) => {\n        if (err) return \n\n        let errors = JSON.parse(data)\n\n        errors.forEach((e:any) => {\n            vscode.window.showErrorMessage(e.toString())\n        });\n    })\n}\n// let kill = function (pid:any) {\n//     let signal   = 'SIGKILL';\n//     let callback = function () {};\n//     var killTree = true;\n//     if(killTree) {\n//         psTree(pid, function (err:any, children:any) {\n//             [pid].concat(\n//                 children.map(function (p:any) {\n//                     return p.PID;\n//                 })\n//             ).forEach(function (pid) {\n//                 try { process.kill(pid, signal);}\n//                 catch (ex) {\n//                     console.log(\"Failed to kill: \" + pid)\n//                  }\n//             });\n//             callback();\n//         });\n//     } else {\n//         try { process.kill(pid, signal); }\n//         catch (ex) { \n//             console.log(\"Failed to kill wolfram process\")}\n//         callback();\n//     }\n// };\n// async function connect(context: vscode.ExtensionContext, outputChannel: vscode.OutputChannel, port: number, type?: string): Promise<(any)[]> {\n\n    //     let serverOptions: ServerOptions = function () {\n    //         return new Promise((resolve, reject) => {\n    //             let socket = new net.Socket();\n    \n    //             socket.setMaxListeners(100);\n    \n    //             // socket.on(\"data\", (data) => {\n    //                 // console.log(\"WLSP Kernel Data: \" + data.toString().slice(0, 200))\n    //                 // console_outputs.push(data.toString());\n    //             // });\n    \n    //             let timeout: any;\n    //             socket.on('connect', () => {\n    //                 console.log(\"Socket connected: \" )\n    //                 clearTimeout(timeout);\n    //                 resolve({\n    //                     reader: socket,\n    //                     writer: socket\n    //                 })\n    //             })\n    \n    //             socket.on('error', function (err) {\n    //                 // console.log(\"Socket Error: \" + err.message);\n    //                 timeout = setTimeout(() => {            \n    //                     socket.connect(port, \"127.0.0.1\", () => {\n    //                         socket.setKeepAlive(false);\n    //                     });\n    //                 },1000)\n    //             })\n    \n    //             socket.on(\"close\", () => {\n    //                 console.log(\"Socket close\")    \n    //                 // startLanguageServer(context, outputChannel)\n    //             })\n    \n    //             socket.on('timeout', () => {\n    //                 console.log(\"Socket timeout\")    \n    //             });\n    \n    //             socket.on('ready', () => {\n    //                 console.log(\"Socket ready\")     \n    //             })\n    \n    //             socket.on('drain', () => {\n    //                 // console.log(\"Socket is draining\")\n    //             })\n    \n    \n    //             socket.on(\"end\", () => {\n    //                 console.log(\"Socket end\");\n    //                 timeout = setTimeout(() => {\n    //                     socket.connect(port, \"127.0.0.1\", () => { socket.setKeepAlive(true) });\n    //                 }, 1000);\n    //             })\n    \n    //             socket.connect(port, \"127.0.0.1\", () => {\n    //                 socket.setKeepAlive(false);\n    //             });\n    \n    \n    //         })\n    //     };\n    \n    //     let clientOptions: LanguageClientOptions = {\n    //         documentSelector: [\n    //             \"wolfram\"\n    //         ],\n    //         diagnosticCollectionName: 'wolfram-lsp',\n    //         outputChannel: outputChannel\n    //     };\n    \n    \n    //     return new Promise(async (resolve) => {\n    //         let disposible: vscode.Disposable;\n    //         let client = new LanguageClient('wolfram', 'Wolfram Language Server', serverOptions, clientOptions);    \n    //         while (client.needsStart()){\n    //             console.log(\"Waiting for client to start...\");\n    //             disposible = client.start();\n    //             delay(1000);\n    //         }\n    //         client.onReady().then(() => {\n    //             console.log(\"Client ready\");\n    //             resolve([client, disposible]);\n    //         });\n    \n    //         // disposible = client.start();\n    //         // resolve([client, disposible]);\n    //     });\n    // }","\n\nimport { Uri, Webview } from \"vscode\";\n\nexport function getOutputContent(webview: any, extensionUri: Uri) {\n    let timeNow = new Date().getTime();\n    const toolkitUri = getUri(webview, extensionUri, [\n        \"media\",\n        \"toolkit.js\"\n    ]);\n    \n    let result = `<!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n\n        <style type=\"text/css\">\n\n            body{\n                overflow:scroll;\n                height:100%;\n            }\n\n            body.vscode-light {\n                background: var(--vscode-editor-background);\n                color: var(--vscode-editor-foreground);\n                font: var(--vscode-editor-font-family);\n            }\n\n            body.vscode-dark {\n                background: var(--vscode-editor-background);\n                color: var(--vscode-editor-foreground);\n                font: var(--vscode-editor-font-family);\n            }\n\n            body.vscode-high-contrast {\n                background: var(--vscode-editor-background);\n                color: var(--vscode-editor-foreground);\n                font: var(--vscode-editor-font-family);\n            }\n\n            #expression {\n                background: var(--vscode-editor-background);\n                color: var(--vscode-editor-foreground);\n                font: var(--vscode-editor-font-family);\n                width: 100%;\n            }\n\n            #vars {\n                height:98vh;\n                position:relative;\n                top:0;\n                border-bottom: solid white 1px;\n                overflow-y:scroll;\n                width:93vw;\n            }\n\n            .outer {\n                height:100vh;\n                display:block;\n                position:relative;\n                top:0;\n            }\n            #scratch {\n                position:fixed;\n                width:95vw;\n                bottom:0px;\n                height: 8vh;\n            }\n\n            #scratch textarea {\n                border-radius:2px;\n                color: var(--vscode-editor-foreground);\n                font: var(--vscode-editor-font-family);\n            }\n\n        </style>\n        <meta charset=\"UTF-8\">\n\n        <meta\n            http-equiv=\"Content-Security-Policy\"\n            content=\"default-src 'none'; img-src ${webview.cspSource} https:; script-src ${webview.cspSource} 'unsafe-inline'; style-src ${webview.cspSource} 'unsafe-inline';\"\n            />\n\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <script type=\"module\" src=\"${toolkitUri}\"></script>\n        <title>Data Table</title>\n        <script>\n            const vscode = acquireVsCodeApi();\n\n            function scrollToBottom() {\n                // window.scrollTo(0,document.body.scrollHeight);\n\n                var color = '';\n                var fontFamily = '';\n                var fontSize = '';\n                var theme = '';\n                var fontWeight = '';\n                try {\n                    computedStyle = window.getComputedStyle(document.body);\n                    color = computedStyle.color + '';\n                    backgroundColor = computedStyle.backgroundColor + '';\n                    fontFamily = computedStyle.fontFamily;\n                    fontSize = computedStyle.fontSize;\n                    fontWeight = computedStyle.fontWeight;\n                    theme = document.body.className;\n                } catch(ex) { }\n            }\n\n        function run(input) {\n            if(event.key === 'Enter') {\n                if(event.shiftKey) {\n                    vscode.postMessage({\n                        text: input.value\n                    });\n                    input.value = \"\"\n                }\n            }\n        }\n\n        window.addEventListener('message', event => {\n            const message = event.data;\n            console.log(message.vars)\n\n            const varT = document.getElementById(\"vars\");\n            varT.innerHTML = message.vars;\n        })\n        </script>\n    </head>\n    <body>\n        <div class=\"outer\">\n            <div id=\"vars\">\n                <vscode-data-grid id=\"varTable\" generate-header=\"sticky\" aria-label=\"With Sticky Header\">\n                    <vscode-data-grid-row row-type=\"header\">\n                        <vscode-data-grid-cell cell-type=\"columnheader\" grid-column=\"1\">Name\n                        </vscode-data-grid-cell>\n                        <vscode-data-grid-cell cell-type=\"columnheader\" grid-column=\"2\">value\n                        </vscode-data-grid-cell>\n                    </vscode-data-grid-row>\n              \n                \n                </vscode-data-grid>\n            </div>\n        </div>\n    </body>\n    </html>`;\n    return result;\n}\n\nfunction getUri(webview: Webview, extensionUri: Uri, pathList: string[]) {\n    // return webview.asWebviewUri(\n    //     Uri.file(\n    //         Uri.joinPath(extensionUri, ...pathList).toString()));\n\n    return webview.asWebviewUri(Uri.joinPath(extensionUri, ...pathList));\n}","import { rejects, throws } from 'assert';\nimport { Runnable } from 'mocha';\nimport { rawListeners } from 'process';\nimport * as vscode from 'vscode';\nimport { \n\tBaseLanguageClient,\n\tLanguageClientOptions} from 'vscode-languageclient';\nimport { wolframClient } from './clients';\n\n\n\nexport interface RawNotebookCell {\n    indentation?: string;\n    metadata?:any;\n\t  language: string;\n\t  value: string;\n    kind: vscode.NotebookCellKind;\n}\n\n// export function activate(context: vscode.ExtensionContext) {\n//     context.subscriptions.push(\n//       vscode.workspace.registerNotebookSerializer('wolfram-notebook', new WolframNotebookSerializer())\n//   );\n// } todo: add this back in when we have a way to activate the extension\n\nexport class WolframNotebookSerializer implements vscode.NotebookSerializer {\n\n  async deserializeNotebook(\n    content: Uint8Array,\n    _token: vscode.CancellationToken\n  ): Promise<vscode.NotebookData> {\n    return new Promise((resolve, reject) => {\n      var contents = new TextDecoder().decode(content);\n\n\n      let x = this.mretry(contents, 1, resolve)\n    })\n  }\n\n  private raw: vscode.NotebookCellData[] = [];\n  private cells: vscode.NotebookCellData[] = [];\n  getCells(item:any){\n    if(item.constructor.name === \"Array\"){\n      item.map(\n        (item:any) => this.getCells(item)\n      );\n    } else {\n      this.raw.push({\n        kind: item.kind,\n        languageId: item.languageId,\n        value: item.value,\n        metadata: item.metadata,\n        outputs: item.outputs\n      })\n    }\n  } \n\n  mretry(contents:any, attempts:number, cb:any) {\n    setTimeout(() => {\n      if (attempts > 20) {\n        vscode.window.showErrorMessage(\"Failed to open notebook.\")\n        cb(new vscode.NotebookData(this.cells));\n        return new vscode.NotebookData(this.cells);\n      } \n      if (wolframClient !== undefined) {\n      \n          wolframClient?.sendRequest(\"deserializeNotebook\", {contents: contents}).then((result:any)=>{\n\n            this.raw = [];\n            result.map(\n              (item:any) => this.getCells(item)\n            );\n            this.cells = this.raw.map(\n              (item:any) => {\n              let i = new vscode.NotebookCellData(item.kind, item.value, item.languageId)\n\n              i.metadata = item.metadata;\n\n              let outs = item.outputs.reduce((o:any, c:any) => {\n                return {value: o.value?.toString() + \"<br>\" + c?.value?.toString()}\n              }, {value:\"\"}).value\n\n              i.outputs = [\n                new vscode.NotebookCellOutput([\n                  vscode.NotebookCellOutputItem.text(outs, \"text/html\")\n                ])\n              ] \n              \n              return i\n              }\n            );\n            cb(new vscode.NotebookData(this.cells));\n            return new vscode.NotebookData(this.cells);\n          }).then((result:any) => {\n            return result\n          })\n      } else {\n        console.log(\"Waiting for kernel\")\n        this.mretry(contents, attempts++, cb)\n      }\n    }, 3000)\n  }\n\n  async serializeNotebook(\n    data: vscode.NotebookData,\n    _token: vscode.CancellationToken\n  ): Promise<Uint8Array> {\n    let contents: any[] = [];\n\n    for (const cell of data.cells) {\n      contents.push({\n        kind: cell.kind,\n        language: cell.languageId,\n        value: cell.value,\n        metadata: Object.values((cell as any).metadata).join(\"\"),\n        outputs: cell.outputs\n      });\n    }\n\n    if (wolframClient) {\n      return wolframClient.sendRequest(\"serializeNotebook\", {contents: contents}).then((result:any)=>{\n         return Buffer.from(result);\n      });\n    } else {\n      return Buffer.from(JSON.stringify(contents));\n    }\n  }\n\n  \n}\n\nexport class WolframScriptSerializer implements vscode.NotebookSerializer {\n  private raw: vscode.NotebookCellData[] = [];\n  private cells: vscode.NotebookCellData[] = [];\n\n  async deserializeNotebook(\n    content: Uint8Array,\n    _token: vscode.CancellationToken\n  ): Promise<vscode.NotebookData> {\n    return new Promise((resolve, reject) => {    \n      var contents = new TextDecoder().decode(content);\n\n      let x = this.mretry(contents, 1, resolve) \n\n    })\n  }\n\n  async serializeNotebook(\n    data: vscode.NotebookData,\n    _token: vscode.CancellationToken\n  ): Promise<Uint8Array> {\n    let contents: any[] = [];\n\n    for (const cell of data.cells) {\n      contents.push({\n        kind: cell.kind,\n        language: cell.languageId,\n        value: cell.value,\n        metadata: Object.values((cell as any).metadata).join(\"\"),\n        outputs: \"\" //cell.outputs\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      if (wolframClient !== undefined) {\n        return wolframClient?.sendRequest(\"serializeScript\", {contents: contents}).then((result:any)=>{\n          resolve(Buffer.from(result));\n        });\n    } else {\n      let string = \"\";\n      for (const cell of contents) {\n        string += cell.value + \"\\n\\n\\n\";\n      }\n      resolve(Buffer.from(string));\n    }\n  })}\n\n  getCells(item:any){\n    if(item.constructor.name === \"Array\"){\n      item.map(\n        (item:any) => this.getCells(item)\n      );\n    } else {\n      this.raw.push({\n        kind: item.kind,\n        languageId: item.languageId,\n        value: item.value,\n        metadata: item.metadata,\n        outputs: item.outputs\n      })\n    }\n  }\n    \n  mretry(contents:any, attempts:number, cb:any) {\n    setTimeout(() => {\n      if (attempts > 20) {\n        vscode.window.showErrorMessage(\"Failed to open notebook.\")\n        cb(new vscode.NotebookData(this.cells));\n        return new vscode.NotebookData(this.cells);\n      } \n      if (wolframClient !== undefined) {\n      \n          wolframClient?.sendRequest(\"deserializeScript\", {contents: contents}).then((result:any)=>{\n\n            this.raw = [];\n            result.map(\n              (item:any) => this.getCells(item)\n            );\n            this.cells = this.raw.map(\n              (item:any) => {\n              try{\n                let i = new vscode.NotebookCellData(item.kind, item.value, item.languageId)\n  \n                i.metadata = item.metadata;\n                \n                return i\n              } catch(e){\n                return new vscode.NotebookCellData(1, item ? \"\" : item.value?.toString() , \"markdown\")  \n              }\n              }\n            );\n            cb(new vscode.NotebookData(this.cells));\n            return new vscode.NotebookData(this.cells);\n          }).then((result:any) => {\n            return result\n          })\n      } else {\n        console.log(\"Waiting for kernel to deserialize script\")\n        this.mretry(contents, attempts++, cb)\n      }\n    }, 3000)\n  }\n\n}\n\nexport class WolframNotebook {\n    public mapping: Map<number, any> = new Map();\n    private wolframClient:BaseLanguageClient;\n\tprivate preloadScript = false;\n\tprivate displayOrders = [\n\t\t'text/html',\n\t\t'application/json',\n\t\t'application/javascript',\n\t\t'application/vnd.*',\n\t\t'image/svg+xml',\n\t\t'text/markdown',\n\t\t'image/svg+xml',\n\t\t'image/png',\n\t\t'image/jpeg',\n\t\t'text/plain'\n    ];\n    private nextExecutionOrder = 0;\n    public version = 0;\n    public contentOptions = {\n        transientOutputs: true,\n        transientMetadata: {}\n    }\n    \n    constructor(\n        public uri:vscode.Uri,\n        public fileName:string,\n        public viewType:string,\n        public isDirty:boolean,\n        public isUntitled:boolean,\n        public cells: readonly any[],\n        public languages: string[],\n        // public metadata: vscode.NotebookDocumentMetadata,\n        private _wolframClient:BaseLanguageClient) {\n\n            // this.uri = uri;\n            this.fileName = fileName;\n            this.viewType = viewType;\n            this.isDirty = isDirty;\n            this.isUntitled = isUntitled;\n            this.cells = cells;\n            this.languages = languages;\n            // this.metadata = metadata;\n            this.wolframClient = _wolframClient;\n    }\n    // uri: vscode.Uri;\n    // fileName: string;\n    // viewType: string;\n    // isDirty: boolean;\n    // isUntitled: boolean;\n    // cells: readonly vscode.NotebookCell[];\n    // languages: string[];\n    // displayOrder?: vscode.GlobPattern[] | undefined;\n    // metadata: vscode.NotebookDocumentMetadata;\n\n    public setWolframClient(_wolframClient:BaseLanguageClient) {\n        this.wolframClient = _wolframClient\n    }\n\n    // async execute(document: vscode.NotebookDocument, cell: vscode.NotebookCell | undefined) {\n    //     if (cell) {\n    //         const index = document.getCells().indexOf(cell);\n    //         let source = cell.document.getText();\n    //         let r:vscode.Selection = new vscode.Selection(\n    //             0,\n    //             0,\n    //             0,\n    //             0\n    //         );\n            \n    //         if (this.wolframClient){       \n    //             await this.wolframClient.sendRequest(\"runCell\", {range:r, textDocument:document.uri.toString(), print:false, source:source}).then((result:any) => {\n    //                 let c = document.cellAt(index);\n    //                 c.outputs.concat([\n    //                     {\n    //                             mime: \"text/html\",\n    //                             value: \n    //                                 \"<div style=\\\"min-height:50px; max-height:300px; overflow:scroll\\\">\" + result.output.toString() + \"<\\div>\"\n    //                     }]\n    //                 )  \n    //             }  else {\n    //                 console.log(\"Wolfram not connected\");\n    //                 vscode.window.showErrorMessage(\"Wolfram not connected.\");\n    //             }\n    //     }\n    // }\n\n    // resolve(): vscode.NotebookData {\n    //     let result = {\n    //         languages: ['wolfram'],\n    //         metadata: {\n\n\t// \t\t\teditable: this.metadata?.editable === undefined ? true : this.metadata?.editable,\n\t// \t\t\trunnable: this.metadata?.runnable === undefined ? true : this.metadata?.runnable,\n\t// \t\t\tcellEditable: this.metadata?.cellEditable === undefined ? true : this.metadata?.cellEditable,\n\t// \t\t\tcellRunnable: this.metadata?.cellRunnable === undefined ? true : this.metadata?.cellRunnable,\n\t// \t\t\tdisplayOrder: this.displayOrders\n    //         },\n    //         cells: this.cells.map(((raw_cell:any):vscode.NotebookCellData => {\n    //             let outputs:vscode.NotebookCellOutput[] = [];\n    //             let metadata = {editable:true, runnable:true, cellEditable:true, cellRunnable:true};\n    //             return {\n    //                 kind: raw_cell.cellKind,\n    //                 source: raw_cell.source,\n    //                 language: raw_cell.language || 'wolfram',\n    //                 outputs: outputs,\n    //                 // metadata: metadata\n    //             }\n    //         }))\n    //     }\n\n    //     return result;\n    // }\n\n}\n\n\n\nasync function timeFn(fn: () => Promise<void>): Promise<number> {\n    const startTime = Date.now();\n    await fn();\n    return Date.now() - startTime;\n}\n\n\n// export class WolframProvider implements vscode.NotebookContentProvider, vscode.NotebookKernel {\n//     private _onDidChangeNotebook = new vscode.EventEmitter<vscode.NotebookDocumentEditEvent>();\n// \tpublic _notebooks: Map<string, WolframNotebook> = new Map();\n// \tonDidChange: vscode.Event<void> = new vscode.EventEmitter<void>().event;\n// \tlabel: string = 'Wolfram';\n//     isPreferred: boolean = true;\n//     private wolframClient:LanguageClient;\n    \n//     constructor(viewType: string, private _extensionPath: string, private fillOutputs: boolean, private _wolframClient:LanguageClient) {\n\n//         this.wolframClient = _wolframClient;\n// \t\tconst emitter = new vscode.EventEmitter<void>();\n// \t\tvscode.notebook.registerNotebookContentProvider({ notebookType: viewType }, {\n// \t\t\tonDidChangeKernels: undefined,\n// \t\t\tprovideKernels: () => {\n// \t\t\t\treturn [this];\n// \t\t\t}\n// \t\t});\n\n// \t\tsetTimeout(() => {\n// \t\t\temitter.fire();\n// \t\t}, 5000);\n\n//     }\n\n//     public setWolframClient(_wolframClient:LanguageClient) {\n//         this.wolframClient = _wolframClient;\n//         this._notebooks.forEach((n:WolframNotebook, k:string) => {\n//             n.setWolframClient(_wolframClient);\n//         })\n//     }\n    \n//     async openNotebook(uri: vscode.Uri, context:vscode.NotebookDocumentOpenContext): Promise<vscode.NotebookData> {\n//         let actualUri = context.backupId ? vscode.Uri.parse(context.backupId) : uri; \n\n//         try {\n\n//             this.wolframClient.sendRequest(\"openNotebook\", {path:actualUri}).then(async (result:any) => {\n//                 let source = (await vscode.workspace.fs.readFile(actualUri)).toString();\n\n            \n            \n//             // const metadata:vscode.NotebookDocumentMetadata =  { editable: true, cellEditable: true, cellHasExecutionOrder: true, cellRunnable: true, runnable: true };\n//                         // {\n//             //     cells: [{\n//             //         cell_type: 'markdown',\n//             //         source: [\n//             //             '# header'\n//             //         ]\n//             //     }]\n//             // }\n//             let rawcells:any = [];\n            \n//             // = source.replace(/\\r/gm,\"\\n\").split(/\\n\\n\\n\\n|(?<=::\\s+\\*\\))\\n+/).map((s:any) => {\n//             //         let trimmed = s.trim();\n//             //         if (trimmed.substr(0, 3) == \"(* \" && trimmed.substr(trimmed.length - 3) == \" *)\"){\n//             //             return {\n//             //                 type: 'markdown',\n//             //                 source: s,\n//             //                 metadata:{editable:true, runnable:true, cellEditable:true, cellRunnable:true, language_info:'markdown'},\n//             //                 language:'markdown',\n//             //                 cellKind: vscode.CellKind.Markdown,\n//             //                 outputs:[]\n//             //             }\n//             //         } else {\n//             //             return {\n//             //                     type: 'wolfram',\n//             //                     source: s,\n//             //                     metadata:{editable:true, runnable:true, cellEditable:true, cellRunnable:true, language_info:'wolfram'},\n//             //                     language:'wolfram',\n//             //                     cellKind: vscode.CellKind.Code,\n//             //                     outputs:[]\n//             //                 }}\n//             //     })\n//             let languages = ['wolfram']       \n        \n//             let wolframNotebook = new WolframNotebook(\n//                 uri,\n//                 uri.fsPath.toString(),\n//                 \"wolfram.input\",\n//                 false,\n//                 false,\n//                 rawcells,\n//                 languages,\n//                 metadata,\n//                 this.wolframClient\n//             )\n\n//             //let wolframNotebook = new WolframNotebook(this._extensionPath, notebookRaw, true, this.wolframClient);\n            \n//             this._notebooks.set(uri.toString(), wolframNotebook);\n//             return wolframNotebook.resolve();\n//         })\n//         } catch (error) {\n//             console.log(error.message)\n//             throw new Error(\"Failed to load the document\");\n//         }\n//     }\n\n//     async executeCell(document: vscode.NotebookDocument, cell: vscode.NotebookCell | undefined): Promise<void> {\n// \t\tif (cell) {\n// \t\t\t// cell.metadata.statusMessage = 'Running';\n// \t\t\t// cell.metadata.runStartTime = Date.now();\n//             // cell.metadata.runState = vscode.NotebookCellRunState.Running;\n//             // cell.outputs = [];\n// \t\t} else {\n//             // document.cells.map((c:any) => {\n//             //     this.executeCell(document, c);\n//             // })\n//         }\n\n// \t\tconst duration = await timeFn(async () => {\n// \t\t\tconst wolframNotebook = this._notebooks.get(document.uri.toString());\n// \t\t\tif (wolframNotebook) {\n// \t\t\t\treturn wolframNotebook.execute(document, cell);\n// \t\t\t}\n// \t\t});\n\n// \t\tif (cell) {\n// \t\t\t// cell.metadata.lastRunDuration = duration;\n// \t\t\t// cell.metadata.statusMessage = 'Success'\n// \t\t\t// cell.metadata.runState = vscode.NotebookCellRunState.Success;\n// \t\t}\n//     }\n\n//     async executeAllCells(document:vscode.NotebookDocument):Promise<void>{\n// \t\tawait this.executeCell(document, undefined);\n//     }\n\n//     async cancelAllCellsExecution(document:vscode.NotebookDocument):Promise<void> {\n\n//     }\n\n//     async cancelCellExecution(document:vscode.NotebookDocument, cell: vscode.NotebookCell | undefined){\n//         if(cell) {\n//             // cell.metadata.statusMessage = \"Cancelled\";\n//             // cell.metadata.runState = vscode.NotebookCellRunState.Error;\n//         }\n//     }\n\n//      // The following are dummy implementations not relevant to this example.\n//     // onDidChangeNotebook = new vscode.EventEmitter<vscode.NotebookDocumentEditEvent>().event;\n\n// \tonDidChangeNotebook: vscode.Event<vscode.NotebookDocumentEditEvent> = this._onDidChangeNotebook.event;\n\n//     async resolveNotebook(): Promise<void> { \n//         return \n//      }\n//     async saveNotebook(document: vscode.NotebookDocument, cancellation: vscode.CancellationToken): Promise<void> { \n//          const stringOutput = document.cells.map((c:any) => {\n//             return c.document.getText() +\"\\n\\n\\n\"\n//          }).reduce((p, c) => {return p + c}).trim();\n//          await vscode.workspace.fs.writeFile(document.uri, Buffer.from(stringOutput));\n//      }\n//     async saveNotebookAs(targetResource: vscode.Uri, document: vscode.NotebookDocument, cancellation: vscode.CancellationToken): Promise<void> { \n//         const stringOutput = document.cells.map((c:any) => {\n//            return c.source\n//         }).reduce((p, c) => {return p + c});\n//         await vscode.workspace.fs.writeFile(targetResource, Buffer.from(stringOutput));}\n//     async backupNotebook(): Promise<vscode.NotebookDocumentBackup> { return { id: '', delete: () => { } };}\n// }\n\nexport function deactivate() {}","\nimport AbortController from 'abort-controller';\nimport { exec } from 'child_process';\nimport * as vscode from 'vscode';\nconst fs = require('fs')\nimport { wolframKernelClient } from './clients';\n\nexport function activate(context: vscode.ExtensionContext) {\n    context.subscriptions.push(new WolframNotebookController());\n}\n  \nexport class WolframNotebookController  {\n    readonly controllerId = 'wolfram-notebook';\n    readonly notebookType = 'wolfram-notebook';\n    readonly label = 'Wolfram Notebook';\n    readonly supportedLanguages = ['wolfram'];\n\n    private readonly _controller: vscode.NotebookController;\n    private _executionOrder = 0;\n\n    constructor() {\n        this._controller = vscode.notebooks.createNotebookController(\n            this.controllerId,\n            this.notebookType,\n            this.label\n        );\n\n        this._controller.supportedLanguages = this.supportedLanguages;\n        this._controller.supportsExecutionOrder = true;\n        this._controller.executeHandler = this._execute.bind(this);\n        // this._controller.interruptHandler = this._interrupt.bind(this);\n    }\n\n    private async _execute(\n        cells: vscode.NotebookCell[],\n        _notebook: vscode.NotebookDocument,\n        _controller: vscode.NotebookController\n    ): Promise<void> {\n        let promises = cells.map(async cell => {\n            await this._doExecution(cell)\n            return true\n        })\n\n        await Promise.all(promises)\n\n    }\n\n    private _interrupt(notebook: vscode.NotebookDocument): void {\n        /* Do some interruption here; not implemented */\n        // for (let cell of notebook.getCells()) {\n        //     this._doInterrupt(cell);\n        // }\n    }\n\n    private _doInterrupt(cell: vscode.NotebookCell): void {\n        if (cell.kind === vscode.NotebookCellKind.Code) {\n            let execution = cell.executionSummary\n            if (execution?.executionOrder) {\n                let executionId = execution.executionOrder;\n                if (executionId && executionId <= this._executionOrder) {\n                    wolframKernelClient?.sendRequest(\"$/cancelRequest\", {id: executionId}).then(\n                        () => {});\n                }\n            } else {\n\n            }\n        }\n    }\n\n    private async _doExecution(cell: vscode.NotebookCell): Promise<void> {\n        let execution: vscode.NotebookCellExecution = this._controller.createNotebookCellExecution(cell);\n        execution.executionOrder = ++this._executionOrder;\n        execution.start(Date.now()); // Keep track of elapsed time to execute cell.\n        /* Do some execution here; not implemented */\n        try {\n            let abortCtl = new AbortController();\n            execution.token.onCancellationRequested(() => {\n                abortCtl.abort();\n                wolframKernelClient?.sendRequest(\"$/cancelRequest\", {id: execution.executionOrder}).then(\n                    () => {});\n                execution.replaceOutput(\n                    new vscode.NotebookCellOutput([\n                        vscode.NotebookCellOutputItem.error({\n                            name: 'error', \n                            message: \"aborted\"})\n                    ]));\n                execution.end(false, Date.now());\n            });\n            while(!execution.token.isCancellationRequested){\n                wolframKernelClient?.sendRequest(\"runExpression\", \n                    {\n                        expression: cell.document.getText(),\n                        line: 0,\n                        end: 0\n                    }\n                ).then((result:any) => {\n                    execution.replaceOutput([\n                        new vscode.NotebookCellOutput([\n                            vscode.NotebookCellOutputItem.text(\n                                    fs.readFileSync(result[\"output\"], 'utf8'),'text/html'),\n                            vscode.NotebookCellOutputItem.text(result[\"result\"]),\n                            vscode.NotebookCellOutputItem.text(result[\"result\"], 'text/wolfram')\n                        ])\n                    ]);\n                    if (execution.executionOrder !== undefined) {\n                        if (execution.executionOrder <= this._executionOrder) {\n                            execution.end(true, Date.now());\n                        }\n                    }        \n                })\n                break;\n            }\n        } catch (e) {\n            execution.replaceOutput(\n                new vscode.NotebookCellOutput([\n                    vscode.NotebookCellOutputItem.error({\n                        name: e instanceof Error && e.name || 'error', \n                        message: e instanceof Error && e.message || JSON.stringify(e, undefined, 4)})\n                ]));\n            execution.end(false, Date.now());\n        }\n    }\n\n    dispose() {\n        this._controller.dispose()\n    }\n\n}","\n\nimport { Uri, Webview } from \"vscode\";\n\nfunction invalidator() {\n    // VSCode tries to be smart and only does something if the webview HTML changed.\n    // That means that our onload events aren't fired and you won't get a thumbnail\n    // for repeated plots. Attaching a meaningless and random script snippet fixes that.\n    return `<script>(function(){${Math.random()}})()</script>`\n}\n\nexport function showPlotPanel(webview: any, extensionUri: Uri) {\n    let timeNow = new Date().getTime();    \n    const toolkitUri = getUri(webview, extensionUri, [\n        \"media\",\n        \"toolkit.js\"\n    ]);\n\n   \n    let result = `<!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <style type=\"text/css\">\n\n            body{\n                overflow-y:scroll;\n                overflow-x:hidden;\n                height:100%;\n            }\n\n            body.vscode-light {\n                background: var(--vscode-editor-background);\n                color: var(--vscode-editor-foreground);\n                font: var(--vscode-editor-font-family);\n            }\n\n            body.vscode-dark {\n                background: var(--vscode-editor-background);\n                color: var(--vscode-editor-foreground);\n                font: var(--vscode-editor-font-family);\n            }\n\n            body.vscode-high-contrast {\n                background: var(--vscode-editor-background);\n                color: var(--vscode-editor-foreground);\n                font: var(--vscode-editor-font-family);\n            }\n\n            #expression {\n                background: var(--vscode-editor-background);\n                color: var(--vscode-editor-foreground);\n                font: var(--vscode-editor-font-family);\n                width: 100%;\n            }\n\n            .outer {\n                height:100vh;\n                display:block;\n                position:relative;\n                top:5vh;\n            }\n\n            #result-header {\n                display:block;\n                margin-top: 5px;\n                padding: 5px;\n                font-family: var(--vscode-editor-font-family);\n                font-size: var(--vscode-editor-font-size);\n            }\n\n            #result {\n                font-family: var(--vscode-editor-font-family);\n                font-size: var(--vscode-editor-font-size);\n                border-bottom: var(--vscode-editor-foreground) 2px solid;\n                margin-top: 5px;\n                padding: 5px;\n                display: block;\n                margin:0px;\n                width:95vw;\n                max-height:95vh;\n                object-fit:cover;\n                overflow-y:hidden;\n                image-rendering:auto;\n            }\n\n            #result img{\n                width:95vw;\n                max-height:95vh;\n                object-fit:cover;\n                /* margin: 0; */\n                /* min-height: 200px; */\n                width: auto;\n                margin-bottom: 5px;\n                margin-left: auto;\n                margin-right: auto;\n                display: block;\n            }\n\n\n        </style>\n        <meta charset=\"UTF-8\">\n\n        <!-- <meta\n            http-equiv=\"Content-Security-Policy\"\n            content=\"default-src 'none'; img-src ${webview.cspSource} https:; script-src ${webview.cspSource} 'unsafe-inline'; style-src ${webview.cspSource} 'unsafe-inline';\"\n            /> -->\n            <script type=\"module\" src=\"${toolkitUri}\"></script>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Plots</title>\n        <script>\n            const vscode = acquireVsCodeApi();\n            function scrollToBottom() {\n                window.scrollTo(0,document.body.scrollHeight);\n\n                var color = '';\n                var fontFamily = '';\n                var fontSize = '';\n                var theme = '';\n                var fontWeight = '';\n                try {\n                    computedStyle = window.getComputedStyle(document.body);\n                    color = computedStyle.color + '';\n                    backgroundColor = computedStyle.backgroundColor + '';\n                    fontFamily = computedStyle.fontFamily;\n                    fontSize = computedStyle.fontSize;\n                    fontWeight = computedStyle.fontWeight;\n                    theme = document.body.className;\n                } catch(ex) { }\n            }\n\n        function run(input) {\n            if(event.key === 'Enter') {\n                if(event.shiftKey) {\n                    vscode.postMessage({\n                        text: input.value\n                    });\n                    input.value = \"\"\n                }\n            }\n        }\n\n        window.addEventListener('message', event => {\n            const message = event.data;\n\n            const outputDiv = document.getElementById('outputs');\n            outputDiv.innerHTML = message.text;\n\n            outputDiv.scrollTop = outputDiv.scrollHeight;\n\n            scrollToBottom()\n\n        })\n        </script>\n    </head>\n    <body>\n        <div class=\"outer\">\n            <div class=\"inner\" id='outputs'>\n            </div>\n        </div>\n    </body>\n    </html>` + invalidator();\n    return result;\n}\n\nfunction getUri(webview: Webview, extensionUri: Uri, pathList: string[]) {\n    return webview.asWebviewUri(Uri.joinPath(extensionUri, ...pathList));\n}","\nimport AbortController from 'abort-controller';\nimport { exec } from 'child_process';\nimport * as vscode from 'vscode';\nimport {wolframKernelClient, restart, onkernelReady} from './clients'\nconst fs = require('fs')\n\nexport function activate(context: vscode.ExtensionContext) {\n    context.subscriptions.push(new WolframScriptController(context));\n}\n  \nexport class WolframScriptController {\n    readonly controllerId = 'wolfram-script';\n    readonly notebookType = 'wolfram-script';\n    readonly label = 'Wolfram Script';\n    readonly supportedLanguages = ['wolfram'];\n\n    private readonly _controller: vscode.NotebookController;\n    private _executionOrder = 0;\n    public _context: vscode.ExtensionContext;\n\n    constructor(context:vscode.ExtensionContext) {\n        this._controller = vscode.notebooks.createNotebookController(\n        this.controllerId,\n        this.notebookType,\n        this.label\n        );\n\n        this._context = context;\n\n        this._controller.supportedLanguages = this.supportedLanguages;\n        this._controller.supportsExecutionOrder = true;\n        this._controller.executeHandler = this._execute.bind(this);\n        this._controller.interruptHandler = this._interrupt.bind(this);\n    }\n\n    private async _execute(\n        cells: vscode.NotebookCell[],\n        _notebook: vscode.NotebookDocument,\n        _controller: vscode.NotebookController\n    ): Promise<void> {\n        let promises = cells.map(async cell => {\n            await this._doExecution(cell)\n            return true\n        })\n\n        await Promise.all(promises)\n\n    }\n\n    private _interrupt(notebook: vscode.NotebookDocument): void {\n        /* Do some interruption here; not implemented */\n        console.log(this.executions);\n        this.executions.map((execution) => {\n            try {\n                execution.end(false, Date.now());\n    \n                execution.replaceOutput(\n                    new vscode.NotebookCellOutput([\n                        vscode.NotebookCellOutputItem.error({\n                            name: 'error', \n                            message: \"aborted\"})\n                    ]));\n            } catch (e) {\n                console.log(e);\n            }\n        })\n        this.executions = [];\n        restart();\n        // for (let cell of notebook.getCells()) {\n        //     this._doInterrupt(cell);\n        // }\n    }\n\n    private _doInterrupt(cell: vscode.NotebookCell): void {\n\n    }\n\n    private executions: vscode.NotebookCellExecution[] = [];\n\n    private async _doExecution(cell: vscode.NotebookCell): Promise<void> {\n\n        if(!wolframKernelClient) {\n            restart()\n            onkernelReady().then(() => {\n                this._doExecution(cell)\n            })\n        } else {\n            let execution: vscode.NotebookCellExecution = this._controller.createNotebookCellExecution(cell);\n            execution.executionOrder = ++this._executionOrder;\n            execution.start(Date.now()); // Keep track of elapsed time to execute cell.\n            this.executions.push(execution);\n            /* Do some execution here; not implemented */\n            try {\n                let abortCtl = new AbortController();\n                execution.token.onCancellationRequested(() => {\n                    abortCtl.abort();\n\n                    execution.replaceOutput(\n                        new vscode.NotebookCellOutput([\n                            vscode.NotebookCellOutputItem.error({\n                                name: 'error', \n                                message: \"aborted\"})\n                        ]));\n                    execution.end(false, Date.now());\n                });\n                while(!execution.token.isCancellationRequested){\n                        wolframKernelClient.sendRequest(\"runExpression\", \n                            {\n                                expression: cell.document.getText(),\n                                line: 0,\n                                end: 0,\n                                textDocument: cell.document\n                            }\n                        ).then((result:any) => {\n                            execution.replaceOutput([\n                                new vscode.NotebookCellOutput([\n                                    vscode.NotebookCellOutputItem.text(\n                                            // result[\"output\"],\n                                            fs.readFileSync(result[\"output\"].toString().substring(1,result[\"output\"].toString().length-1), 'utf8'),\n                                            'text/html'),\n                                    vscode.NotebookCellOutputItem.text(result[\"result\"]),\n                                    vscode.NotebookCellOutputItem.text(result[\"result\"], 'text/wolfram')\n                                ])\n                            ]);\n                            if (execution.executionOrder !== undefined) {\n                                if (execution.executionOrder <= this._executionOrder) {\n                                    execution.end(true, Date.now());\n                                }\n                            }        \n                        })\n                    break;\n                }\n            } catch (e) {\n                execution.replaceOutput(\n                    new vscode.NotebookCellOutput([\n                        vscode.NotebookCellOutputItem.error({\n                            name: e instanceof Error && e.name || 'error', \n                            message: e instanceof Error && e.message || JSON.stringify(e, undefined, 4)})\n                    ]));\n                execution.end(false, Date.now());\n            }\n        }\n    }\n\n    \n\n    dispose() {\n        this._controller.dispose()\n    }\n}","    import * as vscode from 'vscode';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport {treeDataProvider, wolframClient, wolframKernelClient} from './clients'\nimport { syncBuiltinESMExports } from 'module';\nimport { CancellationToken } from 'vscode-jsonrpc';\n\n\n\nclass TreeItem extends vscode.TreeItem {\n    children: TreeItem[]|undefined;\n    location: string;\n    lazyload: string;\n\n    constructor(label:string, children?:TreeItem[]) {\n        super(label, children === undefined ? vscode.TreeItemCollapsibleState.None : vscode.TreeItemCollapsibleState.Collapsed);\n        this.children = children;\n        this.location = \"\";\n        this.lazyload = \"\";\n    }\n}\n\nlet workspace_items:any = {};\nlet builtins: TreeItem ;\nlet workspace: TreeItem;\nexport class workspaceSymbolProvider implements vscode.TreeDataProvider<TreeItem> {\n    private _onDidChangeTreeData: vscode.EventEmitter<TreeItem | undefined | void> = new vscode.EventEmitter<TreeItem | undefined | void>();\n\treadonly onDidChangeTreeData: vscode.Event<TreeItem | undefined | void> = this._onDidChangeTreeData.event;\n\n    data: TreeItem[] = [new TreeItem(\"Symbols\", [])];\n    cancelChildrenToken: vscode.CancellationToken | undefined = undefined;\n\n    constructor() {\n        builtins = new TreeItem(\"Builtins\", []);\n        workspace = new TreeItem(\"Workspace\", []);\n        // this.getBuiltins();\n        // this.getSymbols([]);\n        // this.builtins new TreeItem(\"Builtins\", []);\n        // this.cancelChildrenToken = undefined;\n\t}\n\n    \n\n    async getBuiltins() {\n        wolframClient?.sendRequest(\"builtInList\").then((file:any) => {\n        \n            fs.readFile(file, 'utf8', (err:any, data:string) => {\n                let result  = JSON.parse(data.toString());\n                let files:string[] = [];\n    \n                // get all the letters in the alphabet\n                let letters:string[] = [];\n                for (let i = 65; i < 91; i++) {\n                    letters.push(String.fromCharCode(i));\n                }\n    \n                let builtinsymbols = result.builtins.map((symbol:any) => \n                {\n                    let item = new vscode.TreeItem(symbol.name);\n                    item.tooltip = symbol.definition;\n                    let e = vscode.window.activeTextEditor;\n                    item.command = {command: 'wolfram.stringHelp', arguments: [\n                        symbol.name], title: 'Open'};\n                    \n                    //item.command = {command: 'editor.action.addCommentLine', arguments: [], title: 'Add Comment'};\n    \n                    return item\n                })\n            \n                if (builtins.children?.length === 0){\n                    builtins = new TreeItem(\"Builtins\",\n                        letters.map((letter:string) => {\n                            return new TreeItem(letter, builtinsymbols.filter((item:TreeItem) => item.label?.toString().startsWith(letter)));})\n                        );\n                    }\n                this.data = [builtins, workspace];\n                this._onDidChangeTreeData.fire();\n                });\n            })\n    }\n\n    async getSymbols(symbols:TreeItem[]|undefined) {\n        if (workspace.children?.length===0) {\n\n            function getFolderFiles(folder:string) {\n                let files = fs.readdirSync(folder, {withFileTypes: true});\n                files.forEach((file:fs.Dirent) => {\n                    if(path.extname(file.name) == \".wl\") { \n                        let item = new TreeItem(path.basename(file.name), []);\n                        item.tooltip = file.name\n                        item.children = [];\n                        item.lazyload = \"getFileSymbols[\\\"\" + folder + \"/\" + file.name + \"\\\", \\\"\" + vscode.Uri.parse(file.name) + \"\\\"]\";\n                        item.location = file.name;\n                        item.resourceUri = vscode.Uri.parse(file.name);\n                        item.iconPath = new vscode.ThemeIcon(\"file-code\"); \n                        item.command = {command: 'vscode.open', arguments: [vscode.Uri.parse(file.name)], title: 'Open'}\n        \n                        workspace.children?.push(item) \n                    }\n\n                    if ( file.isDirectory() ) {\n                        getFolderFiles(folder + \"/\" + file.name);\n                    }\n                })\n            }\n\n            let folders = vscode.workspace.workspaceFolders;\n            folders?.forEach((folder:vscode.WorkspaceFolder) => {\n                getFolderFiles(folder.uri.fsPath);\n            })\n\n            workspace.collapsibleState =  vscode.TreeItemCollapsibleState.Expanded;\n            // Object.keys(this.workspace_items).forEach((key:string) => { \n            //     newItems.children?.push(this.workspace_items[key]);\n            // })\n            this.data = [builtins, workspace]\n            this._onDidChangeTreeData.fire();\n        } \n    }\n\n    refresh(): void {\n        // this.getSymbols([]);\n        this._onDidChangeTreeData.fire(undefined);\n\t}\n\n    readSymbolsFile(file:string):TreeItem[] {\n        let out:TreeItem[] = []\n        fs.readFile(file, 'utf8', (err:any, data:string) => {\n            function symbolToTreeItem(symbol:any):TreeItem|undefined {\n                let item = new TreeItem(symbol.label?.slice(0, 8192), []);\n                item.tooltip = symbol.definition?.slice(0, 8192);\n                item.children = symbol.children;\n                item.lazyload = symbol.lazyload;\n                item.location = symbol.location;\n                item.resourceUri = vscode.Uri.parse(symbol.location[\"uri\"]);\n                item.iconPath = new vscode.ThemeIcon(symbol.icon); \n                item.command = {command: 'vscode.open', arguments: [vscode.Uri.parse(symbol.location[\"uri\"])], title: 'Open'}\n                return item\n                // if (symbol.children && symbol.children.length > 0) {\n                //     item.children = symbol.children.map((child:any) => {\n                //         return symbolToTreeItem(child);\n                //     })\n                //     return item \n                // } else {\n                //     item.collapsibleState = vscode.TreeItemCollapsibleState.None;\n                //     return item\n                // }\n            }\n\n            let result  = JSON.parse(data.toString());\n            workspace_items = {};\n\n            let newSymbols:TreeItem[] = result.map((symbol:any) => {\n                let item:TreeItem|undefined = symbolToTreeItem(symbol)\n                return item\n            })\n           out = newSymbols;\n        })\n        return out\n    }\n\n\tgetTreeItem(element: vscode.TreeItem): vscode.TreeItem {\n\t\treturn element;\n\t}\n\n    async getChildren(element?: TreeItem): Promise<TreeItem[] | undefined> {\n        // treeDataProvider.refresh();\n        if (element === undefined) {\n            return this.data;\n        }\n        \n        if (element.lazyload === \"\") {\n            return element.children\n        } else {\n            return new Promise((resolve, reject) => {\n                let tokenSource = new vscode.CancellationTokenSource();\n                this.cancelChildrenToken = tokenSource.token;\n                setTimeout(() => {\n                    if (!this.cancelChildrenToken?.isCancellationRequested) {\n                        tokenSource.cancel();\n                        resolve([])\n                        return;\n                    }\n                }, 5000)\n\n                wolframKernelClient?.sendRequest(\"getChildren\", element.lazyload).then((file:any) => {\n                    if (this.cancelChildrenToken?.isCancellationRequested) {\n                        return [];\n                    } else {\n                        let children:TreeItem[] = [];\n                        let result  = JSON.parse(fs.readFileSync(file, 'ascii'));\n                        console.log(result.length)\n                        if (result.length > 0) {\n                            children = result.map( (item:any) => {\n                                let newItem = new TreeItem(item.label, []);\n                                newItem.tooltip = item.definition;\n                                newItem.lazyload = item.lazyload;\n                                newItem.iconPath = new vscode.ThemeIcon(item.icon);\n                                newItem.location = item.location;\n                                newItem.collapsibleState = vscode.TreeItemCollapsibleState.Collapsed;\n                                if (Object.keys(item).includes(\"location\") && Object.keys(item.location).includes(\"uri\")) {\n    \n    \n                                    newItem.resourceUri = vscode.Uri.parse(item.location[\"uri\"])\n                                    newItem.command = {command: 'vscode.open', arguments: [vscode.Uri.parse(item.location[\"uri\"]),{\n                                        preview: false,\n                                        preserveFocus: false,\n                                        selection: item.location.range\n                                    }], title: 'Open'};\n                                    \n                                    vscode.window.showTextDocument(vscode.Uri.parse(item.location[\"uri\"]), {preview: true});\n                                }\n                                return newItem\n                            });\n                            element.children = children\n                        } else {\n                            children = [];\n                            element.collapsibleState = vscode.TreeItemCollapsibleState.None;\n                        }\n                        tokenSource.dispose();\n                        // return [new TreeItem(\"Testing\", [])]; \n                        resolve(children);\n                        // return children\n                    }\n                })\n            })\n        }\n    }    \n}","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticPullMode = exports.vsdiag = void 0;\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\n__exportStar(require(\"./features\"), exports);\nvar diagnostic_1 = require(\"./diagnostic\");\nObject.defineProperty(exports, \"vsdiag\", { enumerable: true, get: function () { return diagnostic_1.vsdiag; } });\nObject.defineProperty(exports, \"DiagnosticPullMode\", { enumerable: true, get: function () { return diagnostic_1.DiagnosticPullMode; } });\n__exportStar(require(\"./client\"), exports);\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass CallHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareCallHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareCallHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareCallHierarchy\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\n            : prepareCallHierarchy(document, position, token);\n    }\n    provideCallHierarchyIncomingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyIncomingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyIncomingCalls\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\n            : provideCallHierarchyIncomingCalls(item, token);\n    }\n    provideCallHierarchyOutgoingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyOutgoingCalls\n            ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls)\n            : provideCallHierarchyOutgoingCalls(item, token);\n    }\n}\nclass CallHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilities = cap;\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'callHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new CallHierarchyProvider(client);\n        return [vscode_1.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.BaseLanguageClient = exports.MessageTransports = exports.SuspendMode = exports.State = exports.CloseAction = exports.ErrorAction = exports.RevealOutputChannelOn = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst c2p = require(\"./codeConverter\");\nconst p2c = require(\"./protocolConverter\");\nconst Is = require(\"./utils/is\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nconst progressPart_1 = require(\"./progressPart\");\nconst features_1 = require(\"./features\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst configuration_1 = require(\"./configuration\");\nconst textSynchronization_1 = require(\"./textSynchronization\");\nconst completion_1 = require(\"./completion\");\nconst hover_1 = require(\"./hover\");\nconst definition_1 = require(\"./definition\");\nconst signatureHelp_1 = require(\"./signatureHelp\");\nconst documentHighlight_1 = require(\"./documentHighlight\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst workspaceSymbol_1 = require(\"./workspaceSymbol\");\nconst reference_1 = require(\"./reference\");\nconst codeAction_1 = require(\"./codeAction\");\nconst codeLens_1 = require(\"./codeLens\");\nconst formatting_1 = require(\"./formatting\");\nconst rename_1 = require(\"./rename\");\nconst documentLink_1 = require(\"./documentLink\");\nconst executeCommand_1 = require(\"./executeCommand\");\nconst fileSystemWatcher_1 = require(\"./fileSystemWatcher\");\nconst colorProvider_1 = require(\"./colorProvider\");\nconst configuration_2 = require(\"./configuration\");\nconst implementation_1 = require(\"./implementation\");\nconst typeDefinition_1 = require(\"./typeDefinition\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst foldingRange_1 = require(\"./foldingRange\");\nconst declaration_1 = require(\"./declaration\");\nconst selectionRange_1 = require(\"./selectionRange\");\nconst progress_1 = require(\"./progress\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\n/**\n * Controls when the output channel is revealed.\n */\nvar RevealOutputChannelOn;\n(function (RevealOutputChannelOn) {\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\n/**\n * An action to be performed when the connection is producing errors.\n */\nvar ErrorAction;\n(function (ErrorAction) {\n    /**\n     * Continue running the server.\n     */\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\n    /**\n     * Shutdown the server.\n     */\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\n/**\n * An action to be performed when the connection to a server got closed.\n */\nvar CloseAction;\n(function (CloseAction) {\n    /**\n     * Don't restart the server. The connection stays closed.\n     */\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\n    /**\n     * Restart the server.\n     */\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\n/**\n * Signals in which state the language client is in.\n */\nvar State;\n(function (State) {\n    /**\n     * The client is stopped or got never started.\n     */\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\n    /**\n     * The client is starting but not ready yet.\n     */\n    State[State[\"Starting\"] = 3] = \"Starting\";\n    /**\n     * The client is running and ready.\n     */\n    State[State[\"Running\"] = 2] = \"Running\";\n})(State = exports.State || (exports.State = {}));\nvar SuspendMode;\n(function (SuspendMode) {\n    /**\n     * Don't allow suspend mode.\n     */\n    SuspendMode[\"off\"] = \"off\";\n    /**\n     * Support suspend mode even if not all\n     * registered providers have a corresponding\n     * activation listener.\n     */\n    SuspendMode[\"on\"] = \"on\";\n})(SuspendMode = exports.SuspendMode || (exports.SuspendMode = {}));\nclass DefaultErrorHandler {\n    constructor(client, maxRestartCount) {\n        this.client = client;\n        this.maxRestartCount = maxRestartCount;\n        this.restarts = [];\n    }\n    error(_error, _message, count) {\n        if (count && count <= 3) {\n            return { action: ErrorAction.Continue };\n        }\n        return { action: ErrorAction.Shutdown };\n    }\n    closed() {\n        this.restarts.push(Date.now());\n        if (this.restarts.length <= this.maxRestartCount) {\n            return { action: CloseAction.Restart };\n        }\n        else {\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\n            if (diff <= 3 * 60 * 1000) {\n                return { action: CloseAction.DoNotRestart, message: `The ${this.client.name} server crashed ${this.maxRestartCount + 1} times in the last 3 minutes. The server will not be restarted. See the output for more information.` };\n            }\n            else {\n                this.restarts.shift();\n                return { action: CloseAction.Restart };\n            }\n        }\n    }\n}\nvar ClientState;\n(function (ClientState) {\n    ClientState[\"Initial\"] = \"initial\";\n    ClientState[\"Starting\"] = \"starting\";\n    ClientState[\"StartFailed\"] = \"startFailed\";\n    ClientState[\"Running\"] = \"running\";\n    ClientState[\"Stopping\"] = \"stopping\";\n    ClientState[\"Stopped\"] = \"stopped\";\n})(ClientState || (ClientState = {}));\nvar MessageTransports;\n(function (MessageTransports) {\n    function is(value) {\n        let candidate = value;\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\n    }\n    MessageTransports.is = is;\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\nclass BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        this._diagnosticQueue = new Map();\n        this._diagnosticQueueState = { state: 'idle' };\n        this._features = [];\n        this._dynamicFeatures = new Map();\n        this.workspaceEditLock = new async_1.Semaphore(1);\n        this._id = id;\n        this._name = name;\n        clientOptions = clientOptions || {};\n        const markdown = { isTrusted: false, supportHtml: false };\n        if (clientOptions.markdown !== undefined) {\n            markdown.isTrusted = clientOptions.markdown.isTrusted === true;\n            markdown.supportHtml = clientOptions.markdown.supportHtml === true;\n        }\n        // const defaultInterval = (clientOptions as TestOptions).$testMode ? 50 : 60000;\n        this._clientOptions = {\n            documentSelector: clientOptions.documentSelector ?? [],\n            synchronize: clientOptions.synchronize ?? {},\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\n            outputChannelName: clientOptions.outputChannelName ?? this._name,\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn ?? RevealOutputChannelOn.Error,\n            stdioEncoding: clientOptions.stdioEncoding ?? 'utf8',\n            initializationOptions: clientOptions.initializationOptions,\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\n            errorHandler: clientOptions.errorHandler ?? this.createDefaultErrorHandler(clientOptions.connectionOptions?.maxRestartCount),\n            middleware: clientOptions.middleware ?? {},\n            uriConverters: clientOptions.uriConverters,\n            workspaceFolder: clientOptions.workspaceFolder,\n            connectionOptions: clientOptions.connectionOptions,\n            markdown,\n            // suspend: {\n            // \tmode: clientOptions.suspend?.mode ?? SuspendMode.off,\n            // \tcallback: clientOptions.suspend?.callback ?? (() => Promise.resolve(true)),\n            // \tinterval: clientOptions.suspend?.interval ? Math.max(clientOptions.suspend.interval, defaultInterval) : defaultInterval\n            // },\n            diagnosticPullOptions: clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false },\n            notebookDocumentOptions: clientOptions.notebookDocumentOptions ?? {}\n        };\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\n        this._state = ClientState.Initial;\n        this._ignoredRegistrations = new Set();\n        this._notificationHandlers = new Map();\n        this._pendingNotificationHandlers = new Map();\n        this._notificationDisposables = new Map();\n        this._requestHandlers = new Map();\n        this._pendingRequestHandlers = new Map();\n        this._requestDisposables = new Map();\n        this._progressHandlers = new Map();\n        this._pendingProgressHandlers = new Map();\n        this._progressDisposables = new Map();\n        this._connection = undefined;\n        // this._idleStart = undefined;\n        this._initializeResult = undefined;\n        if (clientOptions.outputChannel) {\n            this._outputChannel = clientOptions.outputChannel;\n            this._disposeOutputChannel = false;\n        }\n        else {\n            this._outputChannel = undefined;\n            this._disposeOutputChannel = true;\n        }\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\n        this._diagnostics = undefined;\n        this._fileEvents = [];\n        this._fileEventDelayer = new async_1.Delayer(250);\n        this._onStop = undefined;\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n        this._tracer = {\n            log: (messageOrDataObject, data) => {\n                if (Is.string(messageOrDataObject)) {\n                    this.logTrace(messageOrDataObject, data);\n                }\n                else {\n                    this.logObjectTrace(messageOrDataObject);\n                }\n            },\n        };\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined, this._clientOptions.markdown.isTrusted, this._clientOptions.markdown.supportHtml);\n        this._syncedDocuments = new Map();\n        this.registerBuiltinFeatures();\n    }\n    get name() {\n        return this._name;\n    }\n    get middleware() {\n        return this._clientOptions.middleware ?? Object.create(null);\n    }\n    get clientOptions() {\n        return this._clientOptions;\n    }\n    get protocol2CodeConverter() {\n        return this._p2c;\n    }\n    get code2ProtocolConverter() {\n        return this._c2p;\n    }\n    get onTelemetry() {\n        return this._telemetryEmitter.event;\n    }\n    get onDidChangeState() {\n        return this._stateChangeEmitter.event;\n    }\n    get outputChannel() {\n        if (!this._outputChannel) {\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\n        }\n        return this._outputChannel;\n    }\n    get traceOutputChannel() {\n        if (this._traceOutputChannel) {\n            return this._traceOutputChannel;\n        }\n        return this.outputChannel;\n    }\n    get diagnostics() {\n        return this._diagnostics;\n    }\n    get state() {\n        return this.getPublicState();\n    }\n    get $state() {\n        return this._state;\n    }\n    set $state(value) {\n        let oldState = this.getPublicState();\n        this._state = value;\n        let newState = this.getPublicState();\n        if (newState !== oldState) {\n            this._stateChangeEmitter.fire({ oldState, newState });\n        }\n    }\n    getPublicState() {\n        switch (this.$state) {\n            case ClientState.Starting:\n                return State.Starting;\n            case ClientState.Running:\n                return State.Running;\n            default:\n                return State.Stopped;\n        }\n    }\n    get initializeResult() {\n        return this._initializeResult;\n    }\n    async sendRequest(type, ...params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            this.forceDocumentSync();\n            return connection.sendRequest(type, ...params);\n        }\n        catch (error) {\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onRequest(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._requestHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._requestDisposables.set(method, connection.onRequest(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingRequestHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingRequestHandlers.delete(method);\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._requestHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendNotification(type, params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            this.forceDocumentSync();\n            return connection.sendNotification(type, params);\n        }\n        catch (error) {\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onNotification(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._notificationHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._notificationDisposables.set(method, connection.onNotification(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingNotificationHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingNotificationHandlers.delete(method);\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._notificationHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendProgress(type, token, value) {\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            return connection.sendProgress(type, token, value);\n        }\n        catch (error) {\n            this.error(`Sending progress for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    onProgress(type, token, handler) {\n        this._progressHandlers.set(token, { type, handler });\n        const connection = this.activeConnection();\n        let disposable;\n        const handleWorkDoneProgress = this._clientOptions.middleware?.handleWorkDoneProgress;\n        const realHandler = vscode_languageserver_protocol_1.WorkDoneProgress.is(type) && handleWorkDoneProgress !== undefined\n            ? (params) => {\n                handleWorkDoneProgress(token, params, () => handler(params));\n            }\n            : handler;\n        if (connection !== undefined) {\n            this._progressDisposables.set(token, connection.onProgress(type, token, realHandler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingProgressHandlers.set(token, { type, handler });\n            disposable = {\n                dispose: () => {\n                    this._pendingProgressHandlers.delete(token);\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._progressHandlers.delete(token);\n                disposable.dispose();\n            }\n        };\n    }\n    createDefaultErrorHandler(maxRestartCount) {\n        if (maxRestartCount !== undefined && maxRestartCount < 0) {\n            throw new Error(`Invalid maxRestartCount: ${maxRestartCount}`);\n        }\n        return new DefaultErrorHandler(this, maxRestartCount ?? 4);\n    }\n    async setTrace(value) {\n        this._trace = value;\n        const connection = this.activeConnection();\n        if (connection !== undefined) {\n            await connection.trace(this._trace, this._tracer, {\n                sendNotification: false,\n                traceFormat: this._traceFormat\n            });\n        }\n    }\n    data2String(data) {\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\n            const responseError = data;\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\n        }\n        if (data instanceof Error) {\n            if (Is.string(data.stack)) {\n                return data.stack;\n            }\n            return data.message;\n        }\n        if (Is.string(data)) {\n            return data;\n        }\n        return data.toString();\n    }\n    info(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\n            this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Info, message);\n        }\n    }\n    warn(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\n            this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Warning, message);\n        }\n    }\n    error(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification === 'force' || (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error)) {\n            this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Error, message);\n        }\n    }\n    showNotificationMessage(type, message) {\n        message = message ?? 'A request has failed. See the output for more information.';\n        const messageFunc = type === vscode_languageserver_protocol_1.MessageType.Error\n            ? vscode_1.window.showErrorMessage\n            : type === vscode_languageserver_protocol_1.MessageType.Warning\n                ? vscode_1.window.showWarningMessage\n                : vscode_1.window.showInformationMessage;\n        void messageFunc(message, 'Go to output').then((selection) => {\n            if (selection !== undefined) {\n                this.outputChannel.show(true);\n            }\n        });\n    }\n    logTrace(message, data) {\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.traceOutputChannel.appendLine(this.data2String(data));\n        }\n    }\n    logObjectTrace(data) {\n        if (data.isLSPMessage && data.type) {\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\n        }\n        else {\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\n        }\n        if (data) {\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\n        }\n    }\n    needsStart() {\n        return this.$state === ClientState.Initial || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped;\n    }\n    needsStop() {\n        return this.$state === ClientState.Starting || this.$state === ClientState.Running;\n    }\n    activeConnection() {\n        return this.$state === ClientState.Running && this._connection !== undefined ? this._connection : undefined;\n    }\n    isRunning() {\n        return this.$state === ClientState.Running;\n    }\n    async start() {\n        if (this._onStart !== undefined) {\n            return this._onStart;\n        }\n        const [promise, resolve, reject] = this.createOnStartPromise();\n        this._onStart = promise;\n        // We are currently stopping the language client. Await the stop\n        // before continuing.\n        if (this._onStop !== undefined) {\n            await this._onStop;\n            this._onStop = undefined;\n        }\n        // If we restart then the diagnostics collection is reused.\n        if (this._diagnostics === undefined) {\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\n                : vscode_1.languages.createDiagnosticCollection();\n        }\n        // When we start make all buffer handlers pending so that they\n        // get added.\n        for (const [method, handler] of this._notificationHandlers) {\n            if (!this._pendingNotificationHandlers.has(method)) {\n                this._pendingNotificationHandlers.set(method, handler);\n            }\n        }\n        for (const [method, handler] of this._requestHandlers) {\n            if (!this._pendingRequestHandlers.has(method)) {\n                this._pendingRequestHandlers.set(method, handler);\n            }\n        }\n        for (const [token, data] of this._progressHandlers) {\n            if (!this._pendingProgressHandlers.has(token)) {\n                this._pendingProgressHandlers.set(token, data);\n            }\n        }\n        this.$state = ClientState.Starting;\n        try {\n            const connection = await this.createConnection();\n            connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        this.error(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        this.warn(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        this.info(message.message, undefined, false);\n                        break;\n                    default:\n                        this.outputChannel.appendLine(message.message);\n                }\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        void vscode_1.window.showErrorMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        void vscode_1.window.showWarningMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        void vscode_1.window.showInformationMessage(message.message);\n                        break;\n                    default:\n                        void vscode_1.window.showInformationMessage(message.message);\n                }\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\n                let messageFunc;\n                switch (params.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        messageFunc = vscode_1.window.showErrorMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        messageFunc = vscode_1.window.showWarningMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                        break;\n                    default:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                }\n                let actions = params.actions || [];\n                return messageFunc(params.message, ...actions);\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, (data) => {\n                this._telemetryEmitter.fire(data);\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, async (params) => {\n                const showDocument = async (params) => {\n                    const uri = this.protocol2CodeConverter.asUri(params.uri);\n                    try {\n                        if (params.external === true) {\n                            const success = await vscode_1.env.openExternal(uri);\n                            return { success };\n                        }\n                        else {\n                            const options = {};\n                            if (params.selection !== undefined) {\n                                options.selection = this.protocol2CodeConverter.asRange(params.selection);\n                            }\n                            if (params.takeFocus === undefined || params.takeFocus === false) {\n                                options.preserveFocus = true;\n                            }\n                            else if (params.takeFocus === true) {\n                                options.preserveFocus = false;\n                            }\n                            await vscode_1.window.showTextDocument(uri, options);\n                            return { success: true };\n                        }\n                    }\n                    catch (error) {\n                        return { success: true };\n                    }\n                };\n                const middleware = this._clientOptions.middleware.window?.showDocument;\n                if (middleware !== undefined) {\n                    return middleware(params, showDocument);\n                }\n                else {\n                    return showDocument(params);\n                }\n            });\n            connection.listen();\n            await this.initialize(connection);\n            resolve();\n        }\n        catch (error) {\n            this.$state = ClientState.StartFailed;\n            this.error(`${this._name} client: couldn't create connection to server.`, error, 'force');\n            reject(error);\n        }\n        return this._onStart;\n    }\n    createOnStartPromise() {\n        let resolve;\n        let reject;\n        const promise = new Promise((_resolve, _reject) => {\n            resolve = _resolve;\n            reject = _reject;\n        });\n        return [promise, resolve, reject];\n    }\n    async initialize(connection) {\n        this.refreshTrace(connection, false);\n        const initOption = this._clientOptions.initializationOptions;\n        // If the client is locked to a workspace folder use it. In this case the workspace folder\n        // feature is not registered and we need to initialize the value here.\n        const [rootPath, workspaceFolders] = this._clientOptions.workspaceFolder !== undefined\n            ? [this._clientOptions.workspaceFolder.uri.fsPath, [{ uri: this._c2p.asUri(this._clientOptions.workspaceFolder.uri), name: this._clientOptions.workspaceFolder.name }]]\n            : [this._clientGetRootPath(), null];\n        const initParams = {\n            processId: null,\n            clientInfo: {\n                name: vscode_1.env.appName,\n                version: vscode_1.version\n            },\n            locale: this.getLocale(),\n            rootPath: rootPath ? rootPath : null,\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\n            capabilities: this.computeClientCapabilities(),\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\n            workspaceFolders: workspaceFolders\n        };\n        this.fillInitializeParams(initParams);\n        if (this._clientOptions.progressOnInitialization) {\n            const token = UUID.generateUuid();\n            const part = new progressPart_1.ProgressPart(connection, token);\n            initParams.workDoneToken = token;\n            try {\n                const result = await this.doInitialize(connection, initParams);\n                part.done();\n                return result;\n            }\n            catch (error) {\n                part.cancel();\n                throw error;\n            }\n        }\n        else {\n            return this.doInitialize(connection, initParams);\n        }\n    }\n    async doInitialize(connection, initParams) {\n        try {\n            const result = await connection.initialize(initParams);\n            if (result.capabilities.positionEncoding !== undefined && result.capabilities.positionEncoding !== vscode_languageserver_protocol_1.PositionEncodingKind.UTF16) {\n                throw new Error(`Unsupported position encoding (${result.capabilities.positionEncoding}) received from server ${this.name}`);\n            }\n            this._initializeResult = result;\n            this.$state = ClientState.Running;\n            let textDocumentSyncOptions = undefined;\n            if (Is.number(result.capabilities.textDocumentSync)) {\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    textDocumentSyncOptions = {\n                        openClose: false,\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\n                        save: undefined\n                    };\n                }\n                else {\n                    textDocumentSyncOptions = {\n                        openClose: true,\n                        change: result.capabilities.textDocumentSync,\n                        save: {\n                            includeText: false\n                        }\n                    };\n                }\n            }\n            else if (result.capabilities.textDocumentSync !== undefined && result.capabilities.textDocumentSync !== null) {\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\n            }\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\n            connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params => this.handleDiagnostics(params));\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\n            // Add pending notification, request and progress handlers.\n            for (const [method, handler] of this._pendingNotificationHandlers) {\n                this._notificationDisposables.set(method, connection.onNotification(method, handler));\n            }\n            this._pendingNotificationHandlers.clear();\n            for (const [method, handler] of this._pendingRequestHandlers) {\n                this._requestDisposables.set(method, connection.onRequest(method, handler));\n            }\n            this._pendingRequestHandlers.clear();\n            for (const [token, data] of this._pendingProgressHandlers) {\n                this._progressDisposables.set(token, connection.onProgress(data.type, token, data.handler));\n            }\n            this._pendingProgressHandlers.clear();\n            // if (this._clientOptions.suspend.mode !== SuspendMode.off) {\n            // \tthis._idleInterval =  RAL().timer.setInterval(() => this.checkSuspend(), this._clientOptions.suspend.interval);\n            // }\n            await connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\n            this.hookFileEvents(connection);\n            this.hookConfigurationChanged(connection);\n            this.initializeFeatures(connection);\n            return result;\n        }\n        catch (error) {\n            if (this._clientOptions.initializationFailedHandler) {\n                if (this._clientOptions.initializationFailedHandler(error)) {\n                    void this.initialize(connection);\n                }\n                else {\n                    void this.stop();\n                }\n            }\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\n                void vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\n                    if (item && item.id === 'retry') {\n                        void this.initialize(connection);\n                    }\n                    else {\n                        void this.stop();\n                    }\n                });\n            }\n            else {\n                if (error && error.message) {\n                    void vscode_1.window.showErrorMessage(error.message);\n                }\n                this.error('Server initialization failed.', error);\n                void this.stop();\n            }\n            throw error;\n        }\n    }\n    _clientGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    stop(timeout = 2000) {\n        // Wait 2 seconds on stop\n        return this.shutdown('stop', timeout);\n    }\n    suspend() {\n        // Wait 5 seconds on suspend.\n        return this.shutdown('suspend', 5000);\n    }\n    async shutdown(mode, timeout) {\n        // If the client is in stopped state simple return.\n        // It could also be that the client failed to stop\n        // which puts it into the stopped state as well.\n        if (this.$state === ClientState.Stopped || this.$state === ClientState.Initial) {\n            return;\n        }\n        if (this.$state === ClientState.Stopping && this._onStop) {\n            return this._onStop;\n        }\n        // To ensure proper shutdown we need a proper created connection.\n        const connection = await this.$start();\n        this._initializeResult = undefined;\n        this.$state = ClientState.Stopping;\n        this.cleanUp(mode);\n        const tp = new Promise(c => { (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(c, timeout); });\n        const shutdown = (async (connection) => {\n            await connection.shutdown();\n            await connection.exit();\n            return connection;\n        })(connection);\n        return this._onStop = Promise.race([tp, shutdown]).then((connection) => {\n            // The connection won the race with the timeout.\n            if (connection !== undefined) {\n                connection.end();\n                connection.dispose();\n            }\n            else {\n                this.error(`Stopping server timed out`, undefined, false);\n                throw new Error(`Stopping the server timed out`);\n            }\n        }, (error) => {\n            this.error(`Stopping server failed`, error, false);\n            throw error;\n        }).finally(() => {\n            this.$state = ClientState.Stopped;\n            mode === 'stop' && this.cleanUpChannel();\n            this._onStart = undefined;\n            this._onStop = undefined;\n            this._connection = undefined;\n            this._ignoredRegistrations.clear();\n        });\n    }\n    cleanUp(mode) {\n        // purge outstanding file events.\n        this._fileEvents = [];\n        this._fileEventDelayer.cancel();\n        if (this._syncedDocuments) {\n            this._syncedDocuments.clear();\n        }\n        // Dispose features in reverse order;\n        for (const feature of Array.from(this._features.entries()).map(entry => entry[1]).reverse()) {\n            feature.dispose();\n        }\n        if (mode === 'stop' && this._diagnostics !== undefined) {\n            this._diagnostics.dispose();\n            this._diagnostics = undefined;\n        }\n        if (this._idleInterval !== undefined) {\n            this._idleInterval.dispose();\n            this._idleInterval = undefined;\n        }\n        // this._idleStart = undefined;\n    }\n    cleanUpChannel() {\n        if (this._outputChannel !== undefined && this._disposeOutputChannel) {\n            this._outputChannel.dispose();\n            this._outputChannel = undefined;\n        }\n    }\n    notifyFileEvent(event) {\n        const client = this;\n        async function didChangeWatchedFile(event) {\n            client._fileEvents.push(event);\n            return client._fileEventDelayer.trigger(async () => {\n                const connection = await client.$start();\n                client.forceDocumentSync();\n                const result = connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, { changes: client._fileEvents });\n                client._fileEvents = [];\n                return result;\n            });\n        }\n        const workSpaceMiddleware = this.clientOptions.middleware?.workspace;\n        (workSpaceMiddleware?.didChangeWatchedFile ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event)).catch((error) => {\n            client.error(`Notify file events failed.`, error);\n        });\n    }\n    forceDocumentSync() {\n        if (this._didChangeTextDocumentFeature === undefined) {\n            this._didChangeTextDocumentFeature = this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method);\n        }\n        this._didChangeTextDocumentFeature.forceDelivery();\n    }\n    handleDiagnostics(params) {\n        if (!this._diagnostics) {\n            return;\n        }\n        const key = params.uri;\n        if (this._diagnosticQueueState.state === 'busy' && this._diagnosticQueueState.document === key) {\n            // Cancel the active run;\n            this._diagnosticQueueState.tokenSource.cancel();\n        }\n        this._diagnosticQueue.set(params.uri, params.diagnostics);\n        this.triggerDiagnosticQueue();\n    }\n    triggerDiagnosticQueue() {\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => { this.workDiagnosticQueue(); });\n    }\n    workDiagnosticQueue() {\n        if (this._diagnosticQueueState.state === 'busy') {\n            return;\n        }\n        const next = this._diagnosticQueue.entries().next();\n        if (next.done === true) {\n            // Nothing in the queue\n            return;\n        }\n        const [document, diagnostics] = next.value;\n        this._diagnosticQueue.delete(document);\n        const tokenSource = new vscode_1.CancellationTokenSource();\n        this._diagnosticQueueState = { state: 'busy', document: document, tokenSource };\n        this._p2c.asDiagnostics(diagnostics, tokenSource.token).then((converted) => {\n            if (!tokenSource.token.isCancellationRequested) {\n                const uri = this._p2c.asUri(document);\n                const middleware = this.clientOptions.middleware;\n                if (middleware.handleDiagnostics) {\n                    middleware.handleDiagnostics(uri, converted, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\n                }\n                else {\n                    this.setDiagnostics(uri, converted);\n                }\n            }\n        }).finally(() => {\n            this._diagnosticQueueState = { state: 'idle' };\n            this.triggerDiagnosticQueue();\n        });\n    }\n    setDiagnostics(uri, diagnostics) {\n        if (!this._diagnostics) {\n            return;\n        }\n        this._diagnostics.set(uri, diagnostics);\n    }\n    async $start() {\n        if (this.$state === ClientState.StartFailed) {\n            throw new Error(`Previous start failed. Can't restart server.`);\n        }\n        await this.start();\n        const connection = this.activeConnection();\n        if (connection === undefined) {\n            throw new Error(`Starting server failed`);\n        }\n        return connection;\n    }\n    async createConnection() {\n        let errorHandler = (error, message, count) => {\n            this.handleConnectionError(error, message, count);\n        };\n        let closeHandler = () => {\n            this.handleConnectionClosed();\n        };\n        const transports = await this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8');\n        this._connection = createConnection(transports.reader, transports.writer, errorHandler, closeHandler, this._clientOptions.connectionOptions);\n        return this._connection;\n    }\n    handleConnectionClosed() {\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\n        if (this.$state === ClientState.Stopped) {\n            return;\n        }\n        try {\n            if (this._connection !== undefined) {\n                this._connection.dispose();\n            }\n        }\n        catch (error) {\n            // Disposing a connection could fail if error cases.\n        }\n        let handlerResult = { action: CloseAction.DoNotRestart };\n        if (this.$state !== ClientState.Stopping) {\n            try {\n                handlerResult = this._clientOptions.errorHandler.closed();\n            }\n            catch (error) {\n                // Ignore errors coming from the error handler.\n            }\n        }\n        this._connection = undefined;\n        if (handlerResult.action === CloseAction.DoNotRestart) {\n            this.error(handlerResult.message ?? 'Connection to server got closed. Server will not be restarted.', undefined, 'force');\n            this.cleanUp('stop');\n            if (this.$state === ClientState.Starting) {\n                this.$state = ClientState.StartFailed;\n            }\n            else {\n                this.$state = ClientState.Stopped;\n            }\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n        }\n        else if (handlerResult.action === CloseAction.Restart) {\n            this.info(handlerResult.message ?? 'Connection to server got closed. Server will restart.');\n            this.cleanUp('restart');\n            this.$state = ClientState.Initial;\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n            this.start().catch((error) => this.error(`Restarting server failed`, error, 'force'));\n        }\n    }\n    handleConnectionError(error, message, count) {\n        const handlerResult = this._clientOptions.errorHandler.error(error, message, count);\n        if (handlerResult.action === ErrorAction.Shutdown) {\n            this.error(handlerResult.message ?? `Client ${this._name}: connection to server is erroring. Shutting down server.`, undefined, 'force');\n            this.stop().catch((error) => {\n                this.error(`Stopping server failed`, error, false);\n            });\n        }\n    }\n    hookConfigurationChanged(connection) {\n        vscode_1.workspace.onDidChangeConfiguration(() => {\n            this.refreshTrace(connection, true);\n        });\n    }\n    refreshTrace(connection, sendNotification = false) {\n        const config = vscode_1.workspace.getConfiguration(this._id);\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        if (config) {\n            const traceConfig = config.get('trace.server', 'off');\n            if (typeof traceConfig === 'string') {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\n            }\n            else {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\n            }\n        }\n        this._trace = trace;\n        this._traceFormat = traceFormat;\n        connection.trace(this._trace, this._tracer, {\n            sendNotification,\n            traceFormat: this._traceFormat\n        }).catch((error) => { this.error(`Updating trace failed with error`, error, false); });\n    }\n    hookFileEvents(_connection) {\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\n        if (!fileEvents) {\n            return;\n        }\n        let watchers;\n        if (Is.array(fileEvents)) {\n            watchers = fileEvents;\n        }\n        else {\n            watchers = [fileEvents];\n        }\n        if (!watchers) {\n            return;\n        }\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\n    }\n    registerFeatures(features) {\n        for (let feature of features) {\n            this.registerFeature(feature);\n        }\n    }\n    registerFeature(feature) {\n        this._features.push(feature);\n        if (features_1.DynamicFeature.is(feature)) {\n            const registrationType = feature.registrationType;\n            this._dynamicFeatures.set(registrationType.method, feature);\n        }\n    }\n    getFeature(request) {\n        return this._dynamicFeatures.get(request);\n    }\n    hasDedicatedTextSynchronizationFeature(textDocument) {\n        const feature = this.getFeature(vscode_languageserver_protocol_1.NotebookDocumentSyncRegistrationType.method);\n        if (feature === undefined || !(feature instanceof notebook_1.NotebookDocumentSyncFeature)) {\n            return false;\n        }\n        return feature.handles(textDocument);\n    }\n    registerBuiltinFeatures() {\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\n        this.registerFeature(new textSynchronization_1.DidOpenTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new textSynchronization_1.DidChangeTextDocumentFeature(this));\n        this.registerFeature(new textSynchronization_1.WillSaveFeature(this));\n        this.registerFeature(new textSynchronization_1.WillSaveWaitUntilFeature(this));\n        this.registerFeature(new textSynchronization_1.DidSaveTextDocumentFeature(this));\n        this.registerFeature(new textSynchronization_1.DidCloseTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new fileSystemWatcher_1.FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\n        this.registerFeature(new completion_1.CompletionItemFeature(this));\n        this.registerFeature(new hover_1.HoverFeature(this));\n        this.registerFeature(new signatureHelp_1.SignatureHelpFeature(this));\n        this.registerFeature(new definition_1.DefinitionFeature(this));\n        this.registerFeature(new reference_1.ReferencesFeature(this));\n        this.registerFeature(new documentHighlight_1.DocumentHighlightFeature(this));\n        this.registerFeature(new documentSymbol_1.DocumentSymbolFeature(this));\n        this.registerFeature(new workspaceSymbol_1.WorkspaceSymbolFeature(this));\n        this.registerFeature(new codeAction_1.CodeActionFeature(this));\n        this.registerFeature(new codeLens_1.CodeLensFeature(this));\n        this.registerFeature(new formatting_1.DocumentFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentRangeFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentOnTypeFormattingFeature(this));\n        this.registerFeature(new rename_1.RenameFeature(this));\n        this.registerFeature(new documentLink_1.DocumentLinkFeature(this));\n        this.registerFeature(new executeCommand_1.ExecuteCommandFeature(this));\n        this.registerFeature(new configuration_1.SyncConfigurationFeature(this));\n        this.registerFeature(new configuration_2.ConfigurationFeature(this));\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\n        // We only register the workspace folder feature if the client is not locked\n        // to a specific workspace folder.\n        if (this.clientOptions.workspaceFolder === undefined) {\n            this.registerFeature(new workspaceFolder_1.WorkspaceFoldersFeature(this));\n        }\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\n        this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));\n        this.registerFeature(new progress_1.ProgressFeature(this));\n        this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));\n        this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this));\n        this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this));\n        this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this));\n        this.registerFeature(new typeHierarchy_1.TypeHierarchyFeature(this));\n        this.registerFeature(new inlineValue_1.InlineValueFeature(this));\n        this.registerFeature(new inlayHint_1.InlayHintsFeature(this));\n        this.registerFeature(new diagnostic_1.DiagnosticFeature(this));\n        this.registerFeature(new notebook_1.NotebookDocumentSyncFeature(this));\n    }\n    registerProposedFeatures() {\n        this.registerFeatures(ProposedFeatures.createAll(this));\n    }\n    fillInitializeParams(params) {\n        for (let feature of this._features) {\n            if (Is.func(feature.fillInitializeParams)) {\n                feature.fillInitializeParams(params);\n            }\n        }\n    }\n    computeClientCapabilities() {\n        const result = {};\n        (0, features_1.ensure)(result, 'workspace').applyEdit = true;\n        const workspaceEdit = (0, features_1.ensure)((0, features_1.ensure)(result, 'workspace'), 'workspaceEdit');\n        workspaceEdit.documentChanges = true;\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\n        workspaceEdit.normalizesLineEndings = true;\n        workspaceEdit.changeAnnotationSupport = {\n            groupsOnLabel: true\n        };\n        const diagnostics = (0, features_1.ensure)((0, features_1.ensure)(result, 'textDocument'), 'publishDiagnostics');\n        diagnostics.relatedInformation = true;\n        diagnostics.versionSupport = false;\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\n        diagnostics.codeDescriptionSupport = true;\n        diagnostics.dataSupport = true;\n        const windowCapabilities = (0, features_1.ensure)(result, 'window');\n        const showMessage = (0, features_1.ensure)(windowCapabilities, 'showMessage');\n        showMessage.messageActionItem = { additionalPropertiesSupport: true };\n        const showDocument = (0, features_1.ensure)(windowCapabilities, 'showDocument');\n        showDocument.support = true;\n        const generalCapabilities = (0, features_1.ensure)(result, 'general');\n        generalCapabilities.staleRequestSupport = {\n            cancel: true,\n            retryOnContentModified: Array.from(BaseLanguageClient.RequestsToCancelOnContentModified)\n        };\n        generalCapabilities.regularExpressions = { engine: 'ECMAScript', version: 'ES2020' };\n        generalCapabilities.markdown = {\n            parser: 'marked',\n            version: '1.1.0',\n        };\n        generalCapabilities.positionEncodings = ['utf-16'];\n        if (this._clientOptions.markdown.supportHtml) {\n            generalCapabilities.markdown.allowedTags = ['ul', 'li', 'p', 'code', 'blockquote', 'ol', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'em', 'pre', 'table', 'thead', 'tbody', 'tr', 'th', 'td', 'div', 'del', 'a', 'strong', 'br', 'img', 'span'];\n        }\n        for (let feature of this._features) {\n            feature.fillClientCapabilities(result);\n        }\n        return result;\n    }\n    initializeFeatures(_connection) {\n        const documentSelector = this._clientOptions.documentSelector;\n        for (const feature of this._features) {\n            if (Is.func(feature.preInitialize)) {\n                feature.preInitialize(this._capabilities, documentSelector);\n            }\n        }\n        for (const feature of this._features) {\n            feature.initialize(this._capabilities, documentSelector);\n        }\n    }\n    async handleRegistrationRequest(params) {\n        // We will not receive a registration call before a client is running\n        // from a server. However if we stop or shutdown we might which might\n        // try to restart the server. So ignore registrations if we are not running\n        if (!this.isRunning()) {\n            for (const registration of params.registrations) {\n                this._ignoredRegistrations.add(registration.id);\n            }\n            return;\n        }\n        for (const registration of params.registrations) {\n            const feature = this._dynamicFeatures.get(registration.method);\n            if (feature === undefined) {\n                return Promise.reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\n            }\n            const options = registration.registerOptions ?? {};\n            options.documentSelector = options.documentSelector ?? this._clientOptions.documentSelector;\n            const data = {\n                id: registration.id,\n                registerOptions: options\n            };\n            try {\n                feature.register(data);\n            }\n            catch (err) {\n                return Promise.reject(err);\n            }\n        }\n    }\n    async handleUnregistrationRequest(params) {\n        for (let unregistration of params.unregisterations) {\n            if (this._ignoredRegistrations.has(unregistration.id)) {\n                continue;\n            }\n            const feature = this._dynamicFeatures.get(unregistration.method);\n            if (!feature) {\n                return Promise.reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\n            }\n            feature.unregister(unregistration.id);\n        }\n    }\n    async handleApplyWorkspaceEdit(params) {\n        const workspaceEdit = params.edit;\n        // Make sure we convert workspace edits one after the other. Otherwise\n        // we might execute a workspace edit received first after we received another\n        // one since the conversion might race.\n        const converted = await this.workspaceEditLock.lock(() => {\n            return this._p2c.asWorkspaceEdit(workspaceEdit);\n        });\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\n        // However doing it here adds some safety since the server can lag more behind then an extension.\n        const openTextDocuments = new Map();\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\n        let versionMismatch = false;\n        if (workspaceEdit.documentChanges) {\n            for (const change of workspaceEdit.documentChanges) {\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\n                    const textDocument = openTextDocuments.get(change.textDocument.uri);\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\n                        versionMismatch = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (versionMismatch) {\n            return Promise.resolve({ applied: false });\n        }\n        return Is.asPromise(vscode_1.workspace.applyEdit(converted).then((value) => { return { applied: value }; }));\n    }\n    handleFailedRequest(type, token, error, defaultValue, showNotification = true) {\n        // If we get a request cancel or a content modified don't log anything.\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError) {\n            // The connection got disposed while we were waiting for a response.\n            // Simply return the default value. Is the best we can do.\n            if (error.code === vscode_languageserver_protocol_1.ErrorCodes.PendingResponseRejected || error.code === vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive) {\n                return defaultValue;\n            }\n            if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled || error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ServerCancelled) {\n                if (token !== undefined && token.isCancellationRequested) {\n                    return defaultValue;\n                }\n                else {\n                    if (error.data !== undefined) {\n                        throw new features_1.LSPCancellationError(error.data);\n                    }\n                    else {\n                        throw new vscode_1.CancellationError();\n                    }\n                }\n            }\n            else if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified) {\n                if (BaseLanguageClient.RequestsToCancelOnContentModified.has(type.method)) {\n                    throw new vscode_1.CancellationError();\n                }\n                else {\n                    return defaultValue;\n                }\n            }\n        }\n        this.error(`Request ${type.method} failed.`, error, showNotification);\n        throw error;\n    }\n}\nexports.BaseLanguageClient = BaseLanguageClient;\nBaseLanguageClient.RequestsToCancelOnContentModified = new Set([\n    vscode_languageserver_protocol_1.SemanticTokensRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensRangeRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.method\n]);\nclass ConsoleLogger {\n    error(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.error(message);\n    }\n    warn(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.warn(message);\n    }\n    info(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.info(message);\n    }\n    log(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.log(message);\n    }\n}\nfunction createConnection(input, output, errorHandler, closeHandler, options) {\n    let _lastUsed = -1;\n    const logger = new ConsoleLogger();\n    const connection = (0, vscode_languageserver_protocol_1.createProtocolConnection)(input, output, logger, options);\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\n    connection.onClose(closeHandler);\n    const result = {\n        get lastUsed() {\n            return _lastUsed;\n        },\n        resetLastUsed: () => {\n            _lastUsed = -1;\n        },\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => {\n            _lastUsed = Date.now();\n            return connection.sendRequest(type, ...params);\n        },\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        hasPendingResponse: () => connection.hasPendingResponse(),\n        sendNotification: (type, params) => {\n            _lastUsed = Date.now();\n            return connection.sendNotification(type, params);\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\n            const defaultTraceOptions = {\n                sendNotification: false,\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\n            };\n            if (sendNotificationOrTraceOptions === undefined) {\n                return connection.trace(value, tracer, defaultTraceOptions);\n            }\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n            else {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n        },\n        initialize: (params) => {\n            _lastUsed = Date.now();\n            return connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params);\n        },\n        shutdown: () => {\n            _lastUsed = Date.now();\n            return connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined);\n        },\n        exit: () => {\n            _lastUsed = Date.now();\n            return connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type);\n        },\n        end: () => connection.end(),\n        dispose: () => connection.dispose()\n    };\n    return result;\n}\n// Exporting proposed protocol.\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    function createAll(_client) {\n        let result = [];\n        return result;\n    }\n    ProposedFeatures.createAll = createAll;\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=client.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeActionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeActionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const cap = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeAction');\n        cap.dynamicRegistration = true;\n        cap.isPreferredSupport = true;\n        cap.disabledSupport = true;\n        cap.dataSupport = true;\n        // We can only resolve the edit property.\n        cap.resolveSupport = {\n            properties: ['edit']\n        };\n        cap.codeActionLiteralSupport = {\n            codeActionKind: {\n                valueSet: [\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\n                ]\n            }\n        };\n        cap.honorsChangeAnnotations = false;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideCodeActions: (document, range, context, token) => {\n                const client = this._client;\n                const _provideCodeActions = async (document, range, context, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        context: await client.code2ProtocolConverter.asCodeActionContext(context, token)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\n                        if (token.isCancellationRequested || values === null || values === undefined) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeActionResult(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeActions\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\n                    : _provideCodeActions(document, range, context, token);\n            },\n            resolveCodeAction: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCodeAction = async (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, await client.code2ProtocolConverter.asCodeAction(item, token), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return item;\n                            }\n                            return client.protocol2CodeConverter.asCodeAction(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCodeAction\n                        ? middleware.resolveCodeAction(item, token, resolveCodeAction)\n                        : resolveCodeAction(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, (options.codeActionKinds\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\n                : undefined)), provider];\n    }\n}\nexports.CodeActionFeature = CodeActionFeature;\n//# sourceMappingURL=codeAction.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nvar InsertReplaceRange;\n(function (InsertReplaceRange) {\n    function is(value) {\n        const candidate = value;\n        return candidate && !!candidate.inserting && !!candidate.replacing;\n    }\n    InsertReplaceRange.is = is;\n})(InsertReplaceRange || (InsertReplaceRange = {}));\nfunction createConverter(uriConverter) {\n    const nullConverter = (value) => value.toString();\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri)\n        };\n    }\n    function asTextDocumentItem(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            languageId: textDocument.languageId,\n            version: textDocument.version,\n            text: textDocument.getText()\n        };\n    }\n    function asVersionedTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            version: textDocument.version\n        };\n    }\n    function asOpenTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentItem(textDocument)\n        };\n    }\n    function isTextDocumentChangeEvent(value) {\n        let candidate = value;\n        return !!candidate.document && !!candidate.contentChanges;\n    }\n    function isTextDocument(value) {\n        let candidate = value;\n        return !!candidate.uri && !!candidate.version;\n    }\n    function asChangeTextDocumentParams(arg) {\n        if (isTextDocument(arg)) {\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(arg.uri),\n                    version: arg.version\n                },\n                contentChanges: [{ text: arg.getText() }]\n            };\n            return result;\n        }\n        else if (isTextDocumentChangeEvent(arg)) {\n            let document = arg.document;\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(document.uri),\n                    version: document.version\n                },\n                contentChanges: arg.contentChanges.map((change) => {\n                    let range = change.range;\n                    return {\n                        range: {\n                            start: { line: range.start.line, character: range.start.character },\n                            end: { line: range.end.line, character: range.end.character }\n                        },\n                        rangeLength: change.rangeLength,\n                        text: change.text\n                    };\n                })\n            };\n            return result;\n        }\n        else {\n            throw Error('Unsupported text document change parameter');\n        }\n    }\n    function asCloseTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\n        let result = {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n        if (includeContent) {\n            result.text = textDocument.getText();\n        }\n        return result;\n    }\n    function asTextDocumentSaveReason(reason) {\n        switch (reason) {\n            case code.TextDocumentSaveReason.Manual:\n                return proto.TextDocumentSaveReason.Manual;\n            case code.TextDocumentSaveReason.AfterDelay:\n                return proto.TextDocumentSaveReason.AfterDelay;\n            case code.TextDocumentSaveReason.FocusOut:\n                return proto.TextDocumentSaveReason.FocusOut;\n        }\n        return proto.TextDocumentSaveReason.Manual;\n    }\n    function asWillSaveTextDocumentParams(event) {\n        return {\n            textDocument: asTextDocumentIdentifier(event.document),\n            reason: asTextDocumentSaveReason(event.reason)\n        };\n    }\n    function asDidCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asDidRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asDidDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asWillDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asTextDocumentPositionParams(textDocument, position) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position)\n        };\n    }\n    function asCompletionTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.CompletionTriggerKind.TriggerCharacter:\n                return proto.CompletionTriggerKind.TriggerCharacter;\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return proto.CompletionTriggerKind.Invoked;\n        }\n    }\n    function asCompletionParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\n                triggerCharacter: context.triggerCharacter\n            }\n        };\n    }\n    function asSignatureHelpTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.SignatureHelpTriggerKind.Invoke:\n                return proto.SignatureHelpTriggerKind.Invoked;\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\n            case code.SignatureHelpTriggerKind.ContentChange:\n                return proto.SignatureHelpTriggerKind.ContentChange;\n        }\n    }\n    function asParameterInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label\n        };\n    }\n    function asParameterInformations(values) {\n        return values.map(asParameterInformation);\n    }\n    function asSignatureInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label,\n            parameters: asParameterInformations(value.parameters)\n        };\n    }\n    function asSignatureInformations(values) {\n        return values.map(asSignatureInformation);\n    }\n    function asSignatureHelp(value) {\n        if (value === undefined) {\n            return value;\n        }\n        return {\n            signatures: asSignatureInformations(value.signatures),\n            activeSignature: value.activeSignature,\n            activeParameter: value.activeParameter\n        };\n    }\n    function asSignatureHelpParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                isRetrigger: context.isRetrigger,\n                triggerCharacter: context.triggerCharacter,\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\n            }\n        };\n    }\n    function asWorkerPosition(position) {\n        return { line: position.line, character: position.character };\n    }\n    function asPosition(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { line: value.line > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.line, character: value.character > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.character };\n    }\n    function asPositions(value, token) {\n        return async.map(value, asPosition, token);\n    }\n    function asRange(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { start: asPosition(value.start), end: asPosition(value.end) };\n    }\n    function asLocation(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\n    }\n    function asDiagnosticSeverity(value) {\n        switch (value) {\n            case code.DiagnosticSeverity.Error:\n                return proto.DiagnosticSeverity.Error;\n            case code.DiagnosticSeverity.Warning:\n                return proto.DiagnosticSeverity.Warning;\n            case code.DiagnosticSeverity.Information:\n                return proto.DiagnosticSeverity.Information;\n            case code.DiagnosticSeverity.Hint:\n                return proto.DiagnosticSeverity.Hint;\n        }\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case code.DiagnosticTag.Unnecessary:\n                return proto.DiagnosticTag.Unnecessary;\n            case code.DiagnosticTag.Deprecated:\n                return proto.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asRelatedInformation(item) {\n        return {\n            message: item.message,\n            location: asLocation(item.location)\n        };\n    }\n    function asRelatedInformations(items) {\n        return items.map(asRelatedInformation);\n    }\n    function asDiagnosticCode(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        if (Is.number(value) || Is.string(value)) {\n            return value;\n        }\n        return { value: value.value, target: asUri(value.target) };\n    }\n    function asDiagnostic(item) {\n        const result = proto.Diagnostic.create(asRange(item.range), item.message);\n        const protocolDiagnostic = item instanceof protocolDiagnostic_1.ProtocolDiagnostic ? item : undefined;\n        if (protocolDiagnostic !== undefined && protocolDiagnostic.data !== undefined) {\n            result.data = protocolDiagnostic.data;\n        }\n        const code = asDiagnosticCode(item.code);\n        if (protocolDiagnostic_1.DiagnosticCode.is(code)) {\n            if (protocolDiagnostic !== undefined && protocolDiagnostic.hasDiagnosticCode) {\n                result.code = code;\n            }\n            else {\n                result.code = code.value;\n                result.codeDescription = { href: code.target };\n            }\n        }\n        else {\n            result.code = code;\n        }\n        if (Is.number(item.severity)) {\n            result.severity = asDiagnosticSeverity(item.severity);\n        }\n        if (Array.isArray(item.tags)) {\n            result.tags = asDiagnosticTags(item.tags);\n        }\n        if (item.relatedInformation) {\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\n        }\n        if (item.source) {\n            result.source = item.source;\n        }\n        return result;\n    }\n    function asDiagnostics(items, token) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return async.map(items, asDiagnostic, token);\n    }\n    function asDocumentation(format, documentation) {\n        switch (format) {\n            case '$string':\n                return documentation;\n            case proto.MarkupKind.PlainText:\n                return { kind: format, value: documentation };\n            case proto.MarkupKind.Markdown:\n                return { kind: format, value: documentation.value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case code.CompletionItemTag.Deprecated:\n                return proto.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined) {\n            return tags;\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItemKind(value, original) {\n        if (original !== undefined) {\n            return original;\n        }\n        return value + 1;\n    }\n    function asCompletionItem(item, labelDetailsSupport = false) {\n        let label;\n        let labelDetails;\n        if (Is.string(item.label)) {\n            label = item.label;\n        }\n        else {\n            label = item.label.label;\n            if (labelDetailsSupport && (item.label.detail !== undefined || item.label.description !== undefined)) {\n                labelDetails = { detail: item.label.detail, description: item.label.description };\n            }\n        }\n        let result = { label: label };\n        if (labelDetails !== undefined) {\n            result.labelDetails = labelDetails;\n        }\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\n                result.documentation = item.documentation;\n            }\n            else {\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        fillPrimaryInsertText(result, item);\n        if (Is.number(item.kind)) {\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (item.commitCharacters) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const tags = asCompletionItemTags(item.tags);\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\n                    if (index !== -1) {\n                        tags.splice(index, 1);\n                    }\n                }\n                result.deprecated = protocolItem.deprecated;\n            }\n            if (protocolItem.insertTextMode !== undefined) {\n                result.insertTextMode = protocolItem.insertTextMode;\n            }\n        }\n        if (tags !== undefined && tags.length > 0) {\n            result.tags = tags;\n        }\n        if (result.insertTextMode === undefined && item.keepWhitespace === true) {\n            result.insertTextMode = proto.InsertTextMode.adjustIndentation;\n        }\n        return result;\n    }\n    function fillPrimaryInsertText(target, source) {\n        let format = proto.InsertTextFormat.PlainText;\n        let text = undefined;\n        let range = undefined;\n        if (source.textEdit) {\n            text = source.textEdit.newText;\n            range = source.textEdit.range;\n        }\n        else if (source.insertText instanceof code.SnippetString) {\n            format = proto.InsertTextFormat.Snippet;\n            text = source.insertText.value;\n        }\n        else {\n            text = source.insertText;\n        }\n        if (source.range) {\n            range = source.range;\n        }\n        target.insertTextFormat = format;\n        if (source.fromEdit && text !== undefined && range !== undefined) {\n            target.textEdit = asCompletionTextEdit(text, range);\n        }\n        else {\n            target.insertText = text;\n        }\n    }\n    function asCompletionTextEdit(newText, range) {\n        if (InsertReplaceRange.is(range)) {\n            return proto.InsertReplaceEdit.create(newText, asRange(range.inserting), asRange(range.replacing));\n        }\n        else {\n            return { newText, range: asRange(range) };\n        }\n    }\n    function asTextEdit(edit) {\n        return { range: asRange(edit.range), newText: edit.newText };\n    }\n    function asTextEdits(edits) {\n        if (edits === undefined || edits === null) {\n            return edits;\n        }\n        return edits.map(asTextEdit);\n    }\n    function asSymbolKind(item) {\n        if (item <= code.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return (item + 1);\n        }\n        return proto.SymbolKind.Property;\n    }\n    function asSymbolTag(item) {\n        return item;\n    }\n    function asSymbolTags(items) {\n        return items.map(asSymbolTag);\n    }\n    function asReferenceParams(textDocument, position, options) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n    async function asCodeAction(item, token) {\n        let result = proto.CodeAction.create(item.title);\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = await asDiagnostics(item.diagnostics, token);\n        }\n        if (item.edit !== undefined) {\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    async function asCodeActionContext(context, token) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(await asDiagnostics(context.diagnostics, token), only, asCodeActionTriggerKind(context.triggerKind));\n    }\n    function asCodeActionTriggerKind(kind) {\n        switch (kind) {\n            case code.CodeActionTriggerKind.Invoke:\n                return proto.CodeActionTriggerKind.Invoked;\n            case code.CodeActionTriggerKind.Automatic:\n                return proto.CodeActionTriggerKind.Automatic;\n            default:\n                return undefined;\n        }\n    }\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        return item.value;\n    }\n    function asInlineValueContext(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        return proto.InlineValueContext.create(context.frameId, asRange(context.stoppedLocation));\n    }\n    function asCommand(item) {\n        let result = proto.Command.create(item.title, item.command);\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        let result = proto.CodeLens.create(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item instanceof protocolCodeLens_1.default) {\n            if (item.data) {\n                result.data = item.data;\n            }\n        }\n        return result;\n    }\n    function asFormattingOptions(options, fileOptions) {\n        const result = { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\n        if (fileOptions.trimTrailingWhitespace) {\n            result.trimTrailingWhitespace = true;\n        }\n        if (fileOptions.trimFinalNewlines) {\n            result.trimFinalNewlines = true;\n        }\n        if (fileOptions.insertFinalNewline) {\n            result.insertFinalNewline = true;\n        }\n        return result;\n    }\n    function asDocumentSymbolParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCodeLensParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asDocumentLink(item) {\n        let result = proto.DocumentLink.create(asRange(item.range));\n        if (item.target) {\n            result.target = asUri(item.target);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = item.tooltip;\n        }\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\n        if (protocolItem && protocolItem.data) {\n            result.data = protocolItem.data;\n        }\n        return result;\n    }\n    function asDocumentLinkParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCallHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange)\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolCallHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asTypeHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange),\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolTypeHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asWorkspaceSymbol(item) {\n        const result = item instanceof protocolWorkspaceSymbol_1.default\n            ? { name: item.name, kind: asSymbolKind(item.kind), location: item.hasRange ? asLocation(item.location) : { uri: _uriConverter(item.location.uri) }, data: item.data }\n            : { name: item.name, kind: asSymbolKind(item.kind), location: asLocation(item.location) };\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        if (item.containerName !== '') {\n            result.containerName = item.containerName;\n        }\n        return result;\n    }\n    function asInlayHint(item) {\n        const label = typeof item.label === 'string'\n            ? item.label\n            : item.label.map(asInlayHintLabelPart);\n        const result = proto.InlayHint.create(asPosition(item.position), label);\n        if (item.kind !== undefined) {\n            result.kind = item.kind;\n        }\n        if (item.textEdits !== undefined) {\n            result.textEdits = asTextEdits(item.textEdits);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        if (item.paddingLeft !== undefined) {\n            result.paddingLeft = item.paddingLeft;\n        }\n        if (item.paddingRight !== undefined) {\n            result.paddingRight = item.paddingRight;\n        }\n        if (item instanceof protocolInlayHint_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(item) {\n        const result = proto.InlayHintLabelPart.create(item.value);\n        if (item.location !== undefined) {\n            result.location = asLocation(item.location);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        const result = {\n            kind: proto.MarkupKind.Markdown,\n            value: value.value\n        };\n        return result;\n    }\n    return {\n        asUri,\n        asTextDocumentIdentifier,\n        asTextDocumentItem,\n        asVersionedTextDocumentIdentifier,\n        asOpenTextDocumentParams,\n        asChangeTextDocumentParams,\n        asCloseTextDocumentParams,\n        asSaveTextDocumentParams,\n        asWillSaveTextDocumentParams,\n        asDidCreateFilesParams,\n        asDidRenameFilesParams,\n        asDidDeleteFilesParams,\n        asWillCreateFilesParams,\n        asWillRenameFilesParams,\n        asWillDeleteFilesParams,\n        asTextDocumentPositionParams,\n        asCompletionParams,\n        asSignatureHelpParams,\n        asWorkerPosition,\n        asRange,\n        asPosition,\n        asPositions,\n        asLocation,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asDiagnostic,\n        asDiagnostics,\n        asCompletionItem,\n        asTextEdit,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asReferenceParams,\n        asCodeAction,\n        asCodeActionContext,\n        asInlineValueContext,\n        asCommand,\n        asCodeLens,\n        asFormattingOptions,\n        asDocumentSymbolParams,\n        asCodeLensParams,\n        asDocumentLink,\n        asDocumentLinkParams,\n        asCallHierarchyItem,\n        asTypeHierarchyItem,\n        asInlayHint,\n        asWorkspaceSymbol\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=codeConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeLensFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeLensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeLens').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'codeLens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeCodeLensEmitter.fire();\n            }\n        });\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeCodeLenses: eventEmitter.event,\n            provideCodeLenses: (document, token) => {\n                const client = this._client;\n                const provideCodeLenses = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeLenses(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeLenses\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\n                    : provideCodeLenses(document, token);\n            },\n            resolveCodeLens: (options.resolveProvider)\n                ? (codeLens, token) => {\n                    const client = this._client;\n                    const resolveCodeLens = (codeLens, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return codeLens;\n                            }\n                            return client.protocol2CodeConverter.asCodeLens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, token, error, codeLens);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveCodeLens\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\n                        : resolveCodeLens(codeLens, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), { provider, onDidChangeCodeLensEmitter: eventEmitter }];\n    }\n}\nexports.CodeLensFeature = CodeLensFeature;\n//# sourceMappingURL=codeLens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorProviderFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ColorProviderFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'colorProvider').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideColorPresentations: (color, context, token) => {\n                const client = this._client;\n                const provideColorPresentations = (color, context, token) => {\n                    const requestParams = {\n                        color,\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\n                        range: client.code2ProtocolConverter.asRange(context.range)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorPresentations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideColorPresentations\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\n                    : provideColorPresentations(color, context, token);\n            },\n            provideDocumentColors: (document, token) => {\n                const client = this._client;\n                const provideDocumentColors = (document, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentColors\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\n                    : provideDocumentColors(document, token);\n            }\n        };\n        return [vscode_1.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.ColorProviderFeature = ColorProviderFeature;\n//# sourceMappingURL=colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompletionItemFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nconst SupportedCompletionItemKinds = [\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\n];\nclass CompletionItemFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\n        this.labelDetailsSupport = new Map();\n    }\n    fillClientCapabilities(capabilities) {\n        let completion = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'completion');\n        completion.dynamicRegistration = true;\n        completion.contextSupport = true;\n        completion.completionItem = {\n            snippetSupport: true,\n            commitCharactersSupport: true,\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\n            deprecatedSupport: true,\n            preselectSupport: true,\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] },\n            insertReplaceSupport: true,\n            resolveSupport: {\n                properties: ['documentation', 'detail', 'additionalTextEdits']\n            },\n            insertTextModeSupport: { valueSet: [vscode_languageserver_protocol_1.InsertTextMode.asIs, vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation] },\n            labelDetailsSupport: true\n        };\n        completion.insertTextMode = vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\n        completion.completionList = {\n            itemDefaults: [\n                'commitCharacters', 'editRange', 'insertTextFormat', 'insertTextMode'\n            ]\n        };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options, id) {\n        this.labelDetailsSupport.set(id, !!options.completionItem?.labelDetailsSupport);\n        const triggerCharacters = options.triggerCharacters ?? [];\n        const defaultCommitCharacters = options.allCommitCharacters;\n        const selector = options.documentSelector;\n        const provider = {\n            provideCompletionItems: (document, position, token, context) => {\n                const client = this._client;\n                const middleware = this._client.middleware;\n                const provideCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCompletionResult(result, defaultCommitCharacters, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, token, error, null);\n                    });\n                };\n                return middleware.provideCompletionItem\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\n                    : provideCompletionItems(document, position, context, token);\n            },\n            resolveCompletionItem: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCompletionItem = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item, !!this.labelDetailsSupport.get(id)), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asCompletionItem(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCompletionItem\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\n                        : resolveCompletionItem(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, ...triggerCharacters), provider];\n    }\n}\nexports.CompletionItemFeature = CompletionItemFeature;\n//# sourceMappingURL=completion.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncConfigurationFeature = exports.toJSONObject = exports.ConfigurationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\n/**\n * Configuration pull model. Form server to client.\n */\nclass ConfigurationFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    getState() {\n        return { kind: 'static' };\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.configuration = true;\n    }\n    initialize() {\n        let client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\n            let configuration = (params) => {\n                let result = [];\n                for (let item of params.items) {\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\n                }\n                return result;\n            };\n            let middleware = client.middleware.workspace;\n            return middleware && middleware.configuration\n                ? middleware.configuration(params, token, configuration)\n                : configuration(params, token);\n        });\n    }\n    getConfiguration(resource, section) {\n        let result = null;\n        if (section) {\n            let index = section.lastIndexOf('.');\n            if (index === -1) {\n                result = toJSONObject(vscode_1.workspace.getConfiguration(undefined, resource).get(section));\n            }\n            else {\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\n                if (config) {\n                    result = toJSONObject(config.get(section.substr(index + 1)));\n                }\n            }\n        }\n        else {\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\n            result = {};\n            for (let key of Object.keys(config)) {\n                if (config.has(key)) {\n                    result[key] = toJSONObject(config.get(key));\n                }\n            }\n        }\n        if (result === undefined) {\n            result = null;\n        }\n        return result;\n    }\n    dispose() {\n    }\n}\nexports.ConfigurationFeature = ConfigurationFeature;\nfunction toJSONObject(obj) {\n    if (obj) {\n        if (Array.isArray(obj)) {\n            return obj.map(toJSONObject);\n        }\n        else if (typeof obj === 'object') {\n            const res = Object.create(null);\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    res[key] = toJSONObject(obj[key]);\n                }\n            }\n            return res;\n        }\n    }\n    return obj;\n}\nexports.toJSONObject = toJSONObject;\nclass SyncConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\n    }\n    initialize() {\n        let section = this._client.clientOptions.synchronize?.configurationSection;\n        if (section !== undefined) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: {\n                    section: section\n                }\n            });\n        }\n    }\n    register(data) {\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\n        });\n        this._listeners.set(data.id, disposable);\n        if (data.registerOptions.section !== undefined) {\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\n        }\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable) {\n            this._listeners.delete(id);\n            disposable.dispose();\n        }\n    }\n    dispose() {\n        for (const disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    onDidChangeConfiguration(configurationSection, event) {\n        let sections;\n        if (Is.string(configurationSection)) {\n            sections = [configurationSection];\n        }\n        else {\n            sections = configurationSection;\n        }\n        if (sections !== undefined && event !== undefined) {\n            let affected = sections.some((section) => event.affectsConfiguration(section));\n            if (!affected) {\n                return;\n            }\n        }\n        const didChangeConfiguration = async (sections) => {\n            if (sections === undefined) {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\n            }\n            else {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\n            }\n        };\n        let middleware = this._client.middleware.workspace?.didChangeConfiguration;\n        (middleware ? middleware(sections, didChangeConfiguration) : didChangeConfiguration(sections)).catch((error) => {\n            this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type.method} failed`, error);\n        });\n    }\n    extractSettingsInformation(keys) {\n        function ensurePath(config, path) {\n            let current = config;\n            for (let i = 0; i < path.length - 1; i++) {\n                let obj = current[path[i]];\n                if (!obj) {\n                    obj = Object.create(null);\n                    current[path[i]] = obj;\n                }\n                current = obj;\n            }\n            return current;\n        }\n        let resource = this._client.clientOptions.workspaceFolder\n            ? this._client.clientOptions.workspaceFolder.uri\n            : undefined;\n        let result = Object.create(null);\n        for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let index = key.indexOf('.');\n            let config = null;\n            if (index >= 0) {\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\n            }\n            else {\n                config = vscode_1.workspace.getConfiguration(undefined, resource).get(key);\n            }\n            if (config) {\n                let path = keys[i].split('.');\n                ensurePath(result, path)[path[path.length - 1]] = toJSONObject(config);\n            }\n        }\n        return result;\n    }\n}\nexports.SyncConfigurationFeature = SyncConfigurationFeature;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass DeclarationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const declarationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'declaration');\n        declarationSupport.dynamicRegistration = true;\n        declarationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDeclaration: (document, position, token) => {\n                const client = this._client;\n                const provideDeclaration = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDeclarationResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDeclaration\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\n                    : provideDeclaration(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DeclarationFeature = DeclarationFeature;\n//# sourceMappingURL=declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let definitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'definition');\n        definitionSupport.dynamicRegistration = true;\n        definitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDefinition\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\n                    : provideDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DefinitionFeature = DefinitionFeature;\n//# sourceMappingURL=definition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = exports.DiagnosticPullMode = exports.vsdiag = void 0;\nconst minimatch = require(\"minimatch\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar vsdiag;\n(function (vsdiag) {\n    let DocumentDiagnosticReportKind;\n    (function (DocumentDiagnosticReportKind) {\n        DocumentDiagnosticReportKind[\"full\"] = \"full\";\n        DocumentDiagnosticReportKind[\"unChanged\"] = \"unChanged\";\n    })(DocumentDiagnosticReportKind = vsdiag.DocumentDiagnosticReportKind || (vsdiag.DocumentDiagnosticReportKind = {}));\n})(vsdiag = exports.vsdiag || (exports.vsdiag = {}));\nvar DiagnosticPullMode;\n(function (DiagnosticPullMode) {\n    DiagnosticPullMode[\"onType\"] = \"onType\";\n    DiagnosticPullMode[\"onSave\"] = \"onSave\";\n})(DiagnosticPullMode = exports.DiagnosticPullMode || (exports.DiagnosticPullMode = {}));\nvar RequestStateKind;\n(function (RequestStateKind) {\n    RequestStateKind[\"active\"] = \"open\";\n    RequestStateKind[\"reschedule\"] = \"reschedule\";\n    RequestStateKind[\"outDated\"] = \"drop\";\n})(RequestStateKind || (RequestStateKind = {}));\nclass Tabs {\n    constructor() {\n        this.open = new Set();\n        const openTabsHandler = () => {\n            this.open.clear();\n            for (const group of vscode_1.window.tabGroups.all) {\n                for (const tab of group.tabs) {\n                    const input = tab.input;\n                    if (input instanceof vscode_1.TabInputText) {\n                        this.open.add(input.uri.toString());\n                    }\n                    else if (input instanceof vscode_1.TabInputTextDiff) {\n                        this.open.add(input.modified.toString());\n                    }\n                }\n            }\n        };\n        openTabsHandler();\n        if (vscode_1.window.tabGroups.onDidChangeTabGroups !== undefined) {\n            this.disposable = vscode_1.window.tabGroups.onDidChangeTabGroups(openTabsHandler);\n        }\n        else {\n            this.disposable = { dispose: () => { } };\n        }\n    }\n    dispose() {\n        this.disposable.dispose();\n    }\n    isActive(document) {\n        return document instanceof vscode_1.Uri\n            ? vscode_1.window.activeTextEditor?.document.uri === document\n            : vscode_1.window.activeTextEditor?.document === document;\n    }\n    isVisible(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        return this.open.has(uri.toString());\n    }\n    getTabResources() {\n        const result = [];\n        for (const group of vscode_1.window.tabGroups.all) {\n            for (const tab of group.tabs) {\n                const input = tab.input;\n                if (input instanceof vscode_1.TabInputText) {\n                    result.push(input.uri);\n                }\n                else if (input instanceof vscode_1.TabInputTextDiff) {\n                    result.push(input.modified);\n                }\n            }\n        }\n        return result;\n    }\n}\nvar PullState;\n(function (PullState) {\n    PullState[PullState[\"document\"] = 1] = \"document\";\n    PullState[PullState[\"workspace\"] = 2] = \"workspace\";\n})(PullState || (PullState = {}));\nclass DocumentPullStateTracker {\n    constructor() {\n        this.documentPullStates = new Map();\n        this.workspacePullStates = new Map();\n    }\n    track(kind, document, arg1) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1]\n            : [document.uri.toString(), document.uri, document.version];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId: undefined };\n            states.set(key, state);\n        }\n        return state;\n    }\n    update(kind, document, arg1, arg2) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version, resultId] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1, arg2]\n            : [document.uri.toString(), document.uri, document.version, arg1];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId };\n            states.set(key, state);\n        }\n        else {\n            state.pulledVersion = version;\n            state.resultId = resultId;\n        }\n    }\n    unTrack(kind, document) {\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        states.delete(key);\n    }\n    tracks(kind, document) {\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.has(key);\n    }\n    getResultId(kind, document) {\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.get(key)?.resultId;\n    }\n    getAllResultIds() {\n        const result = [];\n        for (let [uri, value] of this.workspacePullStates) {\n            if (this.documentPullStates.has(uri)) {\n                value = this.documentPullStates.get(uri);\n            }\n            if (value.resultId !== undefined) {\n                result.push({ uri, value: value.resultId });\n            }\n        }\n        return result;\n    }\n}\nclass DiagnosticRequestor {\n    constructor(client, tabs, options) {\n        this.client = client;\n        this.tabs = tabs;\n        this.options = options;\n        this.isDisposed = false;\n        this.onDidChangeDiagnosticsEmitter = new vscode_1.EventEmitter();\n        this.provider = this.createProvider();\n        this.diagnostics = vscode_1.languages.createDiagnosticCollection(options.identifier);\n        this.openRequests = new Map();\n        this.documentStates = new DocumentPullStateTracker();\n        this.workspaceErrorCounter = 0;\n    }\n    knows(kind, textDocument) {\n        return this.documentStates.tracks(kind, textDocument);\n    }\n    pull(document, cb) {\n        if (this.isDisposed) {\n            return;\n        }\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        this.pullAsync(document).then(() => {\n            if (cb) {\n                cb();\n            }\n        }, (error) => {\n            this.client.error(`Document pull failed for text document ${uri.toString()}`, error, false);\n        });\n    }\n    async pullAsync(document, version) {\n        if (this.isDisposed) {\n            return;\n        }\n        const isUri = document instanceof vscode_1.Uri;\n        const uri = isUri ? document : document.uri;\n        const key = uri.toString();\n        version = isUri ? version : document.version;\n        const currentRequestState = this.openRequests.get(key);\n        const documentState = isUri\n            ? this.documentStates.track(PullState.document, document, version)\n            : this.documentStates.track(PullState.document, document);\n        if (currentRequestState === undefined) {\n            const tokenSource = new vscode_1.CancellationTokenSource();\n            this.openRequests.set(key, { state: RequestStateKind.active, document: document, version: version, tokenSource });\n            let report;\n            let afterState;\n            try {\n                report = await this.provider.provideDiagnostics(document, documentState.resultId, tokenSource.token) ?? { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n            }\n            catch (error) {\n                if (error instanceof features_1.LSPCancellationError && vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data) && error.data.retriggerRequest === false) {\n                    afterState = { state: RequestStateKind.outDated, document };\n                }\n                if (afterState === undefined && error instanceof vscode_1.CancellationError) {\n                    afterState = { state: RequestStateKind.reschedule, document };\n                }\n                else {\n                    throw error;\n                }\n            }\n            afterState = afterState ?? this.openRequests.get(key);\n            if (afterState === undefined) {\n                // This shouldn't happen. Log it\n                this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${key}`);\n                this.diagnostics.delete(uri);\n                return;\n            }\n            this.openRequests.delete(key);\n            if (!this.tabs.isVisible(document)) {\n                this.documentStates.unTrack(PullState.document, document);\n                return;\n            }\n            if (afterState.state === RequestStateKind.outDated) {\n                return;\n            }\n            // report is only undefined if the request has thrown.\n            if (report !== undefined) {\n                if (report.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    this.diagnostics.set(uri, report.items);\n                }\n                documentState.pulledVersion = version;\n                documentState.resultId = report.resultId;\n            }\n            if (afterState.state === RequestStateKind.reschedule) {\n                this.pull(document);\n            }\n        }\n        else {\n            if (currentRequestState.state === RequestStateKind.active) {\n                // Cancel the current request and reschedule a new one when the old one returned.\n                currentRequestState.tokenSource.cancel();\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n            else if (currentRequestState.state === RequestStateKind.outDated) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n        }\n    }\n    cleanupPull(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        const key = uri.toString();\n        const request = this.openRequests.get(key);\n        if (this.options.workspaceDiagnostics || this.options.interFileDependencies) {\n            if (request !== undefined) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: document });\n            }\n            else {\n                this.pull(document);\n            }\n        }\n        else {\n            if (request !== undefined) {\n                if (request.state === RequestStateKind.active) {\n                    request.tokenSource.cancel();\n                }\n                this.openRequests.set(key, { state: RequestStateKind.outDated, document: document });\n            }\n            this.diagnostics.delete(uri);\n        }\n    }\n    pullWorkspace() {\n        if (this.isDisposed) {\n            return;\n        }\n        this.pullWorkspaceAsync().then(() => {\n            this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.pullWorkspace();\n            }, 2000);\n        }, (error) => {\n            if (!(error instanceof features_1.LSPCancellationError) && !vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data)) {\n                this.client.error(`Workspace diagnostic pull failed.`, error, false);\n                this.workspaceErrorCounter++;\n            }\n            if (this.workspaceErrorCounter <= 5) {\n                this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                    this.pullWorkspace();\n                }, 2000);\n            }\n        });\n    }\n    async pullWorkspaceAsync() {\n        if (!this.provider.provideWorkspaceDiagnostics || this.isDisposed) {\n            return;\n        }\n        if (this.workspaceCancellation !== undefined) {\n            this.workspaceCancellation.cancel();\n            this.workspaceCancellation = undefined;\n        }\n        this.workspaceCancellation = new vscode_1.CancellationTokenSource();\n        const previousResultIds = this.documentStates.getAllResultIds().map((item) => {\n            return {\n                uri: this.client.protocol2CodeConverter.asUri(item.uri),\n                value: item.value\n            };\n        });\n        await this.provider.provideWorkspaceDiagnostics(previousResultIds, this.workspaceCancellation.token, (chunk) => {\n            if (!chunk || this.isDisposed) {\n                return;\n            }\n            for (const item of chunk.items) {\n                if (item.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    // Favour document pull result over workspace results. So skip if it is tracked\n                    // as a document result.\n                    if (!this.documentStates.tracks(PullState.document, item.uri)) {\n                        this.diagnostics.set(item.uri, item.items);\n                    }\n                }\n                this.documentStates.update(PullState.workspace, item.uri, item.version ?? undefined, item.resultId);\n            }\n        });\n    }\n    createProvider() {\n        const result = {\n            onDidChangeDiagnostics: this.onDidChangeDiagnosticsEmitter.event,\n            provideDiagnostics: (document, previousResultId, token) => {\n                const provideDiagnostics = (document, previousResultId, token) => {\n                    const params = {\n                        identifier: this.options.identifier,\n                        textDocument: { uri: this.client.code2ProtocolConverter.asUri(document instanceof vscode_1.Uri ? document : document.uri) },\n                        previousResultId: previousResultId\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (result === undefined || result === null || this.isDisposed || token.isCancellationRequested) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                        }\n                        if (result.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, resultId: result.resultId, items: await this.client.protocol2CodeConverter.asDiagnostics(result.items, token) };\n                        }\n                        else {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.unChanged, resultId: result.resultId };\n                        }\n                    }, (error) => {\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideDiagnostics\n                    ? middleware.provideDiagnostics(document, previousResultId, token, provideDiagnostics)\n                    : provideDiagnostics(document, previousResultId, token);\n            }\n        };\n        if (this.options.workspaceDiagnostics) {\n            result.provideWorkspaceDiagnostics = (resultIds, token, resultReporter) => {\n                const convertReport = async (report) => {\n                    if (report.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.full,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version,\n                            items: await this.client.protocol2CodeConverter.asDiagnostics(report.items, token)\n                        };\n                    }\n                    else {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.unChanged,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version\n                        };\n                    }\n                };\n                const convertPreviousResultIds = (resultIds) => {\n                    const converted = [];\n                    for (const item of resultIds) {\n                        converted.push({ uri: this.client.code2ProtocolConverter.asUri(item.uri), value: item.value });\n                    }\n                    return converted;\n                };\n                const provideDiagnostics = (resultIds, token) => {\n                    const partialResultToken = (0, uuid_1.generateUuid)();\n                    const disposable = this.client.onProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, partialResultToken, async (partialResult) => {\n                        if (partialResult === undefined || partialResult === null) {\n                            resultReporter(null);\n                            return;\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of partialResult.items) {\n                            try {\n                                converted.items.push(await convertReport(item));\n                            }\n                            catch (error) {\n                                this.client.error(`Converting workspace diagnostics failed.`, error);\n                            }\n                        }\n                        resultReporter(converted);\n                    });\n                    const params = {\n                        identifier: this.options.identifier,\n                        previousResultIds: convertPreviousResultIds(resultIds),\n                        partialResultToken: partialResultToken\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (token.isCancellationRequested) {\n                            return { items: [] };\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of result.items) {\n                            converted.items.push(await convertReport(item));\n                        }\n                        disposable.dispose();\n                        resultReporter(converted);\n                        return { items: [] };\n                    }, (error) => {\n                        disposable.dispose();\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideWorkspaceDiagnostics\n                    ? middleware.provideWorkspaceDiagnostics(resultIds, token, resultReporter, provideDiagnostics)\n                    : provideDiagnostics(resultIds, token, resultReporter);\n            };\n        }\n        return result;\n    }\n    dispose() {\n        this.isDisposed = true;\n        // Cancel and clear workspace pull if present.\n        this.workspaceCancellation?.cancel();\n        this.workspaceTimeout?.dispose();\n        // Cancel all request and mark open requests as outdated.\n        for (const [key, request] of this.openRequests) {\n            if (request.state === RequestStateKind.active) {\n                request.tokenSource.cancel();\n            }\n            this.openRequests.set(key, { state: RequestStateKind.outDated, document: request.document });\n        }\n    }\n}\nclass BackgroundScheduler {\n    constructor(diagnosticRequestor) {\n        this.diagnosticRequestor = diagnosticRequestor;\n        this.documents = new vscode_languageserver_protocol_1.LinkedMap();\n        this.isDisposed = false;\n    }\n    add(document) {\n        if (this.isDisposed === true) {\n            return;\n        }\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        if (this.documents.has(key)) {\n            return;\n        }\n        this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n        this.trigger();\n    }\n    remove(document) {\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        if (this.documents.has(key)) {\n            this.documents.delete(key);\n            // Do a last pull\n            this.diagnosticRequestor.pull(document);\n        }\n        // No more documents. Stop background activity.\n        if (this.documents.size === 0) {\n            this.stop();\n        }\n        else if (document === this.endDocument) {\n            // Make sure we have a correct last document. It could have\n            this.endDocument = this.documents.last;\n        }\n    }\n    trigger() {\n        if (this.isDisposed === true) {\n            return;\n        }\n        // We have a round running. So simply make sure we run up to the\n        // last document\n        if (this.intervalHandle !== undefined) {\n            this.endDocument = this.documents.last;\n            return;\n        }\n        this.endDocument = this.documents.last;\n        this.intervalHandle = (0, vscode_languageserver_protocol_1.RAL)().timer.setInterval(() => {\n            const document = this.documents.first;\n            if (document !== undefined) {\n                const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n                this.diagnosticRequestor.pull(document);\n                this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n                if (document === this.endDocument) {\n                    this.stop();\n                }\n            }\n        }, 200);\n    }\n    dispose() {\n        this.isDisposed = true;\n        this.stop();\n        this.documents.clear();\n    }\n    stop() {\n        this.intervalHandle?.dispose();\n        this.intervalHandle = undefined;\n        this.endDocument = undefined;\n    }\n}\nclass DiagnosticFeatureProviderImpl {\n    constructor(client, tabs, options) {\n        const diagnosticPullOptions = client.clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false };\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        const disposables = [];\n        const matchResource = (resource) => {\n            const selector = options.documentSelector;\n            if (diagnosticPullOptions.match !== undefined) {\n                return diagnosticPullOptions.match(selector, resource);\n            }\n            for (const filter of selector) {\n                if (!vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                    continue;\n                }\n                // The filter is a language id. We can't determine if it matches\n                // so we return false.\n                if (typeof filter === 'string') {\n                    return false;\n                }\n                if (filter.language !== undefined && filter.language !== '*') {\n                    return false;\n                }\n                if (filter.scheme !== undefined && filter.scheme !== '*' && filter.scheme !== resource.scheme) {\n                    return false;\n                }\n                if (filter.pattern !== undefined) {\n                    const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n                    if (!matcher.makeRe()) {\n                        return false;\n                    }\n                    if (!matcher.match(resource.fsPath)) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        };\n        const matches = (document) => {\n            return document instanceof vscode_1.Uri\n                ? matchResource(document)\n                : vscode_1.languages.match(documentSelector, document) > 0 && tabs.isVisible(document);\n        };\n        const isActiveDocument = (document) => {\n            return document instanceof vscode_1.Uri\n                ? this.activeTextDocument?.uri.toString() === document.toString()\n                : this.activeTextDocument === document;\n        };\n        this.diagnosticRequestor = new DiagnosticRequestor(client, tabs, options);\n        this.backgroundScheduler = new BackgroundScheduler(this.diagnosticRequestor);\n        const addToBackgroundIfNeeded = (document) => {\n            if (!matches(document) || !options.interFileDependencies || isActiveDocument(document)) {\n                return;\n            }\n            this.backgroundScheduler.add(document);\n        };\n        this.activeTextDocument = vscode_1.window.activeTextEditor?.document;\n        vscode_1.window.onDidChangeActiveTextEditor((editor) => {\n            const oldActive = this.activeTextDocument;\n            this.activeTextDocument = editor?.document;\n            if (oldActive !== undefined) {\n                addToBackgroundIfNeeded(oldActive);\n            }\n            if (this.activeTextDocument !== undefined) {\n                this.backgroundScheduler.remove(this.activeTextDocument);\n            }\n        });\n        // We always pull on open.\n        const openFeature = client.getFeature(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.method);\n        disposables.push(openFeature.onNotificationSent((event) => {\n            const textDocument = event.original;\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n            }\n        }));\n        // Pull all diagnostics for documents that are already open\n        const pullTextDocuments = new Set();\n        for (const textDocument of vscode_1.workspace.textDocuments) {\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n                pullTextDocuments.add(textDocument.uri.toString());\n            }\n        }\n        // Pull all tabs if not already pull as text document\n        if (diagnosticPullOptions.onTabs === true) {\n            for (const resource of tabs.getTabResources()) {\n                if (!pullTextDocuments.has(resource.toString()) && matches(resource)) {\n                    this.diagnosticRequestor.pull(resource, () => { addToBackgroundIfNeeded(resource); });\n                }\n            }\n        }\n        if (diagnosticPullOptions.onChange === true) {\n            const changeFeature = client.getFeature(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.method);\n            disposables.push(changeFeature.onNotificationSent(async (event) => {\n                const textDocument = event.original.document;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onType)) && this.diagnosticRequestor.knows(PullState.document, textDocument) && event.original.contentChanges.length > 0) {\n                    this.diagnosticRequestor.pull(textDocument, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        if (diagnosticPullOptions.onSave === true) {\n            const saveFeature = client.getFeature(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.method);\n            disposables.push(saveFeature.onNotificationSent((event) => {\n                const textDocument = event.original;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onSave)) && this.diagnosticRequestor.knows(PullState.document, textDocument)) {\n                    this.diagnosticRequestor.pull(event.original, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        // When the document closes clear things up\n        const closeFeature = client.getFeature(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.method);\n        disposables.push(closeFeature.onNotificationSent((event) => {\n            const textDocument = event.original;\n            this.diagnosticRequestor.cleanupPull(textDocument);\n            this.backgroundScheduler.remove(textDocument);\n        }));\n        // We received a did change from the server.\n        this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(() => {\n            for (const textDocument of vscode_1.workspace.textDocuments) {\n                if (matches(textDocument)) {\n                    this.diagnosticRequestor.pull(textDocument);\n                }\n            }\n        });\n        // da348dc5-c30a-4515-9d98-31ff3be38d14 is the test UUID to test the middle ware. So don't auto trigger pulls.\n        if (options.workspaceDiagnostics === true && options.identifier !== 'da348dc5-c30a-4515-9d98-31ff3be38d14') {\n            this.diagnosticRequestor.pullWorkspace();\n        }\n        this.disposable = vscode_1.Disposable.from(...disposables, this.backgroundScheduler, this.diagnosticRequestor);\n    }\n    get onDidChangeDiagnosticsEmitter() {\n        return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter;\n    }\n    get diagnostics() {\n        return this.diagnosticRequestor.provider;\n    }\n}\nclass DiagnosticFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'diagnostic');\n        capability.dynamicRegistration = true;\n        // We first need to decide how a UI will look with related documents.\n        // An easy implementation would be to only show related diagnostics for\n        // the active editor.\n        capability.relatedDocumentSupport = false;\n        ensure(ensure(capabilities, 'workspace'), 'diagnostics').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeDiagnosticsEmitter.fire();\n            }\n        });\n        let [id, options] = this.getRegistration(documentSelector, capabilities.diagnosticProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    dispose() {\n        if (this.tabs !== undefined) {\n            this.tabs.dispose();\n            this.tabs = undefined;\n        }\n        super.dispose();\n    }\n    registerLanguageProvider(options) {\n        if (this.tabs === undefined) {\n            this.tabs = new Tabs();\n        }\n        const provider = new DiagnosticFeatureProviderImpl(this._client, this.tabs, options);\n        return [provider.disposable, provider];\n    }\n}\nexports.DiagnosticFeature = DiagnosticFeature;\n//# sourceMappingURL=diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentHighlightFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentHighlightFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentHighlights: (document, position, token) => {\n                const client = this._client;\n                const _provideDocumentHighlights = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentHighlights(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentHighlights\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\n                    : _provideDocumentHighlights(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentHighlightFeature = DocumentHighlightFeature;\n//# sourceMappingURL=documentHighlight.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentLinkFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentLinkFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const documentLinkCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentLink');\n        documentLinkCapabilities.dynamicRegistration = true;\n        documentLinkCapabilities.tooltipSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentLinks: (document, token) => {\n                const client = this._client;\n                const provideDocumentLinks = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentLinks(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentLinks\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\n                    : provideDocumentLinks(document, token);\n            },\n            resolveDocumentLink: options.resolveProvider\n                ? (link, token) => {\n                    const client = this._client;\n                    let resolveDocumentLink = (link, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return link;\n                            }\n                            return client.protocol2CodeConverter.asDocumentLink(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, token, error, link);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveDocumentLink\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\n                        : resolveDocumentLink(link, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentLinkFeature = DocumentLinkFeature;\n//# sourceMappingURL=documentLink.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentSymbolFeature = exports.SupportedSymbolTags = exports.SupportedSymbolKinds = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nexports.SupportedSymbolKinds = [\n    vscode_languageserver_protocol_1.SymbolKind.File,\n    vscode_languageserver_protocol_1.SymbolKind.Module,\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\n    vscode_languageserver_protocol_1.SymbolKind.Package,\n    vscode_languageserver_protocol_1.SymbolKind.Class,\n    vscode_languageserver_protocol_1.SymbolKind.Method,\n    vscode_languageserver_protocol_1.SymbolKind.Property,\n    vscode_languageserver_protocol_1.SymbolKind.Field,\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\n    vscode_languageserver_protocol_1.SymbolKind.Function,\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\n    vscode_languageserver_protocol_1.SymbolKind.String,\n    vscode_languageserver_protocol_1.SymbolKind.Number,\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\n    vscode_languageserver_protocol_1.SymbolKind.Array,\n    vscode_languageserver_protocol_1.SymbolKind.Object,\n    vscode_languageserver_protocol_1.SymbolKind.Key,\n    vscode_languageserver_protocol_1.SymbolKind.Null,\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\n    vscode_languageserver_protocol_1.SymbolKind.Event,\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\n];\nexports.SupportedSymbolTags = [\n    vscode_languageserver_protocol_1.SymbolTag.Deprecated\n];\nclass DocumentSymbolFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentSymbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: exports.SupportedSymbolKinds\n        };\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\n        symbolCapabilities.tagSupport = {\n            valueSet: exports.SupportedSymbolTags\n        };\n        symbolCapabilities.labelSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentSymbols: (document, token) => {\n                const client = this._client;\n                const _provideDocumentSymbols = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then(async (data) => {\n                        if (token.isCancellationRequested || data === undefined || data === null) {\n                            return null;\n                        }\n                        if (data.length === 0) {\n                            return [];\n                        }\n                        else {\n                            const first = data[0];\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(first)) {\n                                return await client.protocol2CodeConverter.asDocumentSymbols(data, token);\n                            }\n                            else {\n                                return await client.protocol2CodeConverter.asSymbolInformations(data, token);\n                            }\n                        }\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentSymbols\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\n                    : _provideDocumentSymbols(document, token);\n            }\n        };\n        const metaData = options.label !== undefined ? { label: options.label } : undefined;\n        return [vscode_1.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, metaData), provider];\n    }\n}\nexports.DocumentSymbolFeature = DocumentSymbolFeature;\n//# sourceMappingURL=documentSymbol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExecuteCommandFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass ExecuteCommandFeature {\n    constructor(client) {\n        this._client = client;\n        this._commands = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._commands.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\n    }\n    initialize(capabilities) {\n        if (!capabilities.executeCommandProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\n        });\n    }\n    register(data) {\n        const client = this._client;\n        const middleware = client.middleware;\n        const executeCommand = (command, args) => {\n            let params = {\n                command,\n                arguments: args\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, undefined, error, undefined);\n            });\n        };\n        if (data.registerOptions.commands) {\n            const disposables = [];\n            for (const command of data.registerOptions.commands) {\n                disposables.push(vscode_1.commands.registerCommand(command, (...args) => {\n                    return middleware.executeCommand\n                        ? middleware.executeCommand(command, args, executeCommand)\n                        : executeCommand(command, args);\n                }));\n            }\n            this._commands.set(data.id, disposables);\n        }\n    }\n    unregister(id) {\n        let disposables = this._commands.get(id);\n        if (disposables) {\n            disposables.forEach(disposable => disposable.dispose());\n        }\n    }\n    dispose() {\n        this._commands.forEach((value) => {\n            value.forEach(disposable => disposable.dispose());\n        });\n        this._commands.clear();\n    }\n}\nexports.ExecuteCommandFeature = ExecuteCommandFeature;\n//# sourceMappingURL=executeCommand.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFeature = exports.TextDocumentLanguageFeature = exports.TextDocumentEventFeature = exports.DynamicDocumentFeature = exports.DynamicFeature = exports.StaticFeature = exports.ensure = exports.LSPCancellationError = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nclass LSPCancellationError extends vscode_1.CancellationError {\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n}\nexports.LSPCancellationError = LSPCancellationError;\nfunction ensure(target, key) {\n    if (target[key] === undefined) {\n        target[key] = {};\n    }\n    return target[key];\n}\nexports.ensure = ensure;\nvar StaticFeature;\n(function (StaticFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.dispose) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams));\n    }\n    StaticFeature.is = is;\n})(StaticFeature = exports.StaticFeature || (exports.StaticFeature = {}));\nvar DynamicFeature;\n(function (DynamicFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.dispose) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams)) && Is.func(candidate.register) &&\n            Is.func(candidate.unregister) && candidate.registrationType !== undefined;\n    }\n    DynamicFeature.is = is;\n})(DynamicFeature = exports.DynamicFeature || (exports.DynamicFeature = {}));\n/**\n * An abstract dynamic feature implementation that operates on documents (e.g. text\n * documents or notebooks).\n */\nclass DynamicDocumentFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    /**\n     * Returns the state the feature is in.\n     */\n    getState() {\n        const selectors = this.getDocumentSelectors();\n        let count = 0;\n        for (const selector of selectors) {\n            count++;\n            for (const document of vscode_1.workspace.textDocuments) {\n                if (vscode_1.languages.match(selector, document) > 0) {\n                    return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n                }\n            }\n        }\n        const registrations = count > 0;\n        return { kind: 'document', id: this.registrationType.method, registrations, matches: false };\n    }\n}\nexports.DynamicDocumentFeature = DynamicDocumentFeature;\n/**\n * An abstract base class to implement features that react to events\n * emitted from text documents.\n */\nclass TextDocumentEventFeature extends DynamicDocumentFeature {\n    constructor(client, event, type, middleware, createParams, textDocument, selectorFilter) {\n        super(client);\n        this._event = event;\n        this._type = type;\n        this._middleware = middleware;\n        this._createParams = createParams;\n        this._textDocument = textDocument;\n        this._selectorFilter = selectorFilter;\n        this._selectors = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n    }\n    static textDocumentFilter(selectors, textDocument) {\n        for (const selector of selectors) {\n            if (vscode_1.languages.match(selector, textDocument) > 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getStateInfo() {\n        return [this._selectors.values(), false];\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = this._event((data) => {\n                this.callback(data).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed.`, error);\n                });\n            });\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    async callback(data) {\n        const doSend = async (data) => {\n            const params = this._createParams(data);\n            await this._client.sendNotification(this._type, params).catch();\n            this.notificationSent(data, this._type, params);\n        };\n        if (this.matches(data)) {\n            const middleware = this._middleware();\n            return middleware ? middleware(data, (data) => doSend(data)) : doSend(data);\n        }\n    }\n    matches(data) {\n        if (this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(data))) {\n            return false;\n        }\n        return !this._selectorFilter || this._selectorFilter(this._selectors.values(), data);\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    notificationSent(data, type, params) {\n        this._onNotificationSent.fire({ original: data, type, params });\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        this._onNotificationSent.dispose();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getProvider(document) {\n        for (const selector of this._selectors.values()) {\n            if (vscode_1.languages.match(selector, document) > 0) {\n                return {\n                    send: (data) => {\n                        return this.callback(data);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nexports.TextDocumentEventFeature = TextDocumentEventFeature;\n/**\n * A abstract feature implementation that registers language providers\n * for text documents using a given document selector.\n */\nclass TextDocumentLanguageFeature extends DynamicDocumentFeature {\n    constructor(client, registrationType) {\n        super(client);\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    *getDocumentSelectors() {\n        for (const registration of this._registrations.values()) {\n            const selector = registration.data.registerOptions.documentSelector;\n            if (selector === null) {\n                continue;\n            }\n            yield this._client.protocol2CodeConverter.asDocumentSelector(selector);\n        }\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let registration = this.registerLanguageProvider(data.registerOptions, data.id);\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((value) => {\n            value.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getRegistration(documentSelector, capability) {\n        if (!capability) {\n            return [undefined, undefined];\n        }\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\n            const selector = capability.documentSelector || documentSelector;\n            if (selector) {\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\n            }\n        }\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\n            if (!documentSelector) {\n                return [undefined, undefined];\n            }\n            let options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n            return [UUID.generateUuid(), options];\n        }\n        return [undefined, undefined];\n    }\n    getRegistrationOptions(documentSelector, capability) {\n        if (!documentSelector || !capability) {\n            return undefined;\n        }\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n    }\n    getProvider(textDocument) {\n        for (const registration of this._registrations.values()) {\n            let selector = registration.data.registerOptions.documentSelector;\n            if (selector !== null && vscode_1.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(selector), textDocument) > 0) {\n                return registration.provider;\n            }\n        }\n        return undefined;\n    }\n    getAllProviders() {\n        const result = [];\n        for (const item of this._registrations.values()) {\n            result.push(item.provider);\n        }\n        return result;\n    }\n}\nexports.TextDocumentLanguageFeature = TextDocumentLanguageFeature;\nclass WorkspaceFeature {\n    constructor(client, registrationType) {\n        this._client = client;\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    getState() {\n        const registrations = this._registrations.size > 0;\n        return { kind: 'workspace', id: this._registrationType.method, registrations };\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        const registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((registration) => {\n            registration.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getProviders() {\n        const result = [];\n        for (const registration of this._registrations.values()) {\n            result.push(registration.provider);\n        }\n        return result;\n    }\n}\nexports.WorkspaceFeature = WorkspaceFeature;\n//# sourceMappingURL=features.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesFeature = exports.WillRenameFilesFeature = exports.WillCreateFilesFeature = exports.DidDeleteFilesFeature = exports.DidRenameFilesFeature = exports.DidCreateFilesFeature = void 0;\nconst code = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nfunction access(target, key) {\n    return target[key];\n}\nfunction assign(target, key, value) {\n    target[key] = value;\n}\nclass FileOperationFeature {\n    constructor(client, event, registrationType, clientCapability, serverCapability) {\n        this._client = client;\n        this._event = event;\n        this._registrationType = registrationType;\n        this._clientCapability = clientCapability;\n        this._serverCapability = serverCapability;\n        this._filters = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this._registrationType.method, registrations: this._filters.size > 0 };\n    }\n    filterSize() {\n        return this._filters.size;\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    fillClientCapabilities(capabilities) {\n        const value = ensure(ensure(capabilities, 'workspace'), 'fileOperations');\n        // this happens n times but it is the same value so we tolerate this.\n        assign(value, 'dynamicRegistration', true);\n        assign(value, this._clientCapability, true);\n    }\n    initialize(capabilities) {\n        const options = capabilities.workspace?.fileOperations;\n        const capability = options !== undefined ? access(options, this._serverCapability) : undefined;\n        if (capability?.filters !== undefined) {\n            try {\n                this.register({\n                    id: UUID.generateUuid(),\n                    registerOptions: { filters: capability.filters }\n                });\n            }\n            catch (e) {\n                this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`);\n            }\n        }\n    }\n    register(data) {\n        if (!this._listener) {\n            this._listener = this._event(this.send, this);\n        }\n        const minimatchFilter = data.registerOptions.filters.map((filter) => {\n            const matcher = new minimatch.Minimatch(filter.pattern.glob, FileOperationFeature.asMinimatchOptions(filter.pattern.options));\n            if (!matcher.makeRe()) {\n                throw new Error(`Invalid pattern ${filter.pattern.glob}!`);\n            }\n            return { scheme: filter.scheme, matcher, kind: filter.pattern.matches };\n        });\n        this._filters.set(data.id, minimatchFilter);\n    }\n    unregister(id) {\n        this._filters.delete(id);\n        if (this._filters.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._filters.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getFileType(uri) {\n        return FileOperationFeature.getFileType(uri);\n    }\n    async filter(event, prop) {\n        // (Asynchronously) map each file onto a boolean of whether it matches\n        // any of the globs.\n        const fileMatches = await Promise.all(event.files.map(async (item) => {\n            const uri = prop(item);\n            // Use fsPath to make this consistent with file system watchers but help\n            // minimatch to use '/' instead of `\\\\` if present.\n            const path = uri.fsPath.replace(/\\\\/g, '/');\n            for (const filters of this._filters.values()) {\n                for (const filter of filters) {\n                    if (filter.scheme !== undefined && filter.scheme !== uri.scheme) {\n                        continue;\n                    }\n                    if (filter.matcher.match(path)) {\n                        // The pattern matches. If kind is undefined then everything is ok\n                        if (filter.kind === undefined) {\n                            return true;\n                        }\n                        const fileType = await this.getFileType(uri);\n                        // If we can't determine the file type than we treat it as a match.\n                        // Dropping it would be another alternative.\n                        if (fileType === undefined) {\n                            this._client.error(`Failed to determine file type for ${uri.toString()}.`);\n                            return true;\n                        }\n                        if ((fileType === code.FileType.File && filter.kind === proto.FileOperationPatternKind.file) || (fileType === code.FileType.Directory && filter.kind === proto.FileOperationPatternKind.folder)) {\n                            return true;\n                        }\n                    }\n                    else if (filter.kind === proto.FileOperationPatternKind.folder) {\n                        const fileType = await FileOperationFeature.getFileType(uri);\n                        if (fileType === code.FileType.Directory && filter.matcher.match(`${path}/`)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }));\n        // Filter the files to those that matched.\n        const files = event.files.filter((_, index) => fileMatches[index]);\n        return { ...event, files };\n    }\n    static async getFileType(uri) {\n        try {\n            return (await code.workspace.fs.stat(uri)).type;\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n    static asMinimatchOptions(options) {\n        if (options === undefined) {\n            return undefined;\n        }\n        if (options.ignoreCase === true) {\n            return { nocase: true };\n        }\n        return undefined;\n    }\n}\nclass NotificationFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, notificationType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, notificationType, clientCapability, serverCapability);\n        this._notificationType = notificationType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = async (event) => {\n                return this._client.sendNotification(this._notificationType, this._createParams(event));\n            };\n            return this.doSend(filteredEvent, next);\n        }\n    }\n}\nclass CachingNotificationFileOperationFeature extends NotificationFileOperationFeature {\n    constructor() {\n        super(...arguments);\n        this._fsPathFileTypes = new Map();\n    }\n    async getFileType(uri) {\n        const fsPath = uri.fsPath;\n        if (this._fsPathFileTypes.has(fsPath)) {\n            return this._fsPathFileTypes.get(fsPath);\n        }\n        const type = await FileOperationFeature.getFileType(uri);\n        if (type) {\n            this._fsPathFileTypes.set(fsPath, type);\n        }\n        return type;\n    }\n    async cacheFileTypes(event, prop) {\n        // Calling filter will force the matching logic to run. For any item\n        // that requires a getFileType lookup, the overriden getFileType will\n        // be called that will cache the result so that when onDidRename fires,\n        // it can still be checked even though the item no longer exists on disk\n        // in its original location.\n        await this.filter(event, prop);\n    }\n    clearFileTypeCache() {\n        this._fsPathFileTypes.clear();\n    }\n    unregister(id) {\n        super.unregister(id);\n        if (this.filterSize() === 0 && this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n    dispose() {\n        super.dispose();\n        if (this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n}\nclass DidCreateFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidCreateFiles, proto.DidCreateFilesNotification.type, 'didCreate', 'didCreate', (i) => i, client.code2ProtocolConverter.asDidCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didCreateFiles\n            ? middleware.didCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidCreateFilesFeature = DidCreateFilesFeature;\nclass DidRenameFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidRenameFiles, proto.DidRenameFilesNotification.type, 'didRename', 'didRename', (i) => i.oldUri, client.code2ProtocolConverter.asDidRenameFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillRenameFiles(this.willRename, this);\n        }\n        super.register(data);\n    }\n    willRename(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i.oldUri));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didRenameFiles\n            ? middleware.didRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidRenameFilesFeature = DidRenameFilesFeature;\nclass DidDeleteFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidDeleteFiles, proto.DidDeleteFilesNotification.type, 'didDelete', 'didDelete', (i) => i, client.code2ProtocolConverter.asDidDeleteFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillDeleteFiles(this.willDelete, this);\n        }\n        super.register(data);\n    }\n    willDelete(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didDeleteFiles\n            ? middleware.didDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidDeleteFilesFeature = DidDeleteFilesFeature;\nclass RequestFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, requestType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, requestType, clientCapability, serverCapability);\n        this._requestType = requestType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        const waitUntil = this.waitUntil(originalEvent);\n        originalEvent.waitUntil(waitUntil);\n    }\n    async waitUntil(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = (event) => {\n                return this._client.sendRequest(this._requestType, this._createParams(event), event.token)\n                    .then(this._client.protocol2CodeConverter.asWorkspaceEdit);\n            };\n            return this.doSend(filteredEvent, next);\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass WillCreateFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillCreateFiles, proto.WillCreateFilesRequest.type, 'willCreate', 'willCreate', (i) => i, client.code2ProtocolConverter.asWillCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willCreateFiles\n            ? middleware.willCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillCreateFilesFeature = WillCreateFilesFeature;\nclass WillRenameFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillRenameFiles, proto.WillRenameFilesRequest.type, 'willRename', 'willRename', (i) => i.oldUri, client.code2ProtocolConverter.asWillRenameFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willRenameFiles\n            ? middleware.willRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillRenameFilesFeature = WillRenameFilesFeature;\nclass WillDeleteFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillDeleteFiles, proto.WillDeleteFilesRequest.type, 'willDelete', 'willDelete', (i) => i, client.code2ProtocolConverter.asWillDeleteFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willDeleteFiles\n            ? middleware.willDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillDeleteFilesFeature = WillDeleteFilesFeature;\n//# sourceMappingURL=fileOperations.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystemWatcherFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FileSystemWatcherFeature {\n    constructor(client, notifyFileEvent) {\n        this._client = client;\n        this._notifyFileEvent = notifyFileEvent;\n        this._watchers = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._watchers.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').relativePatternSupport = true;\n    }\n    initialize(_capabilities, _documentSelector) {\n    }\n    register(data) {\n        if (!Array.isArray(data.registerOptions.watchers)) {\n            return;\n        }\n        const disposables = [];\n        for (const watcher of data.registerOptions.watchers) {\n            const globPattern = this._client.protocol2CodeConverter.asGlobPattern(watcher.globPattern);\n            if (globPattern === undefined) {\n                continue;\n            }\n            let watchCreate = true, watchChange = true, watchDelete = true;\n            if (watcher.kind !== undefined && watcher.kind !== null) {\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\n            }\n            const fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(globPattern, !watchCreate, !watchChange, !watchDelete);\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, disposables);\n            disposables.push(fileSystemWatcher);\n        }\n        this._watchers.set(data.id, disposables);\n    }\n    registerRaw(id, fileSystemWatchers) {\n        let disposables = [];\n        for (let fileSystemWatcher of fileSystemWatchers) {\n            this.hookListeners(fileSystemWatcher, true, true, true, disposables);\n        }\n        this._watchers.set(id, disposables);\n    }\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\n        if (watchCreate) {\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\n            }), null, listeners);\n        }\n        if (watchChange) {\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\n            }), null, listeners);\n        }\n        if (watchDelete) {\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\n            }), null, listeners);\n        }\n    }\n    unregister(id) {\n        let disposables = this._watchers.get(id);\n        if (disposables) {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        }\n    }\n    dispose() {\n        this._watchers.forEach((disposables) => {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        });\n        this._watchers.clear();\n    }\n}\nexports.FileSystemWatcherFeature = FileSystemWatcherFeature;\n//# sourceMappingURL=fileSystemWatcher.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FoldingRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'foldingRange');\n        capability.dynamicRegistration = true;\n        capability.rangeLimit = 5000;\n        capability.lineFoldingOnly = true;\n        capability.foldingRangeKind = { valueSet: [vscode_languageserver_protocol_1.FoldingRangeKind.Comment, vscode_languageserver_protocol_1.FoldingRangeKind.Imports, vscode_languageserver_protocol_1.FoldingRangeKind.Region] };\n        capability.foldingRange = { collapsedText: false };\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideFoldingRanges: (document, context, token) => {\n                const client = this._client;\n                const provideFoldingRanges = (document, _, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asFoldingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideFoldingRanges\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\n                    : provideFoldingRanges(document, context, token);\n            }\n        };\n        return [vscode_1.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.FoldingRangeFeature = FoldingRangeFeature;\n//# sourceMappingURL=foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentOnTypeFormattingFeature = exports.DocumentRangeFormattingFeature = exports.DocumentFormattingFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nvar FileFormattingOptions;\n(function (FileFormattingOptions) {\n    function fromConfiguration(document) {\n        const filesConfig = vscode_1.workspace.getConfiguration('files', document);\n        return {\n            trimTrailingWhitespace: filesConfig.get('trimTrailingWhitespace'),\n            trimFinalNewlines: filesConfig.get('trimFinalNewlines'),\n            insertFinalNewline: filesConfig.get('insertFinalNewline'),\n        };\n    }\n    FileFormattingOptions.fromConfiguration = fromConfiguration;\n})(FileFormattingOptions || (FileFormattingOptions = {}));\nclass DocumentFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'formatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentFormattingEdits: (document, options, token) => {\n                const client = this._client;\n                const provideDocumentFormattingEdits = (document, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentFormattingEdits\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\n                    : provideDocumentFormattingEdits(document, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentFormattingFeature = DocumentFormattingFeature;\nclass DocumentRangeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\n                const client = this._client;\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentRangeFormattingEdits\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentRangeFormattingFeature = DocumentRangeFormattingFeature;\nclass DocumentOnTypeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\n                const client = this._client;\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        ch: ch,\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideOnTypeFormattingEdits\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\n            }\n        };\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\n    }\n}\nexports.DocumentOnTypeFormattingFeature = DocumentOnTypeFormattingFeature;\n//# sourceMappingURL=formatting.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HoverFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass HoverFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const hoverCapability = ((0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'hover'));\n        hoverCapability.dynamicRegistration = true;\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideHover: (document, position, token) => {\n                const client = this._client;\n                const provideHover = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asHover(result);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideHover\n                    ? middleware.provideHover(document, position, token, provideHover)\n                    : provideHover(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.HoverFeature = HoverFeature;\n//# sourceMappingURL=hover.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ImplementationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let implementationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'implementation');\n        implementationSupport.dynamicRegistration = true;\n        implementationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideImplementation: (document, position, token) => {\n                const client = this._client;\n                const provideImplementation = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideImplementation\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\n                    : provideImplementation(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ImplementationFeature = ImplementationFeature;\n//# sourceMappingURL=implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintsFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlayHintsFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlayHintRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const inlayHint = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlayHint');\n        inlayHint.dynamicRegistration = true;\n        inlayHint.resolveSupport = {\n            properties: ['tooltip', 'textEdits', 'label.tooltip', 'label.location', 'label.command']\n        };\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlayHint').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlayHints.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlayHintProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlayHints: eventEmitter.event,\n            provideInlayHints: (document, viewPort, token) => {\n                const client = this._client;\n                const provideInlayHints = async (document, viewPort, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort)\n                    };\n                    try {\n                        const values = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, requestParams, token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlayHints(values, token);\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlayHints\n                    ? middleware.provideInlayHints(document, viewPort, token, provideInlayHints)\n                    : provideInlayHints(document, viewPort, token);\n            }\n        };\n        provider.resolveInlayHint = options.resolveProvider === true\n            ? (hint, token) => {\n                const client = this._client;\n                const resolveInlayHint = async (item, token) => {\n                    try {\n                        const value = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, client.code2ProtocolConverter.asInlayHint(item), token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        const result = client.protocol2CodeConverter.asInlayHint(value, token);\n                        return token.isCancellationRequested ? null : result;\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.resolveInlayHint\n                    ? middleware.resolveInlayHint(hint, token, resolveInlayHint)\n                    : resolveInlayHint(hint, token);\n            }\n            : undefined;\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlayHints: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlayHintsFeature = InlayHintsFeature;\n//# sourceMappingURL=inlayHint.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlineValueFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlineValueRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlineValue').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlineValue').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlineValues.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlineValueProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlineValues: eventEmitter.event,\n            provideInlineValues: (document, viewPort, context, token) => {\n                const client = this._client;\n                const provideInlineValues = (document, viewPort, context, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort),\n                        context: client.code2ProtocolConverter.asInlineValueContext(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, requestParams, token).then((values) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlineValues(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlineValues\n                    ? middleware.provideInlineValues(document, viewPort, context, token, provideInlineValues)\n                    : provideInlineValues(document, viewPort, context, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlineValues: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlineValueFeature = InlineValueFeature;\n//# sourceMappingURL=inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingFeature = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass LinkedEditingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, proto.LinkedEditingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const linkedEditingSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'linkedEditingRange');\n        linkedEditingSupport.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.linkedEditingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideLinkedEditingRanges: (document, position, token) => {\n                const client = this._client;\n                const provideLinkedEditing = (document, position, token) => {\n                    return client.sendRequest(proto.LinkedEditingRangeRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asLinkedEditingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(proto.LinkedEditingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideLinkedEditingRange\n                    ? middleware.provideLinkedEditingRange(document, position, token, provideLinkedEditing)\n                    : provideLinkedEditing(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return code.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.LinkedEditingFeature = LinkedEditingFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocumentSyncFeature = void 0;\nconst vscode = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar Converter;\n(function (Converter) {\n    let c2p;\n    (function (c2p) {\n        function asVersionedNotebookDocumentIdentifier(notebookDocument, base) {\n            return {\n                version: notebookDocument.version,\n                uri: base.asUri(notebookDocument.uri)\n            };\n        }\n        c2p.asVersionedNotebookDocumentIdentifier = asVersionedNotebookDocumentIdentifier;\n        function asNotebookDocument(notebookDocument, cells, base) {\n            const result = proto.NotebookDocument.create(base.asUri(notebookDocument.uri), notebookDocument.notebookType, notebookDocument.version, asNotebookCells(cells, base));\n            if (Object.keys(notebookDocument.metadata).length > 0) {\n                result.metadata = asMetadata(notebookDocument.metadata);\n            }\n            return result;\n        }\n        c2p.asNotebookDocument = asNotebookDocument;\n        function asNotebookCells(cells, base) {\n            return cells.map(cell => asNotebookCell(cell, base));\n        }\n        c2p.asNotebookCells = asNotebookCells;\n        function asMetadata(metadata) {\n            const seen = new Set();\n            return deepCopy(seen, metadata);\n        }\n        c2p.asMetadata = asMetadata;\n        function asNotebookCell(cell, base) {\n            const result = proto.NotebookCell.create(asNotebookCellKind(cell.kind), base.asUri(cell.document.uri));\n            if (Object.keys(cell.metadata).length > 0) {\n                result.metadata = asMetadata(cell.metadata);\n            }\n            if (cell.executionSummary !== undefined && (Is.number(cell.executionSummary.executionOrder) && Is.boolean(cell.executionSummary.success))) {\n                result.executionSummary = {\n                    executionOrder: cell.executionSummary.executionOrder,\n                    success: cell.executionSummary.success\n                };\n            }\n            return result;\n        }\n        c2p.asNotebookCell = asNotebookCell;\n        function asNotebookCellKind(kind) {\n            switch (kind) {\n                case vscode.NotebookCellKind.Markup:\n                    return proto.NotebookCellKind.Markup;\n                case vscode.NotebookCellKind.Code:\n                    return proto.NotebookCellKind.Code;\n            }\n        }\n        function deepCopy(seen, value) {\n            if (seen.has(value)) {\n                throw new Error(`Can't deep copy cyclic structures.`);\n            }\n            if (Array.isArray(value)) {\n                const result = [];\n                for (const elem of value) {\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result.push(deepCopy(seen, elem));\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result.push(elem);\n                    }\n                }\n                return result;\n            }\n            else {\n                const props = Object.keys(value);\n                const result = Object.create(null);\n                for (const prop of props) {\n                    const elem = value[prop];\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result[prop] = deepCopy(seen, elem);\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result[prop] = elem;\n                    }\n                }\n                return result;\n            }\n        }\n        function asTextContentChange(event, base) {\n            const params = base.asChangeTextDocumentParams(event);\n            return { document: params.textDocument, changes: params.contentChanges };\n        }\n        c2p.asTextContentChange = asTextContentChange;\n        function asNotebookDocumentChangeEvent(event, base) {\n            const result = Object.create(null);\n            if (event.metadata) {\n                result.metadata = Converter.c2p.asMetadata(event.metadata);\n            }\n            if (event.cells !== undefined) {\n                const cells = Object.create(null);\n                const changedCells = event.cells;\n                if (changedCells.structure) {\n                    cells.structure = {\n                        array: {\n                            start: changedCells.structure.array.start,\n                            deleteCount: changedCells.structure.array.deleteCount,\n                            cells: changedCells.structure.array.cells !== undefined ? changedCells.structure.array.cells.map(cell => Converter.c2p.asNotebookCell(cell, base)) : undefined\n                        },\n                        didOpen: changedCells.structure.didOpen !== undefined\n                            ? changedCells.structure.didOpen.map(cell => base.asOpenTextDocumentParams(cell.document).textDocument)\n                            : undefined,\n                        didClose: changedCells.structure.didClose !== undefined\n                            ? changedCells.structure.didClose.map(cell => base.asCloseTextDocumentParams(cell.document).textDocument)\n                            : undefined\n                    };\n                }\n                if (changedCells.data !== undefined) {\n                    cells.data = changedCells.data.map(cell => Converter.c2p.asNotebookCell(cell, base));\n                }\n                if (changedCells.textContent !== undefined) {\n                    cells.textContent = changedCells.textContent.map(event => Converter.c2p.asTextContentChange(event, base));\n                }\n                if (Object.keys(cells).length > 0) {\n                    result.cells = cells;\n                }\n            }\n            return result;\n        }\n        c2p.asNotebookDocumentChangeEvent = asNotebookDocumentChangeEvent;\n    })(c2p = Converter.c2p || (Converter.c2p = {}));\n})(Converter || (Converter = {}));\nvar $NotebookCell;\n(function ($NotebookCell) {\n    function computeDiff(originalCells, modifiedCells, compareMetadata) {\n        const originalLength = originalCells.length;\n        const modifiedLength = modifiedCells.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && equals(originalCells[startIndex], modifiedCells[startIndex], compareMetadata)) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= 0 && modifiedEndIndex >= 0 && equals(originalCells[originalEndIndex], modifiedCells[modifiedEndIndex], compareMetadata)) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            const deleteCount = (originalEndIndex + 1) - startIndex;\n            const newCells = startIndex === modifiedEndIndex + 1 ? undefined : modifiedCells.slice(startIndex, modifiedEndIndex + 1);\n            return newCells !== undefined ? { start: startIndex, deleteCount, cells: newCells } : { start: startIndex, deleteCount };\n        }\n        else if (startIndex < modifiedLength) {\n            return { start: startIndex, deleteCount: 0, cells: modifiedCells.slice(startIndex) };\n        }\n        else if (startIndex < originalLength) {\n            return { start: startIndex, deleteCount: originalLength - startIndex };\n        }\n        else {\n            // The two arrays are the same.\n            return undefined;\n        }\n    }\n    $NotebookCell.computeDiff = computeDiff;\n    /**\n     * We only sync kind, document, execution and metadata to the server. So we only need to compare those.\n     */\n    function equals(one, other, compareMetaData = true) {\n        if (one.kind !== other.kind || one.document.uri.toString() !== other.document.uri.toString() || one.document.languageId !== other.document.languageId ||\n            !equalsExecution(one.executionSummary, other.executionSummary)) {\n            return false;\n        }\n        return !compareMetaData || (compareMetaData && equalsMetadata(one.metadata, other.metadata));\n    }\n    function equalsExecution(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success && equalsTiming(one.timing, other.timing);\n    }\n    function equalsTiming(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.startTime === other.startTime && one.endTime === other.endTime;\n    }\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (isObjectLiteral(one) && isObjectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    function isObjectLiteral(value) {\n        return value !== null && typeof value === 'object';\n    }\n    $NotebookCell.isObjectLiteral = isObjectLiteral;\n})($NotebookCell || ($NotebookCell = {}));\nvar $NotebookDocumentFilter;\n(function ($NotebookDocumentFilter) {\n    function matchNotebook(filter, notebookDocument) {\n        if (typeof filter === 'string') {\n            return filter === '*' || notebookDocument.notebookType === filter;\n        }\n        if (filter.notebookType !== undefined && filter.notebookType !== '*' && notebookDocument.notebookType !== filter.notebookType) {\n            return false;\n        }\n        const uri = notebookDocument.uri;\n        if (filter.scheme !== undefined && filter.scheme !== '*' && uri.scheme !== filter.scheme) {\n            return false;\n        }\n        if (filter.pattern !== undefined) {\n            const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n            if (!matcher.makeRe()) {\n                return false;\n            }\n            if (!matcher.match(uri.fsPath)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    $NotebookDocumentFilter.matchNotebook = matchNotebook;\n})($NotebookDocumentFilter || ($NotebookDocumentFilter = {}));\nvar $NotebookDocumentSyncOptions;\n(function ($NotebookDocumentSyncOptions) {\n    function asDocumentSelector(options) {\n        const selector = options.notebookSelector;\n        const result = [];\n        for (const element of selector) {\n            const notebookType = (typeof element.notebook === 'string' ? element.notebook : element.notebook?.notebookType) ?? '*';\n            const scheme = (typeof element.notebook === 'string') ? undefined : element.notebook?.scheme;\n            const pattern = (typeof element.notebook === 'string') ? undefined : element.notebook?.pattern;\n            if (element.cells !== undefined) {\n                for (const cell of element.cells) {\n                    result.push(asDocumentFilter(notebookType, scheme, pattern, cell.language));\n                }\n            }\n            else {\n                result.push(asDocumentFilter(notebookType, scheme, pattern, undefined));\n            }\n        }\n        return result;\n    }\n    $NotebookDocumentSyncOptions.asDocumentSelector = asDocumentSelector;\n    function asDocumentFilter(notebookType, scheme, pattern, language) {\n        return scheme === undefined && pattern === undefined\n            ? { notebook: notebookType, language }\n            : { notebook: { notebookType, scheme, pattern }, language };\n    }\n})($NotebookDocumentSyncOptions || ($NotebookDocumentSyncOptions = {}));\nvar SyncInfo;\n(function (SyncInfo) {\n    function create(cells) {\n        return {\n            cells,\n            uris: new Set(cells.map(cell => cell.document.uri.toString()))\n        };\n    }\n    SyncInfo.create = create;\n})(SyncInfo || (SyncInfo = {}));\nclass NotebookDocumentSyncFeatureProvider {\n    constructor(client, options) {\n        this.client = client;\n        this.options = options;\n        this.notebookSyncInfo = new Map();\n        this.notebookDidOpen = new Set();\n        this.disposables = [];\n        this.selector = client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n        // open\n        vscode.workspace.onDidOpenNotebookDocument((notebookDocument) => {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }, undefined, this.disposables);\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }\n        // Notebook document changed.\n        vscode.workspace.onDidChangeNotebookDocument(event => this.didChangeNotebookDocument(event), undefined, this.disposables);\n        //save\n        if (this.options.save === true) {\n            vscode.workspace.onDidSaveNotebookDocument(notebookDocument => this.didSave(notebookDocument), undefined, this.disposables);\n        }\n        // close\n        vscode.workspace.onDidCloseNotebookDocument((notebookDocument) => {\n            this.didClose(notebookDocument);\n            this.notebookDidOpen.delete(notebookDocument.uri.toString());\n        }, undefined, this.disposables);\n    }\n    getState() {\n        for (const notebook of vscode.workspace.notebookDocuments) {\n            const matchingCells = this.getMatchingCells(notebook);\n            if (matchingCells !== undefined) {\n                return { kind: 'document', id: '$internal', registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: '$internal', registrations: true, matches: false };\n    }\n    get mode() {\n        return 'notebook';\n    }\n    handles(textDocument) {\n        return vscode.languages.match(this.selector, textDocument) > 0;\n    }\n    didOpenNotebookCellTextDocument(notebookDocument, cell) {\n        if (vscode.languages.match(this.selector, cell.document) === 0) {\n            return;\n        }\n        if (!this.notebookDidOpen.has(notebookDocument.uri.toString())) {\n            // We have never received an open notification for the notebook document.\n            // VS Code guarantees that we first get cell document open and then\n            // notebook open. So simply wait for the notebook open.\n            return;\n        }\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        // In VS Code we receive a notebook open before a cell document open.\n        // The document and the cell is synced.\n        const cellMatches = this.cellMatches(notebookDocument, cell);\n        if (syncInfo !== undefined) {\n            const cellIsSynced = syncInfo.uris.has(cell.document.uri.toString());\n            if ((cellMatches && cellIsSynced) || (!cellMatches && !cellIsSynced)) {\n                // The cell doesn't match and was not synced or it matches and is synced.\n                // In both cases nothing to do.\n                //\n                // Note that if the language mode of a document changes we remove the\n                // cell and add it back to update the language mode on the server side.\n                return;\n            }\n            if (cellMatches) {\n                // don't use cells from above since there might be more matching cells in the notebook\n                // Since we had a matching cell above we will have matching cells now.\n                const matchingCells = this.getMatchingCells(notebookDocument);\n                if (matchingCells !== undefined) {\n                    const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                    if (event !== undefined) {\n                        this.doSendChange(event, matchingCells).catch(() => { });\n                    }\n                }\n            }\n        }\n        else {\n            // No sync info. But we have a open event for the notebook document\n            // itself. If the cell matches then we need to send an open with\n            // exactly that cell.\n            if (cellMatches) {\n                this.doSendOpen(notebookDocument, [cell]).catch(() => { });\n            }\n        }\n    }\n    didChangeNotebookCellTextDocument(notebookDocument, event) {\n        // No match with the selector\n        if (vscode.languages.match(this.selector, event.document) === 0) {\n            return;\n        }\n        this.doSendChange({\n            notebook: notebookDocument,\n            cells: { textContent: [event] }\n        }, undefined).catch(() => { });\n    }\n    didCloseNotebookCellTextDocument(notebookDocument, cell) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // The notebook document got never synced. So it doesn't matter if a cell\n            // document closes.\n            return;\n        }\n        const cellUri = cell.document.uri;\n        const index = syncInfo.cells.findIndex((item) => item.document.uri.toString() === cellUri.toString());\n        if (index === -1) {\n            // The cell never got synced or it got deleted and we now received the document\n            // close event.\n            return;\n        }\n        if (index === 0 && syncInfo.cells.length === 1) {\n            // The last cell. Close the notebook document in the server.\n            this.doSendClose(notebookDocument, syncInfo.cells).catch(() => { });\n        }\n        else {\n            const newCells = syncInfo.cells.slice();\n            const deleted = newCells.splice(index, 1);\n            this.doSendChange({\n                notebook: notebookDocument,\n                cells: {\n                    structure: {\n                        array: { start: index, deleteCount: 1 },\n                        didClose: deleted\n                    }\n                }\n            }, newCells).catch(() => { });\n        }\n    }\n    dispose() {\n        for (const disposable of this.disposables) {\n            disposable.dispose();\n        }\n    }\n    didOpen(notebookDocument, matchingCells = this.getMatchingCells(notebookDocument), syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo !== undefined) {\n            if (matchingCells !== undefined) {\n                const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                if (event !== undefined) {\n                    this.doSendChange(event, matchingCells).catch(() => { });\n                }\n            }\n            else {\n                this.doSendClose(notebookDocument, []).catch(() => { });\n            }\n        }\n        else {\n            // Check if we need to sync the notebook document.\n            if (matchingCells === undefined) {\n                return;\n            }\n            this.doSendOpen(notebookDocument, matchingCells).catch(() => { });\n        }\n    }\n    didChangeNotebookDocument(event) {\n        const notebookDocument = event.notebook;\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // We have no changes to the cells. Since the notebook wasn't synced\n            // it will not be synced now.\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            // Check if we have new matching cells.\n            const cells = this.getMatchingCells(notebookDocument);\n            // No matching cells and the notebook never synced. So still no need\n            // to sync it.\n            if (cells === undefined) {\n                return;\n            }\n            // Open the notebook document and ignore the rest of the changes\n            // this the notebooks will be synced with the correct settings.\n            this.didOpen(notebookDocument, cells, syncInfo);\n        }\n        else {\n            // The notebook is synced. First check if we have no matching\n            // cells anymore and if so close the notebook\n            const cells = this.getMatchingCells(notebookDocument);\n            if (cells === undefined) {\n                this.didClose(notebookDocument, syncInfo);\n                return;\n            }\n            const newEvent = this.asNotebookDocumentChangeEvent(event.notebook, event, syncInfo, cells);\n            if (newEvent !== undefined) {\n                this.doSendChange(newEvent, cells).catch(() => { });\n            }\n        }\n    }\n    didSave(notebookDocument) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            return;\n        }\n        this.doSendSave(notebookDocument).catch(() => { });\n    }\n    didClose(notebookDocument, syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo === undefined) {\n            return;\n        }\n        const syncedCells = notebookDocument.getCells().filter(cell => syncInfo.uris.has(cell.document.uri.toString()));\n        this.doSendClose(notebookDocument, syncedCells).catch(() => { });\n    }\n    async sendDidOpenNotebookDocument(notebookDocument) {\n        const cells = this.getMatchingCells(notebookDocument);\n        if (cells === undefined) {\n            return;\n        }\n        return this.doSendOpen(notebookDocument, cells);\n    }\n    async doSendOpen(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            const nb = Converter.c2p.asNotebookDocument(notebookDocument, cells, this.client.code2ProtocolConverter);\n            const cellDocuments = cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentItem(cell.document));\n            try {\n                await this.client.sendNotification(proto.DidOpenNotebookDocumentNotification.type, {\n                    notebookDocument: nb,\n                    cellTextDocuments: cellDocuments\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidOpenNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.set(notebookDocument.uri.toString(), SyncInfo.create(cells));\n        return middleware?.didOpen !== undefined ? middleware.didOpen(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    async sendDidChangeNotebookDocument(event) {\n        return this.doSendChange(event, undefined);\n    }\n    async doSendChange(event, cells = this.getMatchingCells(event.notebook)) {\n        const send = async (event) => {\n            try {\n                await this.client.sendNotification(proto.DidChangeNotebookDocumentNotification.type, {\n                    notebookDocument: Converter.c2p.asVersionedNotebookDocumentIdentifier(event.notebook, this.client.code2ProtocolConverter),\n                    change: Converter.c2p.asNotebookDocumentChangeEvent(event, this.client.code2ProtocolConverter)\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidChangeNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        if (event.cells?.structure !== undefined) {\n            this.notebookSyncInfo.set(event.notebook.uri.toString(), SyncInfo.create(cells ?? []));\n        }\n        return middleware?.didChange !== undefined ? middleware?.didChange(event, send) : send(event);\n    }\n    async sendDidSaveNotebookDocument(notebookDocument) {\n        return this.doSendSave(notebookDocument);\n    }\n    async doSendSave(notebookDocument) {\n        const send = async (notebookDocument) => {\n            try {\n                await this.client.sendNotification(proto.DidSaveNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) }\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidSaveNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        return middleware?.didSave !== undefined ? middleware.didSave(notebookDocument, send) : send(notebookDocument);\n    }\n    async sendDidCloseNotebookDocument(notebookDocument) {\n        return this.doSendClose(notebookDocument, this.getMatchingCells(notebookDocument) ?? []);\n    }\n    async doSendClose(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            try {\n                await this.client.sendNotification(proto.DidCloseNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) },\n                    cellTextDocuments: cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentIdentifier(cell.document))\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidCloseNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.delete(notebookDocument.uri.toString());\n        return middleware?.didClose !== undefined ? middleware.didClose(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    asNotebookDocumentChangeEvent(notebook, event, syncInfo, matchingCells) {\n        if (event !== undefined && event.notebook !== notebook) {\n            throw new Error('Notebook must be identical');\n        }\n        const result = {\n            notebook: notebook\n        };\n        if (event?.metadata !== undefined) {\n            result.metadata = Converter.c2p.asMetadata(event.metadata);\n        }\n        let matchingCellsSet;\n        if (event?.cellChanges !== undefined && event.cellChanges.length > 0) {\n            const data = [];\n            // Only consider the new matching cells.\n            matchingCellsSet = new Set(matchingCells.map(cell => cell.document.uri.toString()));\n            for (const cellChange of event.cellChanges) {\n                if (matchingCellsSet.has(cellChange.cell.document.uri.toString()) && (cellChange.executionSummary !== undefined || cellChange.metadata !== undefined)) {\n                    data.push(cellChange.cell);\n                }\n            }\n            if (data.length > 0) {\n                result.cells = result.cells ?? {};\n                result.cells.data = data;\n            }\n        }\n        if (((event?.contentChanges !== undefined && event.contentChanges.length > 0) || event === undefined) && syncInfo !== undefined && matchingCells !== undefined) {\n            // We still have matching cells. Check if the cell changes\n            // affect the notebook on the server side.\n            const oldCells = syncInfo.cells;\n            const newCells = matchingCells;\n            // meta data changes are reported using on the cell itself. So we can ignore comparing\n            // it which has a positive effect on performance.\n            const diff = $NotebookCell.computeDiff(oldCells, newCells, false);\n            let addedCells;\n            let removedCells;\n            if (diff !== undefined) {\n                addedCells = diff.cells === undefined\n                    ? new Map()\n                    : new Map(diff.cells.map(cell => [cell.document.uri.toString(), cell]));\n                removedCells = diff.deleteCount === 0\n                    ? new Map()\n                    : new Map(oldCells.slice(diff.start, diff.start + diff.deleteCount).map(cell => [cell.document.uri.toString(), cell]));\n                // Remove the onces that got deleted and inserted again.\n                for (const key of Array.from(removedCells.keys())) {\n                    if (addedCells.has(key)) {\n                        removedCells.delete(key);\n                        addedCells.delete(key);\n                    }\n                }\n                result.cells = result.cells ?? {};\n                const didOpen = [];\n                const didClose = [];\n                if (addedCells.size > 0 || removedCells.size > 0) {\n                    for (const cell of addedCells.values()) {\n                        didOpen.push(cell);\n                    }\n                    for (const cell of removedCells.values()) {\n                        didClose.push(cell);\n                    }\n                }\n                result.cells.structure = {\n                    array: diff,\n                    didOpen,\n                    didClose\n                };\n            }\n        }\n        // The notebook is a property as well.\n        return Object.keys(result).length > 1 ? result : undefined;\n    }\n    getMatchingCells(notebookDocument, cells = notebookDocument.getCells()) {\n        if (this.options.notebookSelector === undefined) {\n            return undefined;\n        }\n        for (const item of this.options.notebookSelector) {\n            if (item.notebook === undefined) {\n                if (item.cells === undefined) {\n                    return undefined;\n                }\n                const filtered = this.filterCells(notebookDocument, cells, item.cells);\n                return filtered.length === 0 ? undefined : filtered;\n            }\n            else if ($NotebookDocumentFilter.matchNotebook(item.notebook, notebookDocument)) {\n                return item.cells === undefined ? cells : this.filterCells(notebookDocument, cells, item.cells);\n            }\n        }\n        return undefined;\n    }\n    cellMatches(notebookDocument, cell) {\n        const cells = this.getMatchingCells(notebookDocument, [cell]);\n        return cells !== undefined && cells[0] === cell;\n    }\n    filterCells(notebookDocument, cells, cellSelector) {\n        const result = cells.filter((cell) => {\n            const cellLanguage = cell.document.languageId;\n            return cellSelector.some((filter => (filter.language === '*' || cellLanguage === filter.language)));\n        });\n        return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells === 'function'\n            ? this.client.clientOptions.notebookDocumentOptions.filterCells(notebookDocument, cells)\n            : result;\n    }\n}\nclass NotebookDocumentSyncFeature {\n    constructor(client) {\n        this.client = client;\n        this.registrations = new Map();\n        this.registrationType = proto.NotebookDocumentSyncRegistrationType.type;\n        // We don't receive an event for cells where the document changes its language mode\n        // Since we allow servers to filter on the language mode we fire such an event ourselves.\n        vscode.workspace.onDidOpenTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didOpenNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n        vscode.workspace.onDidChangeTextDocument((event) => {\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            const textDocument = event.document;\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument,] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didChangeNotebookCellTextDocument(notebookDocument, event);\n                }\n            }\n        });\n        vscode.workspace.onDidCloseTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            // There are two cases when we receive a close for a text document\n            // 1: the cell got removed. This is handled in `onDidChangeNotebookCells`\n            // 2: the language mode of a cell changed. This keeps the URI stable so\n            //    we will still find the cell and the notebook document.\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didCloseNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n    }\n    getState() {\n        if (this.registrations.size === 0) {\n            return { kind: 'document', id: this.registrationType.method, registrations: false, matches: false };\n        }\n        for (const provider of this.registrations.values()) {\n            const state = provider.getState();\n            if (state.kind === 'document' && state.registrations === true && state.matches === true) {\n                return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: this.registrationType.method, registrations: true, matches: false };\n    }\n    fillClientCapabilities(capabilities) {\n        const synchronization = ensure(ensure(capabilities, 'notebookDocument'), 'synchronization');\n        synchronization.dynamicRegistration = true;\n        synchronization.executionSummarySupport = true;\n    }\n    preInitialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        this.dedicatedChannel = this.client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n    }\n    initialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        const id = options.id ?? UUID.generateUuid();\n        this.register({ id, registerOptions: options });\n    }\n    register(data) {\n        const provider = new NotebookDocumentSyncFeatureProvider(this.client, data.registerOptions);\n        this.registrations.set(data.id, provider);\n    }\n    unregister(id) {\n        const provider = this.registrations.get(id);\n        provider && provider.dispose();\n    }\n    dispose() {\n        for (const provider of this.registrations.values()) {\n            provider.dispose();\n        }\n        this.registrations.clear();\n    }\n    handles(textDocument) {\n        if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n            return false;\n        }\n        if (this.dedicatedChannel !== undefined && vscode.languages.match(this.dedicatedChannel, textDocument) > 0) {\n            return true;\n        }\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(textDocument)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getProvider(notebookCell) {\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(notebookCell.document)) {\n                return provider;\n            }\n        }\n        return undefined;\n    }\n    findNotebookDocumentAndCell(textDocument) {\n        const uri = textDocument.uri.toString();\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            for (const cell of notebookDocument.getCells()) {\n                if (cell.document.uri.toString() === uri) {\n                    return [notebookDocument, cell];\n                }\n            }\n        }\n        return [undefined, undefined];\n    }\n}\nexports.NotebookDocumentSyncFeature = NotebookDocumentSyncFeature;\nNotebookDocumentSyncFeature.CellScheme = 'vscode-notebook-cell';\n//# sourceMappingURL=notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst progressPart_1 = require(\"./progressPart\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass ProgressFeature {\n    constructor(_client) {\n        this._client = _client;\n        this.activeParts = new Set();\n    }\n    getState() {\n        return { kind: 'window', id: vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.method, registrations: this.activeParts.size > 0 };\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(capabilities, 'window').workDoneProgress = true;\n    }\n    initialize() {\n        const client = this._client;\n        const deleteHandler = (part) => {\n            this.activeParts.delete(part);\n        };\n        const createHandler = (params) => {\n            this.activeParts.add(new progressPart_1.ProgressPart(this._client, params.token, deleteHandler));\n        };\n        client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, createHandler);\n    }\n    dispose() {\n        for (const part of this.activeParts) {\n            part.done();\n        }\n        this.activeParts.clear();\n    }\n}\nexports.ProgressFeature = ProgressFeature;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressPart = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nclass ProgressPart {\n    constructor(_client, _token, done) {\n        this._client = _client;\n        this._token = _token;\n        this._reported = 0;\n        this._infinite = false;\n        this._lspProgressDisposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\n            switch (value.kind) {\n                case 'begin':\n                    this.begin(value);\n                    break;\n                case 'report':\n                    this.report(value);\n                    break;\n                case 'end':\n                    this.done();\n                    done && done(this);\n                    break;\n            }\n        });\n    }\n    begin(params) {\n        this._infinite = params.percentage === undefined;\n        // the progress as already been marked as done / canceled. Ignore begin call\n        if (this._lspProgressDisposable === undefined) {\n            return;\n        }\n        // Since we don't use commands this will be a silent window progress with a hidden notification.\n        void vscode_1.window.withProgress({ location: vscode_1.ProgressLocation.Window, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\n            // the progress as already been marked as done / canceled. Ignore begin call\n            if (this._lspProgressDisposable === undefined) {\n                return;\n            }\n            this._progress = progress;\n            this._cancellationToken = cancellationToken;\n            this._tokenDisposable = this._cancellationToken.onCancellationRequested(() => {\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\n            });\n            this.report(params);\n            return new Promise((resolve, reject) => {\n                this._resolve = resolve;\n                this._reject = reject;\n            });\n        });\n    }\n    report(params) {\n        if (this._infinite && Is.string(params.message)) {\n            this._progress !== undefined && this._progress.report({ message: params.message });\n        }\n        else if (Is.number(params.percentage)) {\n            const percentage = Math.max(0, Math.min(params.percentage, 100));\n            const delta = Math.max(0, percentage - this._reported);\n            this._reported += delta;\n            this._progress !== undefined && this._progress.report({ message: params.message, increment: delta });\n        }\n    }\n    cancel() {\n        this.cleanup();\n        if (this._reject !== undefined) {\n            this._reject();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    done() {\n        this.cleanup();\n        if (this._resolve !== undefined) {\n            this._resolve();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    cleanup() {\n        if (this._lspProgressDisposable !== undefined) {\n            this._lspProgressDisposable.dispose();\n            this._lspProgressDisposable = undefined;\n        }\n        if (this._tokenDisposable !== undefined) {\n            this._tokenDisposable.dispose();\n            this._tokenDisposable = undefined;\n        }\n        this._progress = undefined;\n        this._cancellationToken = undefined;\n    }\n}\nexports.ProgressPart = ProgressPart;\n//# sourceMappingURL=progressPart.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCallHierarchyItem extends code.CallHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolCallHierarchyItem;\n//# sourceMappingURL=protocolCallHierarchyItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode = require(\"vscode\");\nclass ProtocolCodeAction extends vscode.CodeAction {\n    constructor(title, data) {\n        super(title);\n        this.data = data;\n    }\n}\nexports.default = ProtocolCodeAction;\n//# sourceMappingURL=protocolCodeAction.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCodeLens extends code.CodeLens {\n    constructor(range) {\n        super(range);\n    }\n}\nexports.default = ProtocolCodeLens;\n//# sourceMappingURL=protocolCodeLens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCompletionItem extends code.CompletionItem {\n    constructor(label) {\n        super(label);\n    }\n}\nexports.default = ProtocolCompletionItem;\n//# sourceMappingURL=protocolCompletionItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst ls = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nvar CodeBlock;\n(function (CodeBlock) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\n    }\n    CodeBlock.is = is;\n})(CodeBlock || (CodeBlock = {}));\nfunction createConverter(uriConverter, trustMarkdown, supportHtml) {\n    const nullConverter = (value) => code.Uri.parse(value);\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asDocumentSelector(selector) {\n        const result = [];\n        for (const filter of selector) {\n            if (typeof filter === 'string') {\n                result.push(filter);\n            }\n            else if (vscode_languageserver_protocol_1.NotebookCellTextDocumentFilter.is(filter)) {\n                // We first need to check for the notebook cell filter since a TextDocumentFilter would\n                // match both (e.g. the notebook is optional).\n                if (typeof filter.notebook === 'string') {\n                    result.push({ notebookType: filter.notebook, language: filter.language });\n                }\n                else {\n                    const notebookType = filter.notebook.notebookType ?? '*';\n                    result.push({ notebookType: notebookType, scheme: filter.notebook.scheme, pattern: filter.notebook.pattern, language: filter.language });\n                }\n            }\n            else if (vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                result.push({ language: filter.language, scheme: filter.scheme, pattern: filter.pattern });\n            }\n        }\n        return result;\n    }\n    async function asDiagnostics(diagnostics, token) {\n        return async.map(diagnostics, asDiagnostic, token);\n    }\n    function asDiagnosticsSync(diagnostics) {\n        const result = new Array(diagnostics.length);\n        for (let i = 0; i < diagnostics.length; i++) {\n            result[i] = asDiagnostic(diagnostics[i]);\n        }\n        return result;\n    }\n    function asDiagnostic(diagnostic) {\n        let result = new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity), diagnostic.data);\n        if (diagnostic.code !== undefined) {\n            if (typeof diagnostic.code === 'string' || typeof diagnostic.code === 'number') {\n                if (ls.CodeDescription.is(diagnostic.codeDescription)) {\n                    result.code = {\n                        value: diagnostic.code,\n                        target: asUri(diagnostic.codeDescription.href)\n                    };\n                }\n                else {\n                    result.code = diagnostic.code;\n                }\n            }\n            else if (protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)) {\n                // This is for backwards compatibility of a proposed API.\n                // We should remove this at some point.\n                result.hasDiagnosticCode = true;\n                const diagnosticCode = diagnostic.code;\n                result.code = {\n                    value: diagnosticCode.value,\n                    target: asUri(diagnosticCode.target)\n                };\n            }\n        }\n        if (diagnostic.source) {\n            result.source = diagnostic.source;\n        }\n        if (diagnostic.relatedInformation) {\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\n        }\n        if (Array.isArray(diagnostic.tags)) {\n            result.tags = asDiagnosticTags(diagnostic.tags);\n        }\n        return result;\n    }\n    function asRelatedInformation(relatedInformation) {\n        const result = new Array(relatedInformation.length);\n        for (let i = 0; i < relatedInformation.length; i++) {\n            const info = relatedInformation[i];\n            result[i] = new code.DiagnosticRelatedInformation(asLocation(info.location), info.message);\n        }\n        return result;\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case ls.DiagnosticTag.Unnecessary:\n                return code.DiagnosticTag.Unnecessary;\n            case ls.DiagnosticTag.Deprecated:\n                return code.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asPosition(value) {\n        return value ? new code.Position(value.line, value.character) : undefined;\n    }\n    function asRange(value) {\n        return value ? new code.Range(value.start.line, value.start.character, value.end.line, value.end.character) : undefined;\n    }\n    async function asRanges(items, token) {\n        return async.map(items, (range) => {\n            return new code.Range(range.start.line, range.start.character, range.end.line, range.end.character);\n        }, token);\n    }\n    function asDiagnosticSeverity(value) {\n        if (value === undefined || value === null) {\n            return code.DiagnosticSeverity.Error;\n        }\n        switch (value) {\n            case ls.DiagnosticSeverity.Error:\n                return code.DiagnosticSeverity.Error;\n            case ls.DiagnosticSeverity.Warning:\n                return code.DiagnosticSeverity.Warning;\n            case ls.DiagnosticSeverity.Information:\n                return code.DiagnosticSeverity.Information;\n            case ls.DiagnosticSeverity.Hint:\n                return code.DiagnosticSeverity.Hint;\n        }\n        return code.DiagnosticSeverity.Error;\n    }\n    function asHoverContent(value) {\n        if (Is.string(value)) {\n            return asMarkdownString(value);\n        }\n        else if (CodeBlock.is(value)) {\n            let result = asMarkdownString();\n            return result.appendCodeblock(value.value, value.language);\n        }\n        else if (Array.isArray(value)) {\n            let result = [];\n            for (let element of value) {\n                let item = asMarkdownString();\n                if (CodeBlock.is(element)) {\n                    item.appendCodeblock(element.value, element.language);\n                }\n                else {\n                    item.appendMarkdown(element);\n                }\n                result.push(item);\n            }\n            return result;\n        }\n        else {\n            return asMarkdownString(value);\n        }\n    }\n    function asDocumentation(value) {\n        if (Is.string(value)) {\n            return value;\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return asMarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    return value.value;\n                default:\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\n            }\n        }\n    }\n    function asMarkdownString(value) {\n        let result;\n        if (value === undefined || typeof value === 'string') {\n            result = new code.MarkdownString(value);\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    result = new code.MarkdownString(value.value);\n                    break;\n                case ls.MarkupKind.PlainText:\n                    result = new code.MarkdownString();\n                    result.appendText(value.value);\n                    break;\n                default:\n                    result = new code.MarkdownString();\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\n                    break;\n            }\n        }\n        result.isTrusted = trustMarkdown;\n        result.supportHtml = supportHtml;\n        return result;\n    }\n    function asHover(hover) {\n        if (!hover) {\n            return undefined;\n        }\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\n    }\n    async function asCompletionResult(value, allCommitCharacters, token) {\n        if (!value) {\n            return undefined;\n        }\n        if (Array.isArray(value)) {\n            return async.map(value, (item) => asCompletionItem(item, allCommitCharacters), token);\n        }\n        const list = value;\n        const { defaultRange, commitCharacters } = getCompletionItemDefaults(list, allCommitCharacters);\n        const converted = await async.map(list.items, (item) => {\n            return asCompletionItem(item, commitCharacters, defaultRange, list.itemDefaults?.insertTextMode, list.itemDefaults?.insertTextFormat, list.itemDefaults?.data);\n        }, token);\n        return new code.CompletionList(converted, list.isIncomplete);\n    }\n    function getCompletionItemDefaults(list, allCommitCharacters) {\n        const rangeDefaults = list.itemDefaults?.editRange;\n        const commitCharacters = list.itemDefaults?.commitCharacters ?? allCommitCharacters;\n        return ls.Range.is(rangeDefaults)\n            ? { defaultRange: asRange(rangeDefaults), commitCharacters }\n            : rangeDefaults !== undefined\n                ? { defaultRange: { inserting: asRange(rangeDefaults.insert), replacing: asRange(rangeDefaults.replace) }, commitCharacters }\n                : { defaultRange: undefined, commitCharacters };\n    }\n    function asCompletionItemKind(value) {\n        // Protocol item kind is 1 based, codes item kind is zero based.\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\n            return [value - 1, undefined];\n        }\n        return [code.CompletionItemKind.Text, value];\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case ls.CompletionItemTag.Deprecated:\n                return code.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined || tags === null) {\n            return [];\n        }\n        const result = [];\n        for (const tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItem(item, defaultCommitCharacters, defaultRange, defaultInsertTextMode, defaultInsertTextFormat, defaultData) {\n        const tags = asCompletionItemTags(item.tags);\n        const label = asCompletionItemLabel(item);\n        const result = new protocolCompletionItem_1.default(label);\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        const insertText = asCompletionInsertText(item, defaultRange, defaultInsertTextFormat);\n        if (insertText) {\n            result.insertText = insertText.text;\n            result.range = insertText.range;\n            result.fromEdit = insertText.fromEdit;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEditsSync(item.additionalTextEdits);\n        }\n        const commitCharacters = item.commitCharacters !== undefined\n            ? Is.stringArray(item.commitCharacters) ? item.commitCharacters : undefined\n            : defaultCommitCharacters;\n        if (commitCharacters) {\n            result.commitCharacters = commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n            if (item.deprecated === true) {\n                tags.push(code.CompletionItemTag.Deprecated);\n            }\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const data = item.data ?? defaultData;\n        if (data !== undefined) {\n            result.data = data;\n        }\n        if (tags.length > 0) {\n            result.tags = tags;\n        }\n        const insertTextMode = item.insertTextMode ?? defaultInsertTextMode;\n        if (insertTextMode !== undefined) {\n            result.insertTextMode = insertTextMode;\n            if (insertTextMode === ls.InsertTextMode.asIs) {\n                result.keepWhitespace = true;\n            }\n        }\n        return result;\n    }\n    function asCompletionItemLabel(item) {\n        if (ls.CompletionItemLabelDetails.is(item.labelDetails)) {\n            return {\n                label: item.label,\n                detail: item.labelDetails.detail,\n                description: item.labelDetails.description\n            };\n        }\n        else {\n            return item.label;\n        }\n    }\n    function asCompletionInsertText(item, defaultRange, defaultInsertTextFormat) {\n        const insertTextFormat = item.insertTextFormat ?? defaultInsertTextFormat;\n        if (item.textEdit !== undefined || defaultRange !== undefined) {\n            const [range, newText] = item.textEdit !== undefined\n                ? getCompletionRangeAndText(item.textEdit)\n                : [defaultRange, item.textEditText ?? item.label];\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(newText), range: range, fromEdit: true };\n            }\n            else {\n                return { text: newText, range: range, fromEdit: true };\n            }\n        }\n        else if (item.insertText) {\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\n            }\n            else {\n                return { text: item.insertText, fromEdit: false };\n            }\n        }\n        else {\n            return undefined;\n        }\n    }\n    function getCompletionRangeAndText(value) {\n        if (ls.InsertReplaceEdit.is(value)) {\n            return [{ inserting: asRange(value.insert), replacing: asRange(value.replace) }, value.newText];\n        }\n        else {\n            return [asRange(value.range), value.newText];\n        }\n    }\n    function asTextEdit(edit) {\n        if (!edit) {\n            return undefined;\n        }\n        return new code.TextEdit(asRange(edit.range), edit.newText);\n    }\n    async function asTextEdits(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asTextEdit, token);\n    }\n    function asTextEditsSync(items) {\n        if (!items) {\n            return undefined;\n        }\n        const result = new Array(items.length);\n        for (let i = 0; i < items.length; i++) {\n            result[i] = asTextEdit(items[i]);\n        }\n        return result;\n    }\n    async function asSignatureHelp(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new code.SignatureHelp();\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        }\n        else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        }\n        else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = await asSignatureInformations(item.signatures, token);\n        }\n        return result;\n    }\n    async function asSignatureInformations(items, token) {\n        return async.mapAsync(items, asSignatureInformation, token);\n    }\n    async function asSignatureInformation(item, token) {\n        let result = new code.SignatureInformation(item.label);\n        if (item.documentation !== undefined) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        if (item.parameters !== undefined) {\n            result.parameters = await asParameterInformations(item.parameters, token);\n        }\n        if (item.activeParameter !== undefined) {\n            result.activeParameter = item.activeParameter;\n        }\n        {\n            return result;\n        }\n    }\n    function asParameterInformations(items, token) {\n        return async.map(items, asParameterInformation, token);\n    }\n    function asParameterInformation(item) {\n        let result = new code.ParameterInformation(item.label);\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        return result;\n    }\n    function asLocation(item) {\n        return item ? new code.Location(_uriConverter(item.uri), asRange(item.range)) : undefined;\n    }\n    async function asDeclarationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    async function asDefinitionResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    function asLocationLink(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {\n            targetUri: _uriConverter(item.targetUri),\n            targetRange: asRange(item.targetRange),\n            originSelectionRange: asRange(item.originSelectionRange),\n            targetSelectionRange: asRange(item.targetSelectionRange)\n        };\n        if (!result.targetSelectionRange) {\n            throw new Error(`targetSelectionRange must not be undefined or null`);\n        }\n        return result;\n    }\n    async function asLocationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length === 0) {\n                return [];\n            }\n            else if (ls.LocationLink.is(item[0])) {\n                const links = item;\n                return async.map(links, asLocationLink, token);\n            }\n            else {\n                const locations = item;\n                return async.map(locations, asLocation, token);\n            }\n        }\n        else if (ls.LocationLink.is(item)) {\n            return [asLocationLink(item)];\n        }\n        else {\n            return asLocation(item);\n        }\n    }\n    async function asReferences(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asLocation, token);\n    }\n    async function asDocumentHighlights(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asDocumentHighlight, token);\n    }\n    function asDocumentHighlight(item) {\n        let result = new code.DocumentHighlight(asRange(item.range));\n        if (Is.number(item.kind)) {\n            result.kind = asDocumentHighlightKind(item.kind);\n        }\n        return result;\n    }\n    function asDocumentHighlightKind(item) {\n        switch (item) {\n            case ls.DocumentHighlightKind.Text:\n                return code.DocumentHighlightKind.Text;\n            case ls.DocumentHighlightKind.Read:\n                return code.DocumentHighlightKind.Read;\n            case ls.DocumentHighlightKind.Write:\n                return code.DocumentHighlightKind.Write;\n        }\n        return code.DocumentHighlightKind.Text;\n    }\n    async function asSymbolInformations(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asSymbolInformation, token);\n    }\n    function asSymbolKind(item) {\n        if (item <= ls.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return code.SymbolKind.Property;\n    }\n    function asSymbolTag(value) {\n        switch (value) {\n            case ls.SymbolTag.Deprecated:\n                return code.SymbolTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asSymbolTags(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        const result = [];\n        for (const item of items) {\n            const converted = asSymbolTag(item);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length === 0 ? undefined : result;\n    }\n    function asSymbolInformation(item) {\n        const data = item.data;\n        const location = item.location;\n        const result = location.range === undefined || data !== undefined\n            ? new protocolWorkspaceSymbol_1.default(item.name, asSymbolKind(item.kind), item.containerName ?? '', location.range === undefined ? _uriConverter(location.uri) : new code.Location(_uriConverter(item.location.uri), asRange(location.range)), data)\n            : new code.SymbolInformation(item.name, asSymbolKind(item.kind), item.containerName ?? '', new code.Location(_uriConverter(item.location.uri), asRange(location.range)));\n        fillTags(result, item);\n        return result;\n    }\n    async function asDocumentSymbols(values, token) {\n        if (values === undefined || values === null) {\n            return undefined;\n        }\n        return async.map(values, asDocumentSymbol, token);\n    }\n    function asDocumentSymbol(value) {\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\n        fillTags(result, value);\n        if (value.children !== undefined && value.children.length > 0) {\n            let children = [];\n            for (let child of value.children) {\n                children.push(asDocumentSymbol(child));\n            }\n            result.children = children;\n        }\n        return result;\n    }\n    function fillTags(result, value) {\n        result.tags = asSymbolTags(value.tags);\n        if (value.deprecated) {\n            if (!result.tags) {\n                result.tags = [code.SymbolTag.Deprecated];\n            }\n            else {\n                if (!result.tags.includes(code.SymbolTag.Deprecated)) {\n                    result.tags = result.tags.concat(code.SymbolTag.Deprecated);\n                }\n            }\n        }\n    }\n    function asCommand(item) {\n        let result = { title: item.title, command: item.command };\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    async function asCommands(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCommand, token);\n    }\n    const kindMapping = new Map();\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = kindMapping.get(item);\n        if (result) {\n            return result;\n        }\n        let parts = item.split('.');\n        result = code.CodeActionKind.Empty;\n        for (let part of parts) {\n            result = result.append(part);\n        }\n        return result;\n    }\n    function asCodeActionKinds(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        return items.map(kind => asCodeActionKind(kind));\n    }\n    async function asCodeAction(item, token) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = new protocolCodeAction_1.default(item.title, item.data);\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnosticsSync(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            result.edit = await asWorkspaceEdit(item.edit, token);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeActionResult(items, token) {\n        return async.mapAsync(items, async (item) => {\n            if (ls.Command.is(item)) {\n                return asCommand(item);\n            }\n            else {\n                return asCodeAction(item, token);\n            }\n        }, token);\n    }\n    function asCodeLens(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new protocolCodeLens_1.default(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.data !== undefined && item.data !== null) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    async function asCodeLenses(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCodeLens, token);\n    }\n    async function asWorkspaceEdit(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        const sharedMetadata = new Map();\n        if (item.changeAnnotations !== undefined) {\n            const changeAnnotations = item.changeAnnotations;\n            await async.forEach(Object.keys(changeAnnotations), (key) => {\n                const metaData = asWorkspaceEditEntryMetadata(changeAnnotations[key]);\n                sharedMetadata.set(key, metaData);\n            }, token);\n        }\n        const asMetadata = (annotation) => {\n            if (annotation === undefined) {\n                return undefined;\n            }\n            else {\n                return sharedMetadata.get(annotation);\n            }\n        };\n        const result = new code.WorkspaceEdit();\n        if (item.documentChanges) {\n            const documentChanges = item.documentChanges;\n            await async.forEach(documentChanges, (change) => {\n                if (ls.CreateFile.is(change)) {\n                    result.createFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.RenameFile.is(change)) {\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.DeleteFile.is(change)) {\n                    result.deleteFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.TextDocumentEdit.is(change)) {\n                    const uri = _uriConverter(change.textDocument.uri);\n                    for (const edit of change.edits) {\n                        if (ls.AnnotatedTextEdit.is(edit)) {\n                            result.replace(uri, asRange(edit.range), edit.newText, asMetadata(edit.annotationId));\n                        }\n                        else {\n                            result.replace(uri, asRange(edit.range), edit.newText);\n                        }\n                    }\n                }\n                else {\n                    throw new Error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            }, token);\n        }\n        else if (item.changes) {\n            const changes = item.changes;\n            await async.forEach(Object.keys(changes), (key) => {\n                result.set(_uriConverter(key), asTextEditsSync(changes[key]));\n            }, token);\n        }\n        return result;\n    }\n    function asWorkspaceEditEntryMetadata(annotation) {\n        if (annotation === undefined) {\n            return undefined;\n        }\n        return { label: annotation.label, needsConfirmation: !!annotation.needsConfirmation, description: annotation.description };\n    }\n    function asDocumentLink(item) {\n        let range = asRange(item.range);\n        let target = item.target ? asUri(item.target) : undefined;\n        // target must be optional in DocumentLink\n        let link = new protocolDocumentLink_1.default(range, target);\n        if (item.tooltip !== undefined) {\n            link.tooltip = item.tooltip;\n        }\n        if (item.data !== undefined && item.data !== null) {\n            link.data = item.data;\n        }\n        return link;\n    }\n    async function asDocumentLinks(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asDocumentLink, token);\n    }\n    function asColor(color) {\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    function asColorInformation(ci) {\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\n    }\n    async function asColorInformations(colorInformation, token) {\n        if (!colorInformation) {\n            return undefined;\n        }\n        return async.map(colorInformation, asColorInformation, token);\n    }\n    function asColorPresentation(cp) {\n        let presentation = new code.ColorPresentation(cp.label);\n        presentation.additionalTextEdits = asTextEditsSync(cp.additionalTextEdits);\n        if (cp.textEdit) {\n            presentation.textEdit = asTextEdit(cp.textEdit);\n        }\n        return presentation;\n    }\n    async function asColorPresentations(colorPresentations, token) {\n        if (!colorPresentations) {\n            return undefined;\n        }\n        return async.map(colorPresentations, asColorPresentation, token);\n    }\n    function asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case ls.FoldingRangeKind.Comment:\n                    return code.FoldingRangeKind.Comment;\n                case ls.FoldingRangeKind.Imports:\n                    return code.FoldingRangeKind.Imports;\n                case ls.FoldingRangeKind.Region:\n                    return code.FoldingRangeKind.Region;\n            }\n        }\n        return undefined;\n    }\n    function asFoldingRange(r) {\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\n    }\n    async function asFoldingRanges(foldingRanges, token) {\n        if (!foldingRanges) {\n            return undefined;\n        }\n        return async.map(foldingRanges, asFoldingRange, token);\n    }\n    function asSelectionRange(selectionRange) {\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\n    }\n    async function asSelectionRanges(selectionRanges, token) {\n        if (!Array.isArray(selectionRanges)) {\n            return [];\n        }\n        return async.map(selectionRanges, asSelectionRange, token);\n    }\n    function asInlineValue(inlineValue) {\n        if (ls.InlineValueText.is(inlineValue)) {\n            return new code.InlineValueText(asRange(inlineValue.range), inlineValue.text);\n        }\n        else if (ls.InlineValueVariableLookup.is(inlineValue)) {\n            return new code.InlineValueVariableLookup(asRange(inlineValue.range), inlineValue.variableName, inlineValue.caseSensitiveLookup);\n        }\n        else {\n            return new code.InlineValueEvaluatableExpression(asRange(inlineValue.range), inlineValue.expression);\n        }\n    }\n    async function asInlineValues(inlineValues, token) {\n        if (!Array.isArray(inlineValues)) {\n            return [];\n        }\n        return async.map(inlineValues, asInlineValue, token);\n    }\n    async function asInlayHint(value, token) {\n        const label = typeof value.label === 'string'\n            ? value.label\n            : await async.map(value.label, asInlayHintLabelPart, token);\n        const result = new protocolInlayHint_1.default(asPosition(value.position), label);\n        if (value.kind !== undefined) {\n            result.kind = value.kind;\n        }\n        if (value.textEdits !== undefined) {\n            result.textEdits = await asTextEdits(value.textEdits, token);\n        }\n        if (value.tooltip !== undefined) {\n            result.tooltip = asTooltip(value.tooltip);\n        }\n        if (value.paddingLeft !== undefined) {\n            result.paddingLeft = value.paddingLeft;\n        }\n        if (value.paddingRight !== undefined) {\n            result.paddingRight = value.paddingRight;\n        }\n        if (value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(part) {\n        const result = new code.InlayHintLabelPart(part.value);\n        if (part.location !== undefined) {\n            result.location = asLocation(part.location);\n        }\n        if (part.tooltip !== undefined) {\n            result.tooltip = asTooltip(part.tooltip);\n        }\n        if (part.command !== undefined) {\n            result.command = asCommand(part.command);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        return asMarkdownString(value);\n    }\n    async function asInlayHints(values, token) {\n        if (!Array.isArray(values)) {\n            return undefined;\n        }\n        return async.mapAsync(values, asInlayHint, token);\n    }\n    function asCallHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        const result = new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asCallHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asCallHierarchyItem, token);\n    }\n    async function asCallHierarchyIncomingCall(item, token) {\n        return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyIncomingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyIncomingCall, token);\n    }\n    async function asCallHierarchyOutgoingCall(item, token) {\n        return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyOutgoingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyOutgoingCall, token);\n    }\n    async function asSemanticTokens(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokens(new Uint32Array(value.data), value.resultId);\n    }\n    function asSemanticTokensEdit(value) {\n        return new code.SemanticTokensEdit(value.start, value.deleteCount, value.data !== undefined ? new Uint32Array(value.data) : undefined);\n    }\n    async function asSemanticTokensEdits(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit), value.resultId);\n    }\n    function asSemanticTokensLegend(value) {\n        return value;\n    }\n    async function asLinkedEditingRanges(value, token) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new code.LinkedEditingRanges(await asRanges(value.ranges, token), asRegularExpression(value.wordPattern));\n    }\n    function asRegularExpression(value) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new RegExp(value);\n    }\n    function asTypeHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        let result = new protocolTypeHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asTypeHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asTypeHierarchyItem, token);\n    }\n    function asGlobPattern(pattern) {\n        if (Is.string(pattern)) {\n            return pattern;\n        }\n        if (ls.RelativePattern.is(pattern)) {\n            if (ls.URI.is(pattern.baseUri)) {\n                return new code.RelativePattern(asUri(pattern.baseUri), pattern.pattern);\n            }\n            else if (ls.WorkspaceFolder.is(pattern.baseUri)) {\n                const workspaceFolder = code.workspace.getWorkspaceFolder(asUri(pattern.baseUri.uri));\n                return workspaceFolder !== undefined ? new code.RelativePattern(workspaceFolder, pattern.pattern) : undefined;\n            }\n        }\n        return undefined;\n    }\n    return {\n        asUri,\n        asDocumentSelector,\n        asDiagnostics,\n        asDiagnostic,\n        asRange,\n        asRanges,\n        asPosition,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asHover,\n        asCompletionResult,\n        asCompletionItem,\n        asTextEdit,\n        asTextEdits,\n        asSignatureHelp,\n        asSignatureInformations,\n        asSignatureInformation,\n        asParameterInformations,\n        asParameterInformation,\n        asDeclarationResult,\n        asDefinitionResult,\n        asLocation,\n        asReferences,\n        asDocumentHighlights,\n        asDocumentHighlight,\n        asDocumentHighlightKind,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asSymbolInformations,\n        asSymbolInformation,\n        asDocumentSymbols,\n        asDocumentSymbol,\n        asCommand,\n        asCommands,\n        asCodeAction,\n        asCodeActionKind,\n        asCodeActionKinds,\n        asCodeActionResult,\n        asCodeLens,\n        asCodeLenses,\n        asWorkspaceEdit,\n        asDocumentLink,\n        asDocumentLinks,\n        asFoldingRangeKind,\n        asFoldingRange,\n        asFoldingRanges,\n        asColor,\n        asColorInformation,\n        asColorInformations,\n        asColorPresentation,\n        asColorPresentations,\n        asSelectionRange,\n        asSelectionRanges,\n        asInlineValue,\n        asInlineValues,\n        asInlayHint,\n        asInlayHints,\n        asSemanticTokensLegend,\n        asSemanticTokens,\n        asSemanticTokensEdit,\n        asSemanticTokensEdits,\n        asCallHierarchyItem,\n        asCallHierarchyItems,\n        asCallHierarchyIncomingCall,\n        asCallHierarchyIncomingCalls,\n        asCallHierarchyOutgoingCall,\n        asCallHierarchyOutgoingCalls,\n        asLinkedEditingRanges: asLinkedEditingRanges,\n        asTypeHierarchyItem,\n        asTypeHierarchyItems,\n        asGlobPattern\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=protocolConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolDiagnostic = exports.DiagnosticCode = void 0;\nconst vscode = require(\"vscode\");\nconst Is = require(\"./utils/is\");\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\nclass ProtocolDiagnostic extends vscode.Diagnostic {\n    constructor(range, message, severity, data) {\n        super(range, message, severity);\n        this.data = data;\n        this.hasDiagnosticCode = false;\n    }\n}\nexports.ProtocolDiagnostic = ProtocolDiagnostic;\n//# sourceMappingURL=protocolDiagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolDocumentLink extends code.DocumentLink {\n    constructor(range, target) {\n        super(range, target);\n    }\n}\nexports.default = ProtocolDocumentLink;\n//# sourceMappingURL=protocolDocumentLink.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolInlayHint extends code.InlayHint {\n    constructor(position, label, kind) {\n        super(position, label, kind);\n    }\n}\nexports.default = ProtocolInlayHint;\n//# sourceMappingURL=protocolInlayHint.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolTypeHierarchyItem extends code.TypeHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolTypeHierarchyItem;\n//# sourceMappingURL=protocolTypeHierarchyItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass WorkspaceSymbol extends code.SymbolInformation {\n    constructor(name, kind, containerName, locationOrUri, data) {\n        const hasRange = !(locationOrUri instanceof code.Uri);\n        super(name, kind, containerName, hasRange ? locationOrUri : new code.Location(locationOrUri, new code.Range(0, 0, 0, 0)));\n        this.hasRange = hasRange;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = WorkspaceSymbol;\n//# sourceMappingURL=protocolWorkspaceSymbol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReferencesFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass ReferencesFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'references').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideReferences: (document, position, options, token) => {\n                const client = this._client;\n                const _providerReferences = (document, position, options, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asReferences(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideReferences\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\n                    : _providerReferences(document, position, options, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ReferencesFeature = ReferencesFeature;\n//# sourceMappingURL=reference.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RenameFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nconst features_1 = require(\"./features\");\nclass RenameFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let rename = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rename');\n        rename.dynamicRegistration = true;\n        rename.prepareSupport = true;\n        rename.prepareSupportDefaultBehavior = vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier;\n        rename.honorsChangeAnnotations = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\n        if (!options) {\n            return;\n        }\n        if (Is.boolean(capabilities.renameProvider)) {\n            options.prepareProvider = false;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideRenameEdits: (document, position, newName, token) => {\n                const client = this._client;\n                const provideRenameEdits = (document, position, newName, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        newName: newName\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asWorkspaceEdit(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, token, error, null, false);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideRenameEdits\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\n                    : provideRenameEdits(document, position, newName, token);\n            },\n            prepareRename: options.prepareProvider\n                ? (document, position, token) => {\n                    const client = this._client;\n                    const prepareRename = (document, position, token) => {\n                        let params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            position: client.code2ProtocolConverter.asPosition(position),\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\n                                return client.protocol2CodeConverter.asRange(result);\n                            }\n                            else if (this.isDefaultBehavior(result)) {\n                                return result.defaultBehavior === true\n                                    ? null\n                                    : Promise.reject(new Error(`The element can't be renamed.`));\n                            }\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\n                                return {\n                                    range: client.protocol2CodeConverter.asRange(result.range),\n                                    placeholder: result.placeholder\n                                };\n                            }\n                            // To cancel the rename vscode API expects a rejected promise.\n                            return Promise.reject(new Error(`The element can't be renamed.`));\n                        }, (error) => {\n                            if (typeof error.message === 'string') {\n                                throw new Error(error.message);\n                            }\n                            else {\n                                throw new Error(`The element can't be renamed.`);\n                            }\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.prepareRename\n                        ? middleware.prepareRename(document, position, token, prepareRename)\n                        : prepareRename(document, position, token);\n                }\n                : undefined\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n    isDefaultBehavior(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.defaultBehavior);\n    }\n}\nexports.RenameFeature = RenameFeature;\n//# sourceMappingURL=rename.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass SelectionRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SelectionRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'selectionRange');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.selectionRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideSelectionRanges: (document, positions, token) => {\n                const client = this._client;\n                const provideSelectionRanges = async (document, positions, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        positions: await client.code2ProtocolConverter.asPositions(positions, token)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, requestParams, token).then((ranges) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSelectionRanges(ranges, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSelectionRanges\n                    ? middleware.provideSelectionRanges(document, positions, token, provideSelectionRanges)\n                    : provideSelectionRanges(document, positions, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.SelectionRangeFeature = SelectionRangeFeature;\n//# sourceMappingURL=selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensFeature = void 0;\nconst vscode = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst Is = require(\"./utils/is\");\nclass SemanticTokensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'semanticTokens');\n        capability.dynamicRegistration = true;\n        capability.tokenTypes = [\n            vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.type,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.class,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enum,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.interface,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.struct,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.variable,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.property,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.event,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.function,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.method,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.macro,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.comment,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.string,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.number,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.operator,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.decorator\n        ];\n        capability.tokenModifiers = [\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.static,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.async,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary\n        ];\n        capability.formats = [vscode_languageserver_protocol_1.TokenFormat.Relative];\n        capability.requests = {\n            range: true,\n            full: {\n                delta: true\n            }\n        };\n        capability.multilineTokenSupport = false;\n        capability.overlappingTokenSupport = false;\n        capability.serverCancelSupport = true;\n        capability.augmentsSyntaxTokens = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'semanticTokens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeSemanticTokensEmitter.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.semanticTokensProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const fullProvider = Is.boolean(options.full) ? options.full : options.full !== undefined;\n        const hasEditProvider = options.full !== undefined && typeof options.full !== 'boolean' && options.full.delta === true;\n        const eventEmitter = new vscode.EventEmitter();\n        const documentProvider = fullProvider\n            ? {\n                onDidChangeSemanticTokens: eventEmitter.event,\n                provideDocumentSemanticTokens: (document, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentSemanticTokens = (document, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentSemanticTokens\n                        ? middleware.provideDocumentSemanticTokens(document, token, provideDocumentSemanticTokens)\n                        : provideDocumentSemanticTokens(document, token);\n                },\n                provideDocumentSemanticTokensEdits: hasEditProvider\n                    ? (document, previousResultId, token) => {\n                        const client = this._client;\n                        const middleware = client.middleware;\n                        const provideDocumentSemanticTokensEdits = (document, previousResultId, token) => {\n                            const params = {\n                                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                                previousResultId\n                            };\n                            return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, params, token).then(async (result) => {\n                                if (token.isCancellationRequested) {\n                                    return null;\n                                }\n                                if (vscode_languageserver_protocol_1.SemanticTokens.is(result)) {\n                                    return await client.protocol2CodeConverter.asSemanticTokens(result, token);\n                                }\n                                else {\n                                    return await client.protocol2CodeConverter.asSemanticTokensEdits(result, token);\n                                }\n                            }, (error) => {\n                                return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, token, error, null);\n                            });\n                        };\n                        return middleware.provideDocumentSemanticTokensEdits\n                            ? middleware.provideDocumentSemanticTokensEdits(document, previousResultId, token, provideDocumentSemanticTokensEdits)\n                            : provideDocumentSemanticTokensEdits(document, previousResultId, token);\n                    }\n                    : undefined\n            }\n            : undefined;\n        const hasRangeProvider = options.range === true;\n        const rangeProvider = hasRangeProvider\n            ? {\n                provideDocumentRangeSemanticTokens: (document, range, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentRangeSemanticTokens = (document, range, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            range: client.code2ProtocolConverter.asRange(range)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentRangeSemanticTokens\n                        ? middleware.provideDocumentRangeSemanticTokens(document, range, token, provideDocumentRangeSemanticTokens)\n                        : provideDocumentRangeSemanticTokens(document, range, token);\n                }\n            }\n            : undefined;\n        const disposables = [];\n        const client = this._client;\n        const legend = client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(selector);\n        if (documentProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentSemanticTokensProvider(documentSelector, documentProvider, legend));\n        }\n        if (rangeProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentRangeSemanticTokensProvider(documentSelector, rangeProvider, legend));\n        }\n        return [new vscode.Disposable(() => disposables.forEach(item => item.dispose())), { range: rangeProvider, full: documentProvider, onDidChangeSemanticTokensEmitter: eventEmitter }];\n    }\n}\nexports.SemanticTokensFeature = SemanticTokensFeature;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignatureHelpFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass SignatureHelpFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let config = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'signatureHelp');\n        config.dynamicRegistration = true;\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\n        config.signatureInformation.activeParameterSupport = true;\n        config.contextSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSignatureHelp: (document, position, token, context) => {\n                const client = this._client;\n                const providerSignatureHelp = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSignatureHelp(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSignatureHelp\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\n                    : providerSignatureHelp(document, position, context, token);\n            }\n        };\n        return [this.registerProvider(options, provider), provider];\n    }\n    registerProvider(options, provider) {\n        const selector = this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        if (options.retriggerCharacters === undefined) {\n            const triggerCharacters = options.triggerCharacters || [];\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, ...triggerCharacters);\n        }\n        else {\n            const metaData = {\n                triggerCharacters: options.triggerCharacters || [],\n                retriggerCharacters: options.retriggerCharacters || []\n            };\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, metaData);\n        }\n    }\n}\nexports.SignatureHelpFeature = SignatureHelpFeature;\n//# sourceMappingURL=signatureHelp.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidSaveTextDocumentFeature = exports.WillSaveWaitUntilFeature = exports.WillSaveFeature = exports.DidChangeTextDocumentFeature = exports.DidCloseTextDocumentFeature = exports.DidOpenTextDocumentFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nclass DidOpenTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments) {\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, () => client.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n    }\n    get openDocuments() {\n        return this._syncedDocuments.values();\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\n    }\n    register(data) {\n        super.register(data);\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        const documentSelector = this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector);\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\n            const uri = textDocument.uri.toString();\n            if (this._syncedDocuments.has(uri)) {\n                return;\n            }\n            if (vscode_1.languages.match(documentSelector, textDocument) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                const middleware = this._client.middleware;\n                const didOpen = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                (middleware.didOpen ? middleware.didOpen(textDocument, didOpen) : didOpen(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n                this._syncedDocuments.set(uri, textDocument);\n            }\n        });\n    }\n    notificationSent(textDocument, type, params) {\n        super.notificationSent(textDocument, type, params);\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\n    }\n}\nexports.DidOpenTextDocumentFeature = DidOpenTextDocumentFeature;\nclass DidCloseTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments) {\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, () => client.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    notificationSent(textDocument, type, params) {\n        super.notificationSent(textDocument, type, params);\n        this._syncedDocuments.delete(textDocument.uri.toString());\n    }\n    unregister(id) {\n        const selector = this._selectors.get(id);\n        // The super call removed the selector from the map\n        // of selectors.\n        super.unregister(id);\n        const selectors = this._selectors.values();\n        this._syncedDocuments.forEach((textDocument) => {\n            if (vscode_1.languages.match(selector, textDocument) > 0 && !this._selectorFilter(selectors, textDocument) && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                let middleware = this._client.middleware;\n                let didClose = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                this._syncedDocuments.delete(textDocument.uri.toString());\n                (middleware.didClose ? middleware.didClose(textDocument, didClose) : didClose(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n            }\n        });\n    }\n}\nexports.DidCloseTextDocumentFeature = DidCloseTextDocumentFeature;\nclass DidChangeTextDocumentFeature extends features_1.DynamicDocumentFeature {\n    constructor(client) {\n        super(client);\n        this._forcingDelivery = false;\n        this._changeData = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== undefined && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\n        }\n        this._changeData.set(data.id, {\n            syncKind: data.registerOptions.syncKind,\n            documentSelector: this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector),\n        });\n    }\n    *getDocumentSelectors() {\n        for (const data of this._changeData.values()) {\n            yield data.documentSelector;\n        }\n    }\n    async callback(event) {\n        // Text document changes are send for dirty changes as well. We don't\n        // have dirty / un-dirty events in the LSP so we ignore content changes\n        // with length zero.\n        if (event.contentChanges.length === 0) {\n            return;\n        }\n        const promises = [];\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, event.document) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n                const middleware = this._client.middleware;\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\n                    const didChange = async (event) => {\n                        const params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\n                        await this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                        this.notificationSent(event, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    const didChange = async (event) => {\n                        const doSend = async (event) => {\n                            const params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document);\n                            await this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                            this.notificationSent(event, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                        };\n                        if (this._changeDelayer) {\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\n                                this.forceDelivery();\n                                this._changeDelayer.uri = event.document.uri.toString();\n                            }\n                            return this._changeDelayer.delayer.trigger(() => doSend(event));\n                        }\n                        else {\n                            this._changeDelayer = {\n                                uri: event.document.uri.toString(),\n                                delayer: new async_1.Delayer(200)\n                            };\n                            return this._changeDelayer.delayer.trigger(() => doSend(event), -1);\n                        }\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n            }\n        }\n        return Promise.all(promises).then(undefined, (error) => {\n            this._client.error(`Sending document notification ${vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method} failed`, error);\n            throw error;\n        });\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    notificationSent(changeEvent, type, params) {\n        this._onNotificationSent.fire({ original: changeEvent, type, params });\n    }\n    unregister(id) {\n        this._changeData.delete(id);\n        if (this._changeData.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        if (this._changeDelayer !== undefined) {\n            this._changeDelayer.delayer.cancel();\n        }\n        this._changeDelayer = undefined;\n        this._forcingDelivery = false;\n        this._changeData.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    forceDelivery() {\n        if (this._forcingDelivery || !this._changeDelayer) {\n            return;\n        }\n        try {\n            this._forcingDelivery = true;\n            this._changeDelayer.delayer.forceDelivery();\n        }\n        finally {\n            this._forcingDelivery = false;\n        }\n    }\n    getProvider(document) {\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, document) > 0) {\n                return {\n                    send: (event) => {\n                        return this.callback(event);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nexports.DidChangeTextDocumentFeature = DidChangeTextDocumentFeature;\nclass WillSaveFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, () => client.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (event) => event.document, (selectors, willSaveEvent) => features_1.TextDocumentEventFeature.textDocumentFilter(selectors, willSaveEvent.document));\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n}\nexports.WillSaveFeature = WillSaveFeature;\nclass WillSaveWaitUntilFeature extends features_1.DynamicDocumentFeature {\n    constructor(client) {\n        super(client);\n        this._selectors = new Map();\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSaveWaitUntil = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    callback(event) {\n        if (features_1.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(), event.document) && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n            let middleware = this._client.middleware;\n            let willSaveWaitUntil = (event) => {\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then(async (edits) => {\n                    let vEdits = await this._client.protocol2CodeConverter.asTextEdits(edits);\n                    return vEdits === undefined ? [] : vEdits;\n                });\n            };\n            event.waitUntil(middleware.willSaveWaitUntil\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\n                : willSaveWaitUntil(event));\n        }\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n}\nexports.WillSaveWaitUntilFeature = WillSaveWaitUntilFeature;\nclass DidSaveTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, () => client.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._includeText = false;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').didSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\n            const saveOptions = typeof textDocumentSyncOptions.save === 'boolean'\n                ? { includeText: false }\n                : { includeText: !!textDocumentSyncOptions.save.includeText };\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, saveOptions)\n            });\n        }\n    }\n    register(data) {\n        this._includeText = !!data.registerOptions.includeText;\n        super.register(data);\n    }\n}\nexports.DidSaveTextDocumentFeature = DidSaveTextDocumentFeature;\n//# sourceMappingURL=textSynchronization.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeDefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\n        let typeDefinitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition');\n        typeDefinitionSupport.dynamicRegistration = true;\n        typeDefinitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideTypeDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideTypeDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideTypeDefinition\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\n                    : provideTypeDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\n//# sourceMappingURL=typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareTypeHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareTypeHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareTypeHierarchy\n            ? middleware.prepareTypeHierarchy(document, position, token, prepareTypeHierarchy)\n            : prepareTypeHierarchy(document, position, token);\n    }\n    provideTypeHierarchySupertypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySupertypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySupertypes\n            ? middleware.provideTypeHierarchySupertypes(item, token, provideTypeHierarchySupertypes)\n            : provideTypeHierarchySupertypes(item, token);\n    }\n    provideTypeHierarchySubtypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySubtypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySubtypes\n            ? middleware.provideTypeHierarchySubtypes(item, token, provideTypeHierarchySubtypes)\n            : provideTypeHierarchySubtypes(item, token);\n    }\n}\nclass TypeHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.typeHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new TypeHierarchyProvider(client);\n        return [vscode_1.languages.registerTypeHierarchyProvider(client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n//# sourceMappingURL=typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forEach = exports.mapAsync = exports.map = exports.Semaphore = exports.Delayer = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass Delayer {\n    constructor(defaultDelay) {\n        this.defaultDelay = defaultDelay;\n        this.timeout = undefined;\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n    }\n    trigger(task, delay = this.defaultDelay) {\n        this.task = task;\n        if (delay >= 0) {\n            this.cancelTimeout();\n        }\n        if (!this.completionPromise) {\n            this.completionPromise = new Promise((resolve) => {\n                this.onSuccess = resolve;\n            }).then(() => {\n                this.completionPromise = undefined;\n                this.onSuccess = undefined;\n                var result = this.task();\n                this.task = undefined;\n                return result;\n            });\n        }\n        if (delay >= 0 || this.timeout === void 0) {\n            this.timeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.timeout = undefined;\n                this.onSuccess(undefined);\n            }, delay >= 0 ? delay : this.defaultDelay);\n        }\n        return this.completionPromise;\n    }\n    forceDelivery() {\n        if (!this.completionPromise) {\n            return undefined;\n        }\n        this.cancelTimeout();\n        let result = this.task();\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n        return result;\n    }\n    isTriggered() {\n        return this.timeout !== undefined;\n    }\n    cancel() {\n        this.cancelTimeout();\n        this.completionPromise = undefined;\n    }\n    cancelTimeout() {\n        if (this.timeout !== undefined) {\n            this.timeout.dispose();\n            this.timeout = undefined;\n        }\n    }\n}\nexports.Delayer = Delayer;\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\nconst defaultYieldTimeout = 15 /*ms*/;\nclass Timer {\n    constructor(yieldAfter = defaultYieldTimeout) {\n        this.yieldAfter = Math.max(yieldAfter, defaultYieldTimeout);\n        this.startTime = Date.now();\n        this.counter = 0;\n        this.total = 0;\n        // start with a counter interval of 1.\n        this.counterInterval = 1;\n    }\n    start() {\n        this.startTime = Date.now();\n    }\n    shouldYield() {\n        if (++this.counter >= this.counterInterval) {\n            const timeTaken = Date.now() - this.startTime;\n            const timeLeft = Math.max(0, this.yieldAfter - timeTaken);\n            this.total += this.counter;\n            this.counter = 0;\n            if (timeTaken >= this.yieldAfter || timeLeft <= 1) {\n                // Yield also if time left <= 1 since we compute the counter\n                // for max < 2 ms.\n                // Start with interval 1 again. We could do some calculation\n                // with using 80% of the last counter however other things (GC)\n                // affect the timing heavily since we have small timings (1 - 15ms).\n                this.counterInterval = 1;\n                this.total = 0;\n                return true;\n            }\n            else {\n                // Only increase the counter until we have spent <= 2 ms. Increasing\n                // the counter further is very fragile since timing is influenced\n                // by other things and can increase the counter too much. This will result\n                // that we yield in average after [14 - 16]ms.\n                switch (timeTaken) {\n                    case 0:\n                    case 1:\n                        this.counterInterval = this.total * 2;\n                        break;\n                }\n            }\n        }\n        return false;\n    }\n}\nasync function map(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.map = map;\nasync function mapAsync(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    async function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = await func(items[i], token);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    let index = await convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.mapAsync = mapAsync;\nasync function forEach(items, func, token, options) {\n    if (items.length === 0) {\n        return;\n    }\n    const timer = new Timer(options?.yieldAfter);\n    function runBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = runBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(runBatch(index));\n            });\n        });\n    }\n}\nexports.forEach = forEach;\n//# sourceMappingURL=async.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asPromise = exports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\nfunction asPromise(value) {\n    if (value instanceof Promise) {\n        return value;\n    }\n    else if (thenable(value)) {\n        return new Promise((resolve, reject) => {\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\n        });\n    }\n    else {\n        return Promise.resolve(value);\n    }\n}\nexports.asPromise = asPromise;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = exports.arrayDiff = void 0;\nconst UUID = require(\"./utils/uuid\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nfunction access(target, key) {\n    if (target === void 0) {\n        return undefined;\n    }\n    return target[key];\n}\nfunction arrayDiff(left, right) {\n    return left.filter(element => right.indexOf(element) < 0);\n}\nexports.arrayDiff = arrayDiff;\nclass WorkspaceFoldersFeature {\n    constructor(client) {\n        this._client = client;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\n    }\n    fillInitializeParams(params) {\n        const folders = vscode_1.workspace.workspaceFolders;\n        this.initializeWithFolders(folders);\n        if (folders === void 0) {\n            params.workspaceFolders = null;\n        }\n        else {\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\n        }\n    }\n    initializeWithFolders(currentWorkspaceFolders) {\n        this._initialFolders = currentWorkspaceFolders;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.workspaceFolders = true;\n    }\n    initialize(capabilities) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\n            const workspaceFolders = () => {\n                const folders = vscode_1.workspace.workspaceFolders;\n                if (folders === undefined) {\n                    return null;\n                }\n                const result = folders.map((folder) => {\n                    return this.asProtocol(folder);\n                });\n                return result;\n            };\n            const middleware = client.middleware.workspace;\n            return middleware && middleware.workspaceFolders\n                ? middleware.workspaceFolders(token, workspaceFolders)\n                : workspaceFolders(token);\n        });\n        const value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\n        let id;\n        if (typeof value === 'string') {\n            id = value;\n        }\n        else if (value === true) {\n            id = UUID.generateUuid();\n        }\n        if (id) {\n            this.register({ id: id, registerOptions: undefined });\n        }\n    }\n    sendInitialEvent(currentWorkspaceFolders) {\n        let promise;\n        if (this._initialFolders && currentWorkspaceFolders) {\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\n            if (added.length > 0 || removed.length > 0) {\n                promise = this.doSendEvent(added, removed);\n            }\n        }\n        else if (this._initialFolders) {\n            promise = this.doSendEvent([], this._initialFolders);\n        }\n        else if (currentWorkspaceFolders) {\n            promise = this.doSendEvent(currentWorkspaceFolders, []);\n        }\n        if (promise !== undefined) {\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        }\n    }\n    doSendEvent(addedFolders, removedFolders) {\n        let params = {\n            event: {\n                added: addedFolders.map(folder => this.asProtocol(folder)),\n                removed: removedFolders.map(folder => this.asProtocol(folder))\n            }\n        };\n        return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\n    }\n    register(data) {\n        let id = data.id;\n        let client = this._client;\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\n            let didChangeWorkspaceFolders = (event) => {\n                return this.doSendEvent(event.added, event.removed);\n            };\n            let middleware = client.middleware.workspace;\n            const promise = middleware && middleware.didChangeWorkspaceFolders\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\n                : didChangeWorkspaceFolders(event);\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        });\n        this._listeners.set(id, disposable);\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable === void 0) {\n            return;\n        }\n        this._listeners.delete(id);\n        disposable.dispose();\n    }\n    dispose() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    asProtocol(workspaceFolder) {\n        if (workspaceFolder === void 0) {\n            return null;\n        }\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\n    }\n}\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolder.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst UUID = require(\"./utils/uuid\");\nclass WorkspaceSymbolFeature extends features_1.WorkspaceFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'symbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: documentSymbol_1.SupportedSymbolKinds\n        };\n        symbolCapabilities.tagSupport = {\n            valueSet: documentSymbol_1.SupportedSymbolTags\n        };\n        symbolCapabilities.resolveSupport = { properties: ['location.range'] };\n    }\n    initialize(capabilities) {\n        if (!capabilities.workspaceSymbolProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideWorkspaceSymbols: (query, token) => {\n                const client = this._client;\n                const provideWorkspaceSymbols = (query, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSymbolInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideWorkspaceSymbols\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\n                    : provideWorkspaceSymbols(query, token);\n            },\n            resolveWorkspaceSymbol: options.resolveProvider === true\n                ? (item, token) => {\n                    const client = this._client;\n                    const resolveWorkspaceSymbol = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, client.code2ProtocolConverter.asWorkspaceSymbol(item), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSymbolInformation(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, token, error, null);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveWorkspaceSymbol\n                        ? middleware.resolveWorkspaceSymbol(item, token, resolveWorkspaceSymbol)\n                        : resolveWorkspaceSymbol(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\n    }\n}\nexports.WorkspaceSymbolFeature = WorkspaceSymbolFeature;\n//# sourceMappingURL=workspaceSymbol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingMonitor = exports.LanguageClient = exports.TransportKind = void 0;\nconst cp = require(\"child_process\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst SemVer = require(\"semver\");\nconst vscode_1 = require(\"vscode\");\nconst Is = require(\"../common/utils/is\");\nconst client_1 = require(\"../common/client\");\nconst processes_1 = require(\"./processes\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nconst REQUIRED_VSCODE_VERSION = '^1.67.0'; // do not change format, updated by `updateVSCode` script\nvar TransportKind;\n(function (TransportKind) {\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\n})(TransportKind = exports.TransportKind || (exports.TransportKind = {}));\nvar Transport;\n(function (Transport) {\n    function isSocket(value) {\n        const candidate = value;\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\n    }\n    Transport.isSocket = isSocket;\n})(Transport || (Transport = {}));\nvar Executable;\n(function (Executable) {\n    function is(value) {\n        return Is.string(value.command);\n    }\n    Executable.is = is;\n})(Executable || (Executable = {}));\nvar NodeModule;\n(function (NodeModule) {\n    function is(value) {\n        return Is.string(value.module);\n    }\n    NodeModule.is = is;\n})(NodeModule || (NodeModule = {}));\nvar StreamInfo;\n(function (StreamInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.writer !== undefined && candidate.reader !== undefined;\n    }\n    StreamInfo.is = is;\n})(StreamInfo || (StreamInfo = {}));\nvar ChildProcessInfo;\n(function (ChildProcessInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.process !== undefined && typeof candidate.detached === 'boolean';\n    }\n    ChildProcessInfo.is = is;\n})(ChildProcessInfo || (ChildProcessInfo = {}));\nclass LanguageClient extends client_1.BaseLanguageClient {\n    constructor(arg1, arg2, arg3, arg4, arg5) {\n        let id;\n        let name;\n        let serverOptions;\n        let clientOptions;\n        let forceDebug;\n        if (Is.string(arg2)) {\n            id = arg1;\n            name = arg2;\n            serverOptions = arg3;\n            clientOptions = arg4;\n            forceDebug = !!arg5;\n        }\n        else {\n            id = arg1.toLowerCase();\n            name = arg1;\n            serverOptions = arg2;\n            clientOptions = arg3;\n            forceDebug = arg4;\n        }\n        if (forceDebug === undefined) {\n            forceDebug = false;\n        }\n        super(id, name, clientOptions);\n        this._serverOptions = serverOptions;\n        this._forceDebug = forceDebug;\n        this._isInDebugMode = forceDebug;\n        try {\n            this.checkVersion();\n        }\n        catch (error) {\n            if (Is.string(error.message)) {\n                this.outputChannel.appendLine(error.message);\n            }\n            throw error;\n        }\n    }\n    checkVersion() {\n        const codeVersion = SemVer.parse(vscode_1.version);\n        if (!codeVersion) {\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\n        }\n        // Remove the insider pre-release since we stay API compatible.\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\n            codeVersion.prerelease = [];\n        }\n        if (!SemVer.satisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\n        }\n    }\n    get isInDebugMode() {\n        return this._isInDebugMode;\n    }\n    async restart() {\n        await this.stop();\n        // We are in debug mode. Wait a little before we restart\n        // so that the debug port can be freed. We can safely ignore\n        // the disposable returned from start since it will call\n        // stop on the same client instance.\n        if (this.isInDebugMode) {\n            await new Promise((resolve) => setTimeout(resolve, 1000));\n            await this.start();\n        }\n        else {\n            await this.start();\n        }\n    }\n    stop(timeout = 2000) {\n        return super.stop(timeout).finally(() => {\n            if (this._serverProcess) {\n                const toCheck = this._serverProcess;\n                this._serverProcess = undefined;\n                if (this._isDetached === undefined || !this._isDetached) {\n                    this.checkProcessDied(toCheck);\n                }\n                this._isDetached = undefined;\n            }\n        });\n    }\n    checkProcessDied(childProcess) {\n        if (!childProcess || childProcess.pid === undefined) {\n            return;\n        }\n        setTimeout(() => {\n            // Test if the process is still alive. Throws an exception if not\n            try {\n                if (childProcess.pid !== undefined) {\n                    process.kill(childProcess.pid, 0);\n                    (0, processes_1.terminate)(childProcess);\n                }\n            }\n            catch (error) {\n                // All is fine.\n            }\n        }, 2000);\n    }\n    handleConnectionClosed() {\n        this._serverProcess = undefined;\n        super.handleConnectionClosed();\n    }\n    fillInitializeParams(params) {\n        super.fillInitializeParams(params);\n        if (params.processId === null) {\n            params.processId = process.pid;\n        }\n    }\n    createMessageTransports(encoding) {\n        function getEnvironment(env, fork) {\n            if (!env && !fork) {\n                return undefined;\n            }\n            const result = Object.create(null);\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\n            if (fork) {\n                result['ELECTRON_RUN_AS_NODE'] = '1';\n                result['ELECTRON_NO_ASAR'] = '1';\n            }\n            if (env) {\n                Object.keys(env).forEach(key => result[key] = env[key]);\n            }\n            return result;\n        }\n        const debugStartWith = ['--debug=', '--debug-brk=', '--inspect=', '--inspect-brk='];\n        const debugEquals = ['--debug', '--debug-brk', '--inspect', '--inspect-brk'];\n        function startedInDebugMode() {\n            let args = process.execArgv;\n            if (args) {\n                return args.some((arg) => {\n                    return debugStartWith.some(value => arg.startsWith(value)) ||\n                        debugEquals.some(value => arg === value);\n                });\n            }\n            return false;\n        }\n        function assertStdio(process) {\n            if (process.stdin === null || process.stdout === null || process.stderr === null) {\n                throw new Error('Process created without stdio streams');\n            }\n        }\n        const server = this._serverOptions;\n        // We got a function.\n        if (Is.func(server)) {\n            return server().then((result) => {\n                if (client_1.MessageTransports.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return result;\n                }\n                else if (StreamInfo.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return { reader: new node_1.StreamMessageReader(result.reader), writer: new node_1.StreamMessageWriter(result.writer) };\n                }\n                else {\n                    let cp;\n                    if (ChildProcessInfo.is(result)) {\n                        cp = result.process;\n                        this._isDetached = result.detached;\n                    }\n                    else {\n                        cp = result;\n                        this._isDetached = false;\n                    }\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    return { reader: new node_1.StreamMessageReader(cp.stdout), writer: new node_1.StreamMessageWriter(cp.stdin) };\n                }\n            });\n        }\n        let json;\n        let runDebug = server;\n        if (runDebug.run || runDebug.debug) {\n            if (this._forceDebug || startedInDebugMode()) {\n                json = runDebug.debug;\n                this._isInDebugMode = true;\n            }\n            else {\n                json = runDebug.run;\n                this._isInDebugMode = false;\n            }\n        }\n        else {\n            json = server;\n        }\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\n            if (NodeModule.is(json) && json.module) {\n                let node = json;\n                let transport = node.transport || TransportKind.stdio;\n                if (node.runtime) {\n                    const args = [];\n                    const options = node.options ?? Object.create(null);\n                    if (options.execArgv) {\n                        options.execArgv.forEach(element => args.push(element));\n                    }\n                    args.push(node.module);\n                    if (node.args) {\n                        node.args.forEach(element => args.push(element));\n                    }\n                    const execOptions = Object.create(null);\n                    execOptions.cwd = serverWorkingDir;\n                    execOptions.env = getEnvironment(options.env, false);\n                    const runtime = this._getRuntimePath(node.runtime, serverWorkingDir);\n                    let pipeName = undefined;\n                    if (transport === TransportKind.ipc) {\n                        // exec options not correctly typed in lib\n                        execOptions.stdio = [null, null, null, 'ipc'];\n                        args.push('--node-ipc');\n                    }\n                    else if (transport === TransportKind.stdio) {\n                        args.push('--stdio');\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        pipeName = (0, node_1.generateRandomPipeName)();\n                        args.push(`--pipe=${pipeName}`);\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        args.push(`--socket=${transport.port}`);\n                    }\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                        const serverProcess = cp.spawn(runtime, args, execOptions);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using runtime ${runtime} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        if (transport === TransportKind.ipc) {\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return Promise.resolve({ reader: new node_1.IPCMessageReader(serverProcess), writer: new node_1.IPCMessageWriter(serverProcess) });\n                        }\n                        else {\n                            return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                        }\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                }\n                else {\n                    let pipeName = undefined;\n                    return new Promise((resolve, reject) => {\n                        const args = (node.args && node.args.slice()) ?? [];\n                        if (transport === TransportKind.ipc) {\n                            args.push('--node-ipc');\n                        }\n                        else if (transport === TransportKind.stdio) {\n                            args.push('--stdio');\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            pipeName = (0, node_1.generateRandomPipeName)();\n                            args.push(`--pipe=${pipeName}`);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            args.push(`--socket=${transport.port}`);\n                        }\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\n                        const options = node.options ?? Object.create(null);\n                        options.env = getEnvironment(options.env, true);\n                        options.execArgv = options.execArgv || [];\n                        options.cwd = serverWorkingDir;\n                        options.silent = true;\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                            const sp = cp.fork(node.module, args || [], options);\n                            assertStdio(sp);\n                            this._serverProcess = sp;\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            if (transport === TransportKind.ipc) {\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                resolve({ reader: new node_1.IPCMessageReader(this._serverProcess), writer: new node_1.IPCMessageWriter(this._serverProcess) });\n                            }\n                            else {\n                                resolve({ reader: new node_1.StreamMessageReader(sp.stdout), writer: new node_1.StreamMessageWriter(sp.stdin) });\n                            }\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                    });\n                }\n            }\n            else if (Executable.is(json) && json.command) {\n                const command = json;\n                const args = json.args !== undefined ? json.args.slice(0) : [];\n                let pipeName = undefined;\n                const transport = json.transport;\n                if (transport === TransportKind.stdio) {\n                    args.push('--stdio');\n                }\n                else if (transport === TransportKind.pipe) {\n                    pipeName = (0, node_1.generateRandomPipeName)();\n                    args.push(`--pipe=${pipeName}`);\n                }\n                else if (Transport.isSocket(transport)) {\n                    args.push(`--socket=${transport.port}`);\n                }\n                else if (transport === TransportKind.ipc) {\n                    throw new Error(`Transport kind ipc is not support for command executable`);\n                }\n                const options = Object.assign({}, command.options);\n                options.cwd = options.cwd || serverWorkingDir;\n                if (transport === undefined || transport === TransportKind.stdio) {\n                    const serverProcess = cp.spawn(command.command, args, options);\n                    if (!serverProcess || !serverProcess.pid) {\n                        return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                    }\n                    serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    this._serverProcess = serverProcess;\n                    this._isDetached = !!options.detached;\n                    return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                }\n                else if (transport === TransportKind.pipe) {\n                    return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n                else if (Transport.isSocket(transport)) {\n                    return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n            }\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\n        });\n    }\n    _getRuntimePath(runtime, serverWorkingDirectory) {\n        if (path.isAbsolute(runtime)) {\n            return runtime;\n        }\n        const mainRootPath = this._mainGetRootPath();\n        if (mainRootPath !== undefined) {\n            const result = path.join(mainRootPath, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        if (serverWorkingDirectory !== undefined) {\n            const result = path.join(serverWorkingDirectory, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        return runtime;\n    }\n    _mainGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    _getServerWorkingDir(options) {\n        let cwd = options && options.cwd;\n        if (!cwd) {\n            cwd = this.clientOptions.workspaceFolder\n                ? this.clientOptions.workspaceFolder.uri.fsPath\n                : this._mainGetRootPath();\n        }\n        if (cwd) {\n            // make sure the folder exists otherwise creating the process will fail\n            return new Promise(s => {\n                fs.lstat(cwd, (err, stats) => {\n                    s(!err && stats.isDirectory() ? cwd : undefined);\n                });\n            });\n        }\n        return Promise.resolve(undefined);\n    }\n    getLocale() {\n        const envValue = process.env['VSCODE_NLS_CONFIG'];\n        if (envValue === undefined) {\n            return 'en';\n        }\n        let config = undefined;\n        try {\n            config = JSON.parse(envValue);\n        }\n        catch (err) {\n        }\n        if (config === undefined || typeof config.locale !== 'string') {\n            return 'en';\n        }\n        return config.locale;\n    }\n}\nexports.LanguageClient = LanguageClient;\nclass SettingMonitor {\n    constructor(_client, _setting) {\n        this._client = _client;\n        this._setting = _setting;\n        this._listeners = [];\n    }\n    start() {\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\n        this.onDidChangeConfiguration();\n        return new vscode_1.Disposable(() => {\n            if (this._client.needsStop()) {\n                void this._client.stop();\n            }\n        });\n    }\n    onDidChangeConfiguration() {\n        let index = this._setting.indexOf('.');\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\n        if (enabled && this._client.needsStart()) {\n            this._client.start().catch((error) => this._client.error('Start failed after configuration change', error, 'force'));\n        }\n        else if (!enabled && this._client.needsStop()) {\n            void this._client.stop().catch((error) => this._client.error('Stop failed after configuration change', error, 'force'));\n        }\n    }\n}\nexports.SettingMonitor = SettingMonitor;\nfunction handleChildProcessStartError(process, message) {\n    if (process === null) {\n        return Promise.reject(message);\n    }\n    return new Promise((_, reject) => {\n        process.on('error', (err) => {\n            reject(`${message} ${err}`);\n        });\n        // the error event should always be run immediately,\n        // but race on it just in case\n        setImmediate(() => reject(message));\n    });\n}\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.terminate = void 0;\nconst cp = require(\"child_process\");\nconst path_1 = require(\"path\");\nconst isWindows = (process.platform === 'win32');\nconst isMacintosh = (process.platform === 'darwin');\nconst isLinux = (process.platform === 'linux');\nfunction terminate(process, cwd) {\n    if (isWindows) {\n        try {\n            // This we run in Atom execFileSync is available.\n            // Ignore stderr since this is otherwise piped to parent.stderr\n            // which might be already closed.\n            let options = {\n                stdio: ['pipe', 'pipe', 'ignore']\n            };\n            if (cwd) {\n                options.cwd = cwd;\n            }\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else if (isLinux || isMacintosh) {\n        try {\n            var cmd = (0, path_1.join)(__dirname, 'terminateProcess.sh');\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\n            return result.error ? false : true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else {\n        process.kill('SIGKILL');\n        return true;\n    }\n}\nexports.terminate = terminate;\n//# sourceMappingURL=processes.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false,\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((c) => {\n    return replaceTilde(c, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((c) => {\n    return replaceCaret(c, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((c) => {\n    return replaceXRange(c, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const { MAX_LENGTH } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nmodule.exports = {\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\n  SemVer: require('./classes/semver'),\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\n  parse: require('./functions/parse'),\n  valid: require('./functions/valid'),\n  clean: require('./functions/clean'),\n  inc: require('./functions/inc'),\n  diff: require('./functions/diff'),\n  major: require('./functions/major'),\n  minor: require('./functions/minor'),\n  patch: require('./functions/patch'),\n  prerelease: require('./functions/prerelease'),\n  compare: require('./functions/compare'),\n  rcompare: require('./functions/rcompare'),\n  compareLoose: require('./functions/compare-loose'),\n  compareBuild: require('./functions/compare-build'),\n  sort: require('./functions/sort'),\n  rsort: require('./functions/rsort'),\n  gt: require('./functions/gt'),\n  lt: require('./functions/lt'),\n  eq: require('./functions/eq'),\n  neq: require('./functions/neq'),\n  gte: require('./functions/gte'),\n  lte: require('./functions/lte'),\n  cmp: require('./functions/cmp'),\n  coerce: require('./functions/coerce'),\n  Comparator: require('./classes/comparator'),\n  Range: require('./classes/range'),\n  satisfies: require('./functions/satisfies'),\n  toComparators: require('./ranges/to-comparators'),\n  maxSatisfying: require('./ranges/max-satisfying'),\n  minSatisfying: require('./ranges/min-satisfying'),\n  minVersion: require('./ranges/min-version'),\n  validRange: require('./ranges/valid'),\n  outside: require('./ranges/outside'),\n  gtr: require('./ranges/gtr'),\n  ltr: require('./ranges/ltr'),\n  intersects: require('./ranges/intersects'),\n  simplifyRange: require('./ranges/simplify'),\n  subset: require('./ranges/subset'),\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((o, k) => {\n    o[k] = true\n    return o\n  }, {})\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = [new Comparator('>=0.0.0-0')]\n    } else {\n      sub = [new Comparator('>=0.0.0')]\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = [new Comparator('>=0.0.0')]\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to a incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData = exports.DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind = exports.DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest = exports.DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest = exports.WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest = exports.DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = {}));\n//# sourceMappingURL=protocol.diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type [InlayHintsParams](#InlayHintsParams), the response is of type\n * [InlayHint[]](#InlayHint[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest = exports.InlayHintRequest || (exports.InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for a inlay hint.\n * The request's parameter is of type [InlayHint](#InlayHint), the response is\n * of type [InlayHint](#InlayHint) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest = exports.InlayHintResolveRequest || (exports.InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest = exports.InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlayHint.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type [InlineValueParams](#InlineValueParams), the response is of type\n * [InlineValue[]](#InlineValue[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest = exports.InlineValueRequest || (exports.InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest = exports.InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * [TextDocumentFilter](#TextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter = exports.TextDocumentFilter || (exports.TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * [NotebookDocumentFilter](#NotebookDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter = exports.NotebookDocumentFilter || (exports.NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * [NotebookCellTextDocumentFilter](#NotebookCellTextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter = exports.NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units.\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode code points,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind = exports.PositionEncodingKind || (exports.PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes = exports.InitializeErrorCodes || (exports.InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern = exports.RelativePattern || (exports.RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind = exports.NotebookCellKind || (exports.NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary = exports.ExecutionSummary || (exports.ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell = exports.NotebookCell || (exports.NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument = exports.NotebookDocument || (exports.NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType = exports.NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n})(DidOpenNotebookDocumentNotification = exports.DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange = exports.NotebookCellArrayChange || (exports.NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n})(DidChangeNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n})(DidSaveNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n})(DidCloseNotebookDocumentNotification = exports.DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = {}));\n//# sourceMappingURL=protocol.notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest = exports.TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest = exports.TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest = exports.TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = {}));\n//# sourceMappingURL=protocol.typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolder.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken = exports.ProgressToken || (exports.ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.Message.isRequest(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.Message.isNotification(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.Message.isResponse(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch(() => logger.error(`Sending notification failed.`));\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage).catch(() => logger.error(`Sending request failed.`));\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises.set(id, responsePromise);\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message = exports.Message || (exports.Message = {}));\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * [InlineValueContext](#InlineValueContext) literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InlineValueContext](#InlineValueContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","module.exports = require(\"buffer\");;","module.exports = require(\"child_process\");;","module.exports = require(\"crypto\");;","module.exports = require(\"fs\");;","module.exports = require(\"net\");;","module.exports = require(\"os\");;","module.exports = require(\"path\");;","module.exports = require(\"stream\");;","module.exports = require(\"string_decoder\");;","module.exports = require(\"util\");;","module.exports = require(\"vscode\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as vscode from 'vscode';\nimport * as path from 'path';\nimport * as net from 'net';\nimport * as opn from \"open\";\nconst fp = require('find-free-port');\nconst psTree = require('ps-tree');\nimport * as cp from 'child_process';\nimport { \n\tBaseLanguageClient,\n\tLanguageClientOptions,\n    NotificationType } from 'vscode-languageclient';\nimport { EEXIST } from 'constants';\nconst fs = require('fs')\n\nlet outputChannel = vscode.window.createOutputChannel('wolf-lsp');\nlet context:vscode.ExtensionContext;\n\nimport {startLanguageServer, stop} from './clients'\nimport { kill } from 'process';\n// let kernelStatusBar:vscode.StatusBarItem = vscode.window.createStatusBarItem(vscode.StatusBarAlignment.Left);\n\n// function retry(fn:any, retries=5, err=null) {\n//     if (!retries) {\n//         return Promise.reject(err);\n//     }\n//     return fn().catch((err:any) => {\n//         return retry(fn, (retries - 1), err);\n//     });\n// }\n\nexport function activate(context0: vscode.ExtensionContext){\n    context = context0;\n    let lspPath = context.asAbsolutePath(path.join('wolfram', 'wolfram-lsp.wl'));\n    let kernelPath = context.asAbsolutePath(path.join('wolfram', 'wolfram-kernel.wl'));\n\n    startLanguageServer(context, outputChannel)\n    vscode.workspace.onWillSaveTextDocument(willsaveDocument) \n\n}\n\n\nfunction willsaveDocument(event:vscode.TextDocumentWillSaveEvent) {\n    if(event.document.fileName.endsWith(\".nb\")) {\n        \n    }\n}\n\nexport function deactivate() {\n    console.log(\"deactivate\");\n    stop()// if (kernelStatusBar) {\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"sourceRoot":""}